
22505-80001 - HP1331C STORAGE SCOPE RTE DRIVER DVR47
22506-80001 - HP1331C STORAGE DRIVER LIBRARY

Source files:
22505-80001_Rev-A_HP1331C_STORAGE_SCOPE_DRIVER_FOR_RTE_DVR47.src
22506-80001_Rev-A_HP1331C_STORAGE_LIB_RTE_CHAR.src.txt
22506-80001_Rev-A_HP1331C_STORAGE_LIB_RTE_ERASE.src.txt
22506-80001_Rev-A_HP1331C_STORAGE_LIB_RTE_LINES.src.txt
22506-80001_Rev-A_HP1331C_STORAGE_LIB_RTE_POINT.src.txt
22506-80001_Rev-A_HP1331C_STORAGE_LIB_RTE_PSUSP.src.txt

Binary files:
22505-80001_Rev-A_HP1331C_STORAGE_SCOPE_DRIVER_FOR_RTE_DVR47.rel
22506-80001_Rev-A_HP1331C_STORAGE_LIB.rel

Added SCOPE LIBRARY FUNCTIONS (Roberto Sancho, Apr/2017)

   CALL PSET(LU, IX,IY)

      Displays a point on the screen.

         LU = LOGICAL UNIT NUMBER OF SCOPE
         IX, IY = COORDINATES OF POINT 

   CALL CHARS(LU,IX,IY,IASC)

      To be called from BASIC. Displays a string

         LU = LOGICAL UNIT NUMBER OF SCOPE
         IX,IY = COORDINATES OF UPPER LEFT POINT OF FIRST CHAR
         IASC = BASIC LITERAL OR STRING VARIABLE ADDR

Original author: WIM ROELANDTS, HP BRU 

   CALL CHAR(LU,IX,IY,IASC,N)

      SUBROUTINE TO OUTPUT CHARACTERS ON A 1331C STORAGE SCOPE. 

         LU = LOGICAL UNIT NUMBER OF SCOPE
         IX,IY = COORDINATES OF UPPER LEFT POINT OF FIRST CHAR
         IASC = ADDRESS OF ASCII BUFFER 
         N = NUMBER OF CHARACTERS : 
             IF > 0 : OUTPUT N CHARS + CR/LF
                = 0 : OUTPUT CR/LF ONLY 
                < 0 : OUTPUT N CHARS (WITHOUT CR/LF)

      WHEN No ROOM FOR MORE CHARS IN SCREEN, THE SCREEN WILL BE 
      ERASED AUTOMATICALY. 

      FOR RTE-B IT IS ASSEMBLED WITHOUT END OF PAGE SCREEN ERASE

   CALL WHERE(IX,IY) 

      SUBROUTINE TO ASK WHERE NEXT CHARACTER WILL BE DISPLAYED. 

         IX,IY = COORDINATES OF NEXT CHARACTER

   CALL ERASE(LU) 

      SUBROUTINE TO ERASE THE STORAGE OSCILLOSCOPE
      1331C. THE ERASE IS DONE, AND THEN THE PROGRAM IS
      SUSPENDED DURING 1 SECOND. THE SUBROUTINE CHECKS IF THE
      PROGRAM WAS IN THE TIME LIST, AND THEN THE OLD TIME VALUES 
      ARE REPLACED.

      FOR RTE-B IT IS ASSEMBLED WITHOUT SUSPENSION

         LU = LOGICAL UNIT NUMBER OF SCOPE.


   CALL LINES(LU,IX1,IY1,IX2,IY2)

      SUBROUTINE TO OUTPUT A LINE ON THE STORAGE SCOPE HP 1331C.
      A LINE WILL BE DRAWN BETWEEN THE 2 POINTS. 

         LU = LOGICAL UNIT NUMBER OF SCOPE.
         IX1,IY1 = COORDINATES OF FIRST POINT. 
         IX2,IY2 = COORDINATES OF SECOND POINT.


   CALL POINT(LU,IX,IY,INUM)

      THIS SUBROUTINE WILL OUTPUT A NUMBER OF POINTS
      ON A STORAGE OSCILLOSCOPE HP 1331C. THE COORDINATES ARE
      GIVEN IN TWO ARRAYS, AND MUST BE INTEGER. THE COORDINATES
      ARE SIMPLY TRUNCATED TO 8 BITS, AND NO CHECK IS DONE.

         LU = LOGICAL UNIT NUMBER OF SCOPE.
         IX = BUFFER WHICH CONTAINS THE X-COORDINATES
         IY = BUFFER WHICH CONTAINS THE Y-COORDINATES
         INUM = NUMBER OF POINTS.


   CALL PSUSP(IRES,IMUL) 

      WITH THIS SUBROUTINE YOU CAN SUSPEND A PROGRAM FOR
      A CERTAIN TIME. THE SUBROUTINE CHECKS IF THE PROGRAM 
      WAS IN THE TIME LIST, AND IN THIS CASE THE OLD TIME
      VALUES ARE RESTORED. IF THE CURRENT TIME IS LARGER 
      THAN THE OLD VALUES, THE SUBROUTINE MAKES THE
      NESSESARY CORRECTIONS (ADDS THE MULTIPLE) UNTIL
      THE NEXT TIME IS LARGER THAN THE CURRENT TIME. 
      CALLING SEQUENCE :

         IRES = TIME RESOLUTION : 1 = 10 MS
                                  2 = SECONDS   ETC...
         IMUL = MULTIPLE 0-999 

      NO NOT USE ON RTE-B. IT GENERATES ERR-RQ AS EXEC
      REQUEST 11 FOR GET CURRENT TIME IS NOT IMPLEMENTED
      IN RTE-B
