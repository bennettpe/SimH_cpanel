ASMB,B,R,L
      HED J.PUT 
*     NAME:   J.PUT 
*     SOURCE: 92002-18006 
*     RELOC:  92002-16006 - %BMLIB BATCH MONITOR LIB  
*     PGMR:   G.A.A.
* 
*  ***************************************************************
*  * (C) COPYRIGHT HEWLETT-PACKARD COMPANY 1975.  ALL RIGHTS     *
*  * RESERVED.  NO PART OF THIS PROGRAM MAY BE PHOTOCOPIED,      *
*  * REPRODUCED OR TRANSLATED TO ANOTHER PROGRAM LANGUAGE WITHOUT*
*  * THE PRIOR WRITTEN CONSENT OF HEWLETT-PACKARD COMPANY.       *
*  ***************************************************************
* 
      NAM J.PUT,8 92002-16006  740801 
      ENT J.PUT 
      EXT $LIBR,$LIBX 
      EXT .ENTR 
* 
*     J.PUT IS CALLED TO REQUEST A TRACK FOR THE FMGR 
* 
*     THE CALL IS:
* 
*     CALL J.PUT(TAT1,CD,ER)
* 
*     W H E R E:
* 
*     TATA1   IS THE ADDRESS OF THE TAT WORD FOR THE DESIRED TRACK
*     CD      IS THE CODE TO BE SET IN THE TAT. 
*     ER      IS 0 IF SUCCESSFUL OR NON-ZERO IF NOT.
* 
*     IF THE ERROR RETURN IS MADE NO TRACK WILL BE ASSIGNED.
* 
* 
TATA1 NOP 
CD    NOP 
ER    NOP 
JPUT  NOP 
      JSB .ENTR     DO ENTRY
      DEF TATA1 
      JSB $LIBR     INHIBIT CHANGES 
      NOP           WHILE WE WORK 
      LDB TATA1,I   GET HIGH END OF TAT 
NEX   LDA B,I       GET CURRENT ASSIGNMENT
      SZA           IF AVAILABLE
      CPA GLOBL     OR GLOBAL 
      CCA,RSS       SKIP A _ -1 
      JMP EXIT      ELSE ERROR RETURN 
      LDA CD,I      GET THE DESIRED CODE
      STA B,I       SET IN TAT
EXIT1 CLB           SET B FOR GOOD ASSIGNMENT 
EXIT  STB ER,I      IT IS TRACK ON LU3 - SO SET IT
      JSB $LIBX     EXIT
      DEF JPUT      TO CALLER 
      SPC 2 
GLOBL OCT 77776 
      SPC 2 
J.PUT EQU JPUT
A     EQU 0 
B     EQU 1 
      SPC 1 
ENQ   EQU * 
      SPC 1 
      END 
