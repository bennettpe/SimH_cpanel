                  *
                  * Resident part of CP68
                  * Configured for ICOM Disk Drive
                  * Disassembled from S19 binary listing on 
                  * CP68-An_M6800_Operating_System_1979_Jack_Hemmenway_and_Robert_Grappel.pdf
                  * pages 206-208
                  *

                  * COLDSTART ENTRY TO THIS LOCATION

0100:	7E 07C1         JMP  CLDST   JUMP TO CP/68 COLD START 

                  *
                  * SWIHDR SWI INPUT TO CP/68
                  * THIS IS THE ONLY ENTRY POINT TO BIOS
                  *
                  *
0103:	30       SWIHDR TSX            SWI INPUT TO CP/68 **troff
0104:	EE 05           LDX   5,X      PT TO REQUEST CODE
0106:	4F              CLR A
0107:	E6 00           LDA B 0,X      GET REQUEST CODE
0109:	C1 35           CMP B #$35     VALID RC?
010B:	23 03           BLS   *+5      YES
010D:	7E E113         JMP   $E113    NO
0110:	58              ASL B        
0111:	49              ROL A
                  *
                  *
                  * CALCULATE THE ADDRESS OF THE
                  * APPROPRIATE PROCESSING ROUTINE
                  *
0112:	8D 00           BSR  START
0114:	30       START  TSX 
0115:	EB 01           ADD B 1,X
0117:	A9 00           ADC A 0,X
0119:	CB 40           ADD B #$40
011B:	89 03           ADC A #$03
011D:	A7 00           STA A 0,X
011F:	E7 01           STA B 1,X
0121:	EE 00           LDX  0,X
0123:	EB 01           ADD B 1,X
0125:	A9 00           ADC A 0,X
0127:	30              TSX 
0128:	A7 00           STA A 0,X
012A:	E7 01           STA B 1,X
012C:	A6 02           LDA A 2,X
012E:	06              TAP 
012F:	EE 00           LDX   0,X
0131:	31              INS 
0132:	31              INS 
0133:	AD 00           JSR X 0,X      CALL PROCESSING ROUTINE
0135:	30              TSX 
0136:	6C 06           INC  6,X
0138:	26 02           BNE  *+4
013A:	6C 05           INC  5,X
013C:	3B              RTI            RETURN TO USER **tron
  
                                       PROCESSING ROUTINES
                  *
013D:	34       PSHAL  DES            PSHALL: PUSH ALL REGISTERS
013E:	34              DES 
013F:	34              DES 
0140:	34              DES 
0141:	34              DES 
0142:	C6 09           LDAB #$09
0144:	30              TSX 
0145:	A6 05           LDAA 5,X
0147:	A7 00           STAA 0,X
0149:	08              INX 
014A:	5A              DECB
014B:	26 F8           BNE  $0145
014D:	C6 05           LDAB #$05
014F:	30              TSX 
0150:	A6 02           LDAA 2,X
0152:	A7 09           STAA 9,X
0154:	08              INX 
0155:	5A              DECB
0156:	26 F8           BNE  $0150
0158:	39              RTS 

0159:	30       PULAL  TSX            PULALL: PULL ALL REGISTERS
015A:	C6 05           LDAB #$05
015C:	A6 09           LDAA 9,X
015E:	A7 02           STAA 2,X
0160:	08              INX 
0161:	5A              DECB
0162:	26 F8           BNE  $015C
0164:	C6 09           LDAB #$09
0166:	A6 03           LDAA 3,X
0168:	A7 08           STAA 8,X
016A:	09              DEX 
016B:	5A              DECB
016C:	26 F8           BNE  $0166
016E:	31              INS 
016F:	31              INS 
0170:	31              INS 
0171:	31              INS 
0172:	31              INS 
0173:	39              RTS 

0174:	30       TXAB   TSX            TXAB: TRANSFER X TO A,B
0175:	A6 05           LDAA 5,X
0177:	E6 06           LDAB 6,X
0179:	A7 04           STAA 4,X
017B:	E7 03           STAB 3,X
017D:	39              RTS 

017E:	30       TABX   TSX            TABX: TRANSFER A,B TO X
017F:	A6 04           LDAA 4,X
0181:	A7 05           STAA 5,X
0183:	A6 03           LDAA 3,X
0185:	A7 06           STAA 6,X
0187:	39              RTS 

0188:	30       XABX   TSX            XABX: EXCHANGE A,B AND X
0189:	A6 05           LDAA 5,X
018B:	36              PSHA
018C:	E6 06           LDAB 6,X
018E:	8D EF           BSR  $017F
0190:	32              PULA
0191:	20 E6           BRA  $0179

0193:	34       PSHX   DES            PSHX: PUSH X
0194:	34              DES 
0195:	30              TSX 
0196:	86 09           LDAA #$09
0198:	E6 02           LDAB 2,X
019A:	E7 00           STAB 0,X
019C:	08              INX 
019D:	4A              DECA
019E:	26 F8           BNE  $0198
01A0:	30              TSX 
01A1:	A6 05           LDAA 5,X
01A3:	A7 09           STAA 9,X
01A5:	A6 06           LDAA 6,X
01A7:	A7 0A           STAA 10,X
01A9:	39              RTS 

01AA:	30       PULX   TSX            PULX: PULL X
01AB:	A6 09           LDAA 9,X
01AD:	A7 05           STAA 5,X
01AF:	A6 0A           LDAA 10,X
01B1:	A7 06           STAA 6,X
01B3:	86 09           LDAA #$09
01B5:	E6 08           LDAB 8,X
01B7:	E7 0A           STAB 10,X
01B9:	09              DEX 
01BA:	4A              DECA
01BB:	26 F8           BNE  $01B5
01BD:	31              INS 
01BE:	31              INS 
01BF:	39              RTS 

01C0:	30       ADXAB  TSX            ADDXAB: ADD X TO A,B 
01C1:	8D C6           BSR  $0189
01C3:	8D 03           BSR  $01C8
01C5:	8D C2           BSR  $0189

01C7:	30       ADABX  TSX            ADDABX: ADD A,B TO X
01C8:	A6 03           LDAA 3,X
01CA:	E6 04           LDAB 4,X
01CC:	AB 06           ADDA 6,X
01CE:	A7 06           STAA 6,X
01D0:	E9 05           ADCB 5,X
01D2:	07              TPA 
01D3:	E7 05           STAB 5,X
01D5:	6D 06           TST  6,X
01D7:	27 02           BEQ  $01DB
01D9:	84 FB           ANDA #$FB
01DB:	A7 02           STAA 2,X
01DD:	39              RTS 

01DE:	30       ADDAX  TSX            ADDAX: ADD A TO X
01DF:	A6 04           LDAA 4,X
01E1:	C6 00           LDAB #$00
01E3:	20 E7           BRA  $01CC

01E5:	30       ADDBX  TSX            ADDBX: ADD B TO X
01E6:	A6 03           LDAA 3,X
01E8:	20 F7           BRA  $01E1

01EA:	30       SBXAB  TSX            SUBXAB: SUBTRACT X FROM A,B
01EB:	8D 9C           BSR  $0189
01ED:	8D 03           BSR  $01F2
01EF:	20 98           BRA  $0189

01F1:	30       SBABX  TSX            SUBABX: SUBTRACT A,B FROM X
01F2:	E6 05           LDAB 5,X
01F4:	A6 06           LDAA 6,X
01F6:	A0 03           SUBA 3,X
01F8:	A7 06           STAA 6,X
01FA:	E2 04           SBCB 4,X
01FC:	20 D4           BRA  $01D2

01FE:	30       SUBAX  TSX            SUBAX: SUBTRACT A FROM X 
01FF:	E6 04           LDAB 4,X
0201:	A6 06           LDAA 6,X
0203:	10              SBA 
0204:	A7 06           STAA 6,X
0206:	E6 05           LDAB 5,X
0208:	C2 00           SBCB #$00
020A:	20 C6           BRA  $01D2

020C:	30       SUBBX  TSX            SUBBX: SUBTRACT B FROM X
020D:	E6 03           LDAB 3,X
020F:	20 F0           BRA  $0201

0211:	8D 38    INDEX  BSR  $024B     INDEX: X:=X+A*B
0213:	37              PSHB
0214:	16              TAB 
0215:	32              PULA
0216:	30              TSX 
0217:	20 B3           BRA  $01CC

0219:	8D 30    MUL8   BSR  $024B     MUL87: A,B=A*B
021B:	30              TSX 
021C:	E7 03           STAB 3,X
021E:	A7 04           STAA 4,X
0220:	07              TPA 
0221:	5D              TSTB
0222:	20 B3           BRA  $01D7

0224:	86 10    MUL16  LDAA #$10      MUL16: A,B,X=A,B*X
0226:	36              PSHA
0227:	30              TSX 
0228:	4F              CLRA
0229:	5F              CLRB
022A:	66 06           ROR  6,X
022C:	66 07           ROR  7,X
022E:	24 04           BCC  $0234
0230:	EB 04           ADDB 4,X
0232:	A9 05           ADCA 5,X
0234:	46              RORA
0235:	56              RORB
0236:	66 06           ROR  6,X
0238:	66 07           ROR  7,X
023A:	6A 00           DEC  0,X
023C:	26 F0           BNE  $022E
023E:	31              INS 
023F:	30              TSX 
0240:	E7 03           STAB 3,X
0242:	A7 04           STAA 4,X
0244:	07              TPA 
0245:	EA 05           ORAB 5,X
0247:	AA 06           ORAA 6,X
0249:	20 D7           BRA  $0222
024B:	86 08           LDAA #$08
024D:	36              PSHA
024E:	4F              CLRA
024F:	30              TSX 
0250:	E6 06           LDAB 6,X
0252:	56              RORB
0253:	24 02           BCC  $0257
0255:	AB 07           ADDA 7,X
0257:	46              RORA
0258:	56              RORB
0259:	6A 00           DEC  0,X
025B:	26 F6           BNE  $0253
025D:	31              INS 
025E:	39              RTS 

025F:	30       DIV16  TSX            DIV16: UNSIGNET 16BIT DIV A,B / X. A,B=QUOT. X=REMAINDER
0260:	A6 04           LDAA 4,X
0262:	E6 03           LDAB 3,X
0264:	EE 05           LDX  5,X
0266:	37              PSHB
0267:	36              PSHA
0268:	3F 05           SWI PSHX
026A:	34              DES 
026B:	30              TSX 
026C:	86 01           LDAA #$01
026E:	6D 01           TST  1,X
0270:	2B 0B           BMI  $027D
0272:	4C              INCA
0273:	68 02           ASL  2,X
0275:	69 01           ROL  1,X
0277:	2B 04           BMI  $027D
0279:	81 11           CMPA #$11
027B:	26 F5           BNE  $0272
027D:	A7 00           STAA 0,X
027F:	A6 03           LDAA 3,X
0281:	E6 04           LDAB 4,X
0283:	6F 03           CLR  3,X
0285:	6F 04           CLR  4,X
0287:	E0 02           SUBB 2,X
0289:	A2 01           SBCA 1,X
028B:	24 07           BCC  $0294
028D:	EB 02           ADDB 2,X
028F:	A9 01           ADCA 1,X
0291:	0C              CLC 
0292:	20 01           BRA  $0295
0294:	0D              SEC 
0295:	69 04           ROL  4,X
0297:	69 03           ROL  3,X
0299:	64 01           LSR  1,X
029B:	66 02           ROR  2,X
029D:	6A 00           DEC  0,X
029F:	26 E6           BNE  $0287
02A1:	31              INS 
02A2:	31              INS 
02A3:	31              INS 
02A4:	30              TSX 
02A5:	08              INX 
02A6:	08              INX 
02A7:	A7 05           STAA 5,X
02A9:	E7 06           STAB 6,X
02AB:	32              PULA
02AC:	33              PULB
02AD:	A7 04           STAA 4,X
02AF:	E7 03           STAB 3,X
02B1:	07              TPA 
02B2:	5D              TSTB
02B3:	7E 01D7         JMP  $01D7

02B6:	30       MOVC   TSX            MOVC: FROM,TO ON STACK. B=COUNT. ON RETURN B=COUNT, TO=TO+COUNT, FROM=FROM+COUNT
02B7:	E6 03           LDAB 3,X
02B9:	EE 09           LDX  9,X
02BB:	A6 00           LDAA 0,X
02BD:	30              TSX 
02BE:	EE 0B           LDX  11,X
02C0:	A7 00           STAA 0,X
02C2:	30              TSX 
02C3:	5A              DECB
02C4:	27 0E           BEQ  $02D4
02C6:	6C 0A           INC  10,X
02C8:	26 02           BNE  $02CC
02CA:	6C 09           INC  9,X
02CC:	6C 0C           INC  12,X
02CE:	26 E9           BNE  $02B9
02D0:	6C 0B           INC  11,X
02D2:	20 E5           BRA  $02B9
02D4:	39              RTS 

02D5:	30       CMPC   TSX            CMPC: COMPARE TWO STRINGS
02D6:	E6 03           LDAB 3,X
02D8:	EE 09           LDX  9,X
02DA:	A6 00           LDAA 0,X
02DC:	81 04           CMPA #$04
02DE:	27 1F           BEQ  $02FF
02E0:	30              TSX 
02E1:	EE 0B           LDX  11,X
02E3:	37              PSHB
02E4:	E6 00           LDAB 0,X
02E6:	C1 04           CMPB #$04
02E8:	33              PULB
02E9:	27 14           BEQ  $02FF
02EB:	A1 00           CMPA 0,X
02ED:	26 10           BNE  $02FF
02EF:	30              TSX 
02F0:	6C 0A           INC  10,X
02F2:	26 02           BNE  $02F6
02F4:	6C 09           INC  9,X
02F6:	6C 0C           INC  12,X
02F8:	26 02           BNE  $02FC
02FA:	6C 0B           INC  11,X
02FC:	5A              DECB
02FD:	26 D9           BNE  $02D8
02FF:	30              TSX 
0300:	07              TPA 
0301:	A7 02           STAA 2,X
0303:	E7 03           STAB 3,X
0305:	39              RTS 

0306:	30       CMWC   TSX            CMWC: COMPARE STRINGS WITH WILD CHARS
0307:	E6 03           LDAB 3,X
0309:	EE 09           LDX  9,X
030B:	A6 00           LDAA 0,X
030D:	81 04           CMPA #$04
030F:	27 EE           BEQ  $02FF
0311:	30              TSX 
0312:	EE 0B           LDX  11,X
0314:	37              PSHB
0315:	E6 00           LDAB 0,X
0317:	C1 04           CMPB #$04
0319:	33              PULB
031A:	27 E3           BEQ  $02FF
031C:	81 3F           CMPA #$3F
031E:	27 04           BEQ  $0324
0320:	A1 00           CMPA 0,X
0322:	26 DB           BNE  $02FF
0324:	30              TSX 
0325:	6C 0A           INC  10,X
0327:	26 02           BNE  $032B
0329:	6C 09           INC  9,X
032B:	6C 0C           INC  12,X
032D:	26 02           BNE  $0331
032F:	6C 0B           INC  11,X
0331:	5A              DECB
0332:	26 D5           BNE  $0309
0334:	20 C9           BRA  $02FF

0336:	30       MOVS   TSX            MOVS: MOVE A VARIABLE LENGTH STRING TERMINATED (04)
0337:	EE 09           LDX  9,X
0339:	A6 00           LDAA 0,X
033B:	30              TSX 
033C:	EE 0B           LDX  11,X
033E:	A7 00           STAA 0,X
0340:	30              TSX 
0341:	81 04           CMPA #$04
0343:	27 0E           BEQ  $0353
0345:	6C 0A           INC  10,X
0347:	26 02           BNE  $034B
0349:	6C 09           INC  9,X
034B:	6C 0C           INC  12,X
034D:	26 E8           BNE  $0337
034F:	6C 0B           INC  11,X
0351:	20 E4           BRA  $0337
0353:	39              RTS 

0354:	30       FMTS   TSX            FMTS: REFORMAT A FILENAME
0355:	E6 03           LDAB 3,X
0357:	E7 04           STAB 4,X
0359:	C1 0C           CMPB #$0C
035B:	23 06           BLS  $0363
035D:	30              TSX 
035E:	C6 02           LDAB #$02
0360:	E7 03           STAB 3,X
0362:	39              RTS 
0363:	EE 0B           LDX  11,X
0365:	86 20           LDAA #$20
0367:	C6 08           LDAB #$08
0369:	A7 00           STAA 0,X
036B:	08              INX 
036C:	5A              DECB
036D:	26 FA           BNE  $0369
036F:	86 2E           LDAA #$2E
0371:	A7 00           STAA 0,X
0373:	08              INX 
0374:	C6 03           LDAB #$03
0376:	86 20           LDAA #$20
0378:	A7 00           STAA 0,X
037A:	08              INX 
037B:	5A              DECB
037C:	26 FA           BNE  $0378
037E:	30              TSX 
037F:	6F 03           CLR  3,X
0381:	EE 09           LDX  9,X
0383:	5F              CLRB
0384:	A6 00           LDAA 0,X
0386:	81 2E           CMPA #$2E
0388:	27 08           BEQ  $0392
038A:	08              INX 
038B:	5C              INCB
038C:	C1 09           CMPB #$09
038E:	26 F4           BNE  $0384
0390:	20 CB           BRA  $035D
0392:	5C              INCB
0393:	30              TSX 
0394:	A6 04           LDAA 4,X
0396:	10              SBA 
0397:	A7 04           STAA 4,X
0399:	27 C2           BEQ  $035D
039B:	81 03           CMPA #$03
039D:	22 BE           BHI  $035D
039F:	EE 09           LDX  9,X
03A1:	A6 00           LDAA 0,X
03A3:	81 2E           CMPA #$2E
03A5:	27 B6           BEQ  $035D
03A7:	81 2A           CMPA #$2A
03A9:	26 2C           BNE  $03D7
03AB:	30              TSX 
03AC:	EE 0B           LDX  11,X
03AE:	C6 08           LDAB #$08
03B0:	86 3F           LDAA #$3F
03B2:	A7 00           STAA 0,X
03B4:	08              INX 
03B5:	5A              DECB
03B6:	26 FA           BNE  $03B2
03B8:	30              TSX 
03B9:	86 01           LDAA #$01
03BB:	A7 03           STAA 3,X
03BD:	A6 0A           LDAA 10,X
03BF:	8B 02           ADDA #$02
03C1:	A7 0A           STAA 10,X
03C3:	A6 09           LDAA 9,X
03C5:	89 00           ADCA #$00
03C7:	A7 09           STAA 9,X
03C9:	A6 0C           LDAA 12,X
03CB:	8B 08           ADDA #$08
03CD:	A7 0C           STAA 12,X
03CF:	A6 0B           LDAA 11,X
03D1:	89 00           ADCA #$00
03D3:	A7 0B           STAA 11,X
03D5:	20 34           BRA  $040B
03D7:	C6 08           LDAB #$08
03D9:	30              TSX 
03DA:	EE 09           LDX  9,X
03DC:	A6 00           LDAA 0,X
03DE:	30              TSX 
03DF:	6C 0A           INC  10,X
03E1:	26 02           BNE  $03E5
03E3:	6C 09           INC  9,X
03E5:	EE 0B           LDX  11,X
03E7:	81 2E           CMPA #$2E
03E9:	27 15           BEQ  $0400
03EB:	A7 00           STAA 0,X
03ED:	30              TSX 
03EE:	5A              DECB
03EF:	6C 0C           INC  12,X
03F1:	26 02           BNE  $03F5
03F3:	6C 0B           INC  11,X
03F5:	81 3F           CMPA #$3F
03F7:	26 E0           BNE  $03D9
03F9:	86 01           LDAA #$01
03FB:	30              TSX 
03FC:	A7 03           STAA 3,X
03FE:	20 D9           BRA  $03D9
0400:	30              TSX 
0401:	EB 0C           ADDB 12,X
0403:	E7 0C           STAB 12,X
0405:	E6 0B           LDAB 11,X
0407:	C9 00           ADCB #$00
0409:	E7 0B           STAB 11,X
040B:	30              TSX 
040C:	EE 09           LDX  9,X
040E:	A6 00           LDAA 0,X
0410:	81 2A           CMPA #$2A
0412:	26 14           BNE  $0428
0414:	30              TSX 
0415:	EE 0B           LDX  11,X
0417:	08              INX 
0418:	C6 03           LDAB #$03
041A:	86 3F           LDAA #$3F
041C:	A7 00           STAA 0,X
041E:	08              INX 
041F:	5A              DECB
0420:	26 FA           BNE  $041C
0422:	30              TSX 
0423:	86 01           LDAA #$01
0425:	A7 03           STAA 3,X
0427:	39              RTS 
0428:	30              TSX 
0429:	6C 0C           INC  12,X
042B:	26 02           BNE  $042F
042D:	6C 0B           INC  11,X
042F:	E6 04           LDAB 4,X
0431:	30              TSX 
0432:	EE 09           LDX  9,X
0434:	A6 00           LDAA 0,X
0436:	30              TSX 
0437:	6C 0A           INC  10,X
0439:	26 02           BNE  $043D
043B:	6C 09           INC  9,X
043D:	EE 0B           LDX  11,X
043F:	A7 00           STAA 0,X
0441:	30              TSX 
0442:	6C 0C           INC  12,X
0444:	26 02           BNE  $0448
0446:	6C 0B           INC  11,X
0448:	81 3F           CMPA #$3F
044A:	26 04           BNE  $0450
044C:	86 01           LDAA #$01
044E:	A7 03           STAA 3,X
0450:	5A              DECB
0451:	26 DE           BNE  $0431
0453:	39              RTS 

                 DSPTAB     *-START    JUMP TABLE OFFSETS FOR BIOS SWI CALLS
0454:	FCE9            FDB *-PSHAL  PSHALL: PUSH ALL REGISTERS     00
0456:	FD03            FDB *-PULAL  PULALL: PULL ALL REGISTERS     01
0458:	FD1C            FDB *-TXAB   TXAB: TRANSFER X TO A,B        02  
045A:	FD24            FDB *-TABX   TABX: TRANSFER A,B TO X        03  
045C:	FD2C            FDB *-XABX   XABX: EXCHANGE A,B AND X       04
045E:	FD35            FDB *-PSHX   PSHX: PUSH X                   05
0460:	FD4A            FDB *-PULX   PULX: PULL X                   06  
0462:	FD5E            FDB *-ADXAB  ADDXAB: ADD X TO A,B           07  
0464:	FD63            FDB *-ADABX  ADDABX: ADD A,B TO X           08  
0466:	FD78            FDB *-ADDAX  ADDAX: ADD A TO X              09
0468    FD7D            FDB *-ADDBX  ADDBX: ADD B TO X              0A
046A:	FD80            FDB *-SBXAB  SUBXAB: SUBTRACT X FROM A,B    0B    
046C:	FD85            FDB *-SBABX  SUBABX: SUBTRACT A,B FROM X    0C
046E:	FD90            FDB *-SUBAX  SUBAX: SUBTRACT A FROM X       0D 
0470:	FD9C            FDB *-SUBBX  SUBBX: SUBTRACT B FROM X       0E
0472:	FDA7            FDB *-MUL8   MUL87: A,B=A*B                 0F
0474:	FDB0            FDB *-MUL16  MUL16: A,B,X=A,B*X             10
0476:	FE40            FDB *-MOVC   MOVC: FROM,TO ON STACK.        11
0478:	FE5D            FDB *-CMPC   CMPC: COMPARE TWO STRINGS      12
047A:   00AF            FDB *-IOHDR  I/O HANDLERS                   13
047C:	02EE            FDB *-OPEN                                  14 
047E:   02EF            FDB *-CLOSE                                 15    
0480:	02F0            FDB *-REWD                                  16
0482:	02F1            FDB *-OPEND                                 17
0484:	02F2            FDB *-READ                                  18
0486:	02F3            FDB *-WRITE                                 19
0488:	02F4            FDB *-GETDR                                 1A
0489:	02F5            FDB *-PUTDR                                 1B
048C:	02F6            FDB *-DELET                                 1C
048D:	02F7            FDB *-CHAIN                                 1D
0490:	02F8            FDB *-PRTERR                                1E
0492:	02F9            FDB *-WRMST                                 1F
0494:	02FA            FDB *-USR6                                  20
0496:	02FB            FDB *-USR7                                  21
0498:	02FC            FDB *-USR8                                  22
049A:	02FD            FDB *-USR9                                  23
049C:	02FE            FDB *-USR10                                 24
049E:   02FF            FDB *-LOADB                                 25
04A0:	0300            FDB *-LOADR                                 26
04A2:	030D            FDB *-USR1                                  27 
04A4:	030E            FDB *-USR2                                  28
04A6:	030F            FDB *-USR3                                  29
04A8:	0310            FDB *-USR4                                  2A
04AA:	0311            FDB *-USR5                                  2B
04AC:	0312            FDB *-FMTFCB                                2C


04AE:	FE88            FDB *-MOVS   MOVE A VARIABLE LENGTH STRING TERMINATED (04)   2D
04B0:   FD61            FDB *-INDEX  X:=X+A*B                       2E
04B2:	02F1            FDB *-NXTOK                                 2F
04B4:	02F2            FDB *-GTCMD                                 30
04B6:	02F3            FDB *-PRTMSG                                31
04B8:	FDA7            FDB *-DIV16  UNSIGNED 16BIT DIV A,B / X. A,B=QUOT. X=REMAINDER
04BA:	02F2            FDB *-INTDK  INIT DISK
04BC:	FE98            FDB *-FMTS   REFORMAT A FILENAME            
04BE:	FE48            FDB *-CMWC   COMPARE STRINGS WITH WILD CHARS

                 EQTAB                 EQUIPEMENT TABLE

04C0:   059C     CONSOL FDB INLIN              
04C2:	05E7            FDB OTLIN   
04C4:	8004            FDB $8004 

04C6:	0693     PTRDR  FDB INRDR      
04C8:	0599            FDB NULL
04CA:	8010            FDB $8010

04CC:	0599     PTPCH  FDB NULL
04CE:	06CB            FDB OTPCH
04D0:	8010            FDB $8010

04D2:	075E     DISK   FDB RDSEC 
04D4:	0761            FDB WTSEC
04D6:	0000            FDB 0

04D8:	0599     LPTR   FDB NULL
04DA:	0703            FDB OTLPT
04DC:	8002            FDB $8002

04DE:	0764     MTAPE  FDB MTIN
04E0:	0767            FDB MTOT
04E2:	0000            FDB 0

04E4:	059C     TTYIO  FDB INLIN
04E6:	05E7            FDB OTLIN
04E8:	8010            FDB $8010

04EA:	0599     NULLIO FDB NULL
04EC:	0599            FDB NULL
04EE:	0000            FDB 0

                                       PHYSICAL DEVICE TABLE

04F0:	         PDTAB  FCC 'CON'   
04F2:	04C0            FDB CONSOL
04F4:	04C0            FDB CONSOL

04F7:	                FCC 'PTR'     
04FA:	04C6            FDB PTRDR
04FC:	04C6            FDB PTRDR

04FE:   5054            FCC 'PTP'
0501:	04CC            FDB PTPCH
0503:	04CC            FDB PTPCH

0505:	                FCC 'DSK'
0508:	534B            FDB DISK
050A:	04D2            FDB DISK

050C:	                FCC 'LPT'
050F:	04D8            FDB LPTR      
0511:	04D8            FDB LPTR   

0513:	                FCC 'MTA'
0516:	04DE            FDB MTAPE      
0518:	04DE            FDB MTAPE         

051A:	                FCC 'TTY'
051D:	04E4            FDB TTYIO 
051F:	04E4            FDB TTYIO

0521:	                FCC 'NUL'   
0524:	04EA            FDB NULLIO      
0526:	04EA            FDB NULLIO

0528:	00   

0529:	30       IOHDR  TSX            IOHDR: I/O HANDLERS (PDF p115/250)
052A:	EE 05           LDX  UXH,X     GET RCB ADDR
052C:	86 80           LDAA #$80      $80=BUSY      
052E:	A7 05           STAA RCBSTA,X  INIT BUSY BIT
0530:	BD 0540         JSR  PDSRCH
0533:	25 04           BCS IOHDRA     BR IF NOT FOUND
0535:	3F 04           SWI XABX       X:=DRIVERADR; A,B:=RCBADR
0537:	AD 00           JSR X 0,X      CALL DRIVER, ON RETURN X=RCBADR
0539:	86 7F    IOHDRA LDAA #$7F      $7F=NTBUSY
053B:	A4 05           ANDA RCBSTA,X       
053D:	A7 05           STAA RCBSTA,X  TURN OFF BUSY BIT
053F:	39              RTS 

0540:	3F 05    PDSRCH SWI PSHX       SEARCH PDTAB FOR DEVICE (X=RCBADR)
0542:	08              INX            PT TO RCBGDT
0543:	08              INX 
0544:	3F 05           SWI PSHX       SAVE RCBGDT 
0546:	CE 04F0         LDX  #PDTAB
0549:	3F 05    PDSRCA SWI PSHX       SAVE PDTAB ON STACK
054B:	C6 03           LDAB #$03      CHARS TO MATCH
054D:	3F 12           SWI CMPC
054F:	27 26           BEQ  PDSRCB    BR IF MATCH
                                       DEVICE NO MATCH
0551:	3F 06           SWI PULX       GET PD PTR
0553:	3F 0A           SWI ADDBX      POINT TO NEXT ENTRY
0555:	08              INX 
0556:	08              INX 
0557:	08              INX 
0558:	08              INX 
0559:	3F 02           SWI TXAB       SAVE PD-PTR
055B:	3F 06           SWI PULX       SKIP RCBGDT
055D:	3F 06           SWI PULX       GET RCADR
055F:	3F 05           SWI PSHX       SAVE
0561:	08              INX 
0562:	08              INX 
0563:	3F 05           SWI PSHX       SAVE RCBGDT
0565:	3F 03           SWI TABX       RESTORE PD-PTR
0567:	6D 00           TST  0,X       END OF TABLE?
0569:	26 DE           BNE  PDSRCA    NO
                                       NOT IN TABLE
056B:	3F 06           SWI PULX       SKIP RCBGDT
056D:	3F 06           SWI PULX       GET RCBADR
056F:	0D              SEC            SET RETURN FLAG
0570:	86 05           LDAA #$05      ERROR CODE
0572:	A4 05           ANDA RCBSTA,X
0574:	A7 05           STAA RCBSTA,X
0576:	39              RTS 
                                       DEVICE MATCH - FOUND ENTRY
0577:	3F 06    PDSRCB SWI PULX       GET POINTER TO EQT   
0579:	EE 00           LDX  0,X       GET ADDRESS OF EQT
057B:	3F 02           SWI TXAB       SAVE IN A,B
057D:	3F 06           SWI PULX       SKIP RCBGDT
057F:	3F 06           SWI PULX       GET RCBADR
0581:	3F 05           SWI PSHX       SAVE ON STACK
0583:	A7 00           STAA RCBEQT,X  SAVE EQT ADR
0585:	E7 01           STAB RCBEQT+1,X
0587:	6D 06           TST  RCBDTT,X  INPUT OR OUTPUT?
0589:	2A 04           BPL  *+6
058B:	CB 02           ADDB #$02      OUTPUT,POINT TO OUTPUT DRIVER
058D:	89 00           ADCA #$00
058F:	3F 03           SWI TABX
0591:	EE 00           LDX  0,X       GET DRIVER ADDRESS
0593:	3F 02           SWI TXAB       SAVE IN A,B
0595:	3F 06           SWI PULX       GET RCBADR  
0597:	0C              CLC            SET RETURN FLAG
0598:	39              RTS 

0599:	3F 04           SWI XABX
059B:	39              RTS 
059C:	3F 03           SWI TABX
059E:	3F 05           SWI PSHX
05A0:	EE 07           LDX  7,X
05A2:	86 2E           LDAA #$2E
05A4:	BD 067D         JSR  $067D
05A7:	BD 0668         JSR  $0668
05AA:	81 0A           CMPA #$0A
05AC:	27 F9           BEQ  $05A7
05AE:	7D 0040         TST  $0040
05B1:	26 03           BNE  $05B6
05B3:	BD 067D         JSR  $067D
05B6:	91 3A           CMPA $3A
05B8:	26 04           BNE  $05BE
05BA:	3F 06           SWI PULX
05BC:	20 E0           BRA  $059E
05BE:	91 39           CMPA $39
05C0:	26 16           BNE  $05D8
05C2:	3F 02           SWI TXAB
05C4:	3F 06           SWI PULX
05C6:	A1 07           CMPA 7,X
05C8:	26 04           BNE  $05CE
05CA:	E1 08           CMPB 8,X
05CC:	27 04           BEQ  $05D2
05CE:	C0 01           SUBB #$01
05D0:	82 00           SBCA #$00
05D2:	3F 05           SWI PSHX
05D4:	3F 03           SWI TABX
05D6:	20 CF           BRA  $05A7
05D8:	A7 00           STAA 0,X
05DA:	08              INX 
05DB:	81 0D           CMPA #$0D
05DD:	26 C8           BNE  $05A7
05DF:	86 0A           LDAA #$0A
05E1:	BD 067D         JSR  $067D
05E4:	3F 06           SWI PULX
05E6:	39              RTS 
05E7:	3F 03           SWI TABX
05E9:	3F 05           SWI PSHX
05EB:	EE 07           LDX  7,X
05ED:	D6 3D           LDAB $3D
05EF:	A6 00           LDAA 0,X
05F1:	81 04           CMPA #$04
05F3:	27 70           BEQ  $0665
05F5:	BD 067D         JSR  $067D
05F8:	08              INX 
05F9:	5A              DECB
05FA:	26 18           BNE  $0614
05FC:	86 0D           LDAA #$0D
05FE:	BD 067D         JSR  $067D
0601:	86 0A           LDAA #$0A
0603:	BD 067D         JSR  $067D
0606:	86 00           LDAA #$00
0608:	D6 3E           LDAB $3E
060A:	27 06           BEQ  $0612
060C:	BD 067D         JSR  $067D
060F:	5A              DECB
0610:	26 FA           BNE  $060C
0612:	D6 3D           LDAB $3D
0614:	09              DEX 
0615:	A6 00           LDAA 0,X
0617:	08              INX 
0618:	81 0D           CMPA #$0D
061A:	26 D3           BNE  $05EF
061C:	86 0A           LDAA #$0A
061E:	BD 067D         JSR  $067D
0621:	86 00           LDAA #$00
0623:	D6 3E           LDAB $3E
0625:	27 06           BEQ  $062D
0627:	BD 067D         JSR  $067D
062A:	5A              DECB
062B:	26 FA           BNE  $0627
062D:	7D 003B         TST  $003B
0630:	27 21           BEQ  $0653
0632:	7A 003C         DEC  $003C
0635:	26 1C           BNE  $0653
0637:	96 3B           LDAA $3B
0639:	97 3C           STAA $3C
063B:	7D 0042         TST  $0042
063E:	26 07           BNE  $0647
0640:	BD 0668         JSR  $0668
0643:	91 43           CMPA $43
0645:	26 F9           BNE  $0640
0647:	D6 41           LDAB $41
0649:	27 08           BEQ  $0653
064B:	86 0A           LDAA #$0A
064D:	BD 067D         JSR  $067D
0650:	5A              DECB
0651:	26 F8           BNE  $064B
0653:	3F 06           SWI PULX
0655:	3F 05           SWI PSHX
0657:	EE 00           LDX  0,X
0659:	EE 04           LDX  4,X
065B:	A6 00           LDAA 0,X
065D:	47              ASRA
065E:	24 05           BCC  $0665
0660:	A6 01           LDAA 1,X
0662:	BD 0668         JSR  $0668
0665:	3F 06           SWI PULX
0667:	39              RTS 
0668:	3F 05           SWI PSHX
066A:	30              TSX 
066B:	EE 04           LDX  4,X
066D:	EE 00           LDX  0,X
066F:	EE 04           LDX  4,X
0671:	A6 00           LDAA 0,X
0673:	47              ASRA
0674:	24 FB           BCC  $0671
0676:	A6 01           LDAA 1,X
0678:	84 7F           ANDA #$7F
067A:	3F 06           SWI PULX
067C:	39              RTS 
067D:	3F 05           SWI PSHX
067F:	30              TSX 
0680:	EE 04           LDX  4,X
0682:	EE 00           LDX  0,X
0684:	EE 04           LDX  4,X
0686:	37              PSHB
0687:	E6 00           LDAB 0,X
0689:	57              ASRB
068A:	57              ASRB
068B:	24 FA           BCC  $0687
068D:	A7 01           STAA 1,X
068F:	33              PULB
0690:	3F 06           SWI PULX
0692:	39              RTS 
0693:	3F 03           SWI TABX
0695:	3F 05           SWI PSHX
0697:	EE 07           LDX  7,X
0699:	86 11           LDAA #$11
069B:	BD 06ED         JSR  $06ED
069E:	BD 06B8         JSR  $06B8
06A1:	81 0A           CMPA #$0A
06A3:	27 F9           BEQ  $069E
06A5:	81 00           CMPA #$00
06A7:	27 F5           BEQ  $069E
06A9:	A7 00           STAA 0,X
06AB:	08              INX 
06AC:	81 0D           CMPA #$0D
06AE:	26 EE           BNE  $069E
06B0:	86 13           LDAA #$13
06B2:	BD 06ED         JSR  $06ED
06B5:	3F 06           SWI PULX
06B7:	39              RTS 
06B8:	3F 05           SWI PSHX
06BA:	30              TSX 
06BB:	EE 04           LDX  4,X
06BD:	EE 00           LDX  0,X
06BF:	EE 04           LDX  4,X
06C1:	A6 00           LDAA 0,X
06C3:	47              ASRA
06C4:	24 FB           BCC  $06C1
06C6:	A6 01           LDAA 1,X
06C8:	3F 06           SWI PULX
06CA:	39              RTS 
06CB:	3F 03           SWI TABX
06CD:	3F 05           SWI PSHX
06CF:	EE 07           LDX  7,X
06D1:	A6 00           LDAA 0,X
06D3:	08              INX 
06D4:	BD 06ED         JSR  $06ED
06D7:	81 0D           CMPA #$0D
06D9:	26 F6           BNE  $06D1
06DB:	86 0A           LDAA #$0A
06DD:	BD 06ED         JSR  $06ED
06E0:	C6 04           LDAB #$04
06E2:	86 00           LDAA #$00
06E4:	BD 06ED         JSR  $06ED
06E7:	5A              DECB
06E8:	26 F8           BNE  $06E2
06EA:	3F 06           SWI PULX
06EC:	39              RTS 
06ED:	3F 05           SWI PSHX
06EF:	30              TSX 
06F0:	EE 04           LDX  4,X
06F2:	EE 00           LDX  0,X
06F4:	EE 04           LDX  4,X
06F6:	37              PSHB
06F7:	E6 00           LDAB 0,X
06F9:	57              ASRB
06FA:	57              ASRB
06FB:	24 FA           BCC  $06F7
06FD:	A7 01           STAA 1,X
06FF:	33              PULB
0700:	3F 06           SWI PULX
0702:	39              RTS 
0703:	3F 03           SWI TABX
0705:	3F 05           SWI PSHX
0707:	EE 07           LDX  7,X
0709:	D6 46           LDAB $46
070B:	A6 00           LDAA 0,X
070D:	08              INX 
070E:	BD 0748         JSR  $0748
0711:	5A              DECB
0712:	26 0C           BNE  $0720
0714:	86 0D           LDAA #$0D
0716:	BD 0748         JSR  $0748
0719:	86 0A           LDAA #$0A
071B:	BD 0748         JSR  $0748
071E:	D6 46           LDAB $46
0720:	09              DEX 
0721:	A6 00           LDAA 0,X
0723:	08              INX 
0724:	81 0C           CMPA #$0C
0726:	26 06           BNE  $072E
0728:	37              PSHB
0729:	D6 44           LDAB $44
072B:	D7 45           STAB $45
072D:	33              PULB
072E:	81 0D           CMPA #$0D
0730:	26 D9           BNE  $070B
0732:	86 0A           LDAA #$0A
0734:	BD 0748         JSR  $0748
0737:	7A 0045         DEC  $0045
073A:	26 09           BNE  $0745
073C:	D6 44           LDAB $44
073E:	D7 45           STAB $45
0740:	86 0C           LDAA #$0C
0742:	BD 0748         JSR  $0748
0745:	3F 06           SWI PULX
0747:	39              RTS 
0748:	3F 05           SWI PSHX
074A:	30              TSX 
074B:	EE 04           LDX  4,X
074D:	EE 00           LDX  0,X
074F:	EE 04           LDX  4,X
0751:	37              PSHB
0752:	E6 00           LDAB 0,X
0754:	A7 00           STAA 0,X
0756:	E6 01           LDAB 1,X
0758:	2A FC           BPL  $0756
075A:	33              PULB
075B:	3F 06           SWI PULX
075D:	39              RTS 
075E:	7E 1D86->1D6B   JMP  RDSEC     READ A SINGLE SECTOR (POINTS TO MF68 DISK DRIVER)
0761:	7E 1DF1->1D68   JMP  WTSEC     WRITE A SINGLE SECTOR
0764:	7E FFFF         JMP  $FFFF     READ A TAPE BLOCK
0767:	7E FFFF         JMP  $FFFF     WRITE A TAPE BLOCK
076A:	7E 1960         JMP  $1960     SWI OPEN
076D:	7E 1AF1         JMP  $1AF1         CLOSE 
0770:	7E 1D42         JMP  $1D42         REWD
0773:	7E 18CF         JMP  $18CF         OPEND
0776:	7E 1BA6         JMP  $1BA6         READ 
0779:	7E 1C41         JMP  $1C41         WRITE
077C:	7E 1900         JMP  $1900         GETDR
077F:	7E 1930         JMP  $1930         PUTDR
0782:	7E 171F         JMP  $171F         DELET
0785:	7E 1609         JMP  $1609         CHAIN
0788:	7E 0B95         JMP  $0B95         PRTERR
078B:	7E 07C4         JMP  $07C4         WARMS  WARMSTART
078E:	7E FFFF         JMP  $FFFF         USER6
0791:	7E FFFF         JMP  $FFFF         USER7
0794:	7E FFFF         JMP  $FFFF         USER8
0797:	7E FFFF         JMP  $FFFF         USER9
079A:	7E FFFF         JMP  $FFFF         USER10
079D:	7E 1127         JMP  $1127         LOADB  LOAD BINARY FILE
07A0:	7E FFFF         JMP  $FFFF         LOADR  LOAD RELOCATABLE FILE
07A3:	7E 0C32         JMP  $0C32         NXTOK 
07A6:	7E 0BBF         JMP  $0BBF         GTCMD  GET A COMMAND LINE
07A9:	7E 0B58         JMP  PRTMSG        PRINT A MESSAGE
07AC:	7E 1D5A INITDSK JMP  INTDK         INIT DISK SYSTEM 
07AF:	7E FFFF         JMP  $FFFF         USER1
07B2:	7E FFFF         JMP  $FFFF         USER2
07B5:	7E FFFF         JMP  $FFFF         USER3
07B8:	7E FFFF         JMP  $FFFF         USER4
07BB:	7E FFFF         JMP  $FFFF         USER5
07BE:	7E 184E         JMP  $184E         FMTFCB

                                       ColdStart entry point

07C1:	7E 0A64  CLDST  JMP  COLDST    CP/68 COLD START 
07C4:	7E 0AE1         JMP  $0AE1           WARM START
07C7:	7E 04C0         JMP  $04C0           04C0=EQTAB
07CA:	7E 04F0         JMP  $04F0           04F0=PDTAB
07CD:	04 D2           SYSFCB
07CE:	44 53 4B        'DSK'
07D2:	00 FF           
07D4:	07 F7           ADDR OF BUFFER
07F7:	00              SYSFCB BUFFER 

0978:	44 49 52 CMDTAB FCC 'DIR'       DIRECTORY      
097B:	13 A6           DIRCMD
097D:	50 49 50        FCC 'PIP'       PIP
0980:	0D E1           
0982:	52 45 4E        FCC 'REN'       RENAME
0985:	11 B2                       
0987:	44 45 4C        FCC 'DEL'       DELETE
098A:	0D DC                             
098C:	53 41 56        FCC 'SAV'       SAVE     
098F:	0F 75                       
0991:	41 53 53        FCC 'ASS'       ASSIGN     
0994:	0D F0                       
0996:	4C 4F 41        FCC 'LOA'       LOAD     
0999:	11 17                       
099B:	4A 55 4D        FCC 'JUM'       JUMP     
099E:	0D C8           FDB JMPCMD            
09A0:	49 4E 49        FCC 'INI'       INIT     
09A3:	12 BA                       
09A5:	45 58 49        FCC 'EXI'       EXIT     
09A8:	E0 E3           JMP TO SWTBUG MONITOR                             
09AA:	53 45 43        FCC 'SEC'       SECURITY     
09AD:	0D E6                       
09AF:	53 45 54        FCC 'SET'       SETCON     
09B2:	0D EB                       
09B4:	53 54 41        FCC 'STA'       STATUS     
09B7:	0D F5                       
09B9:	42 4F 4F        FCC 'BOO'       BOOT     
09BC:	0D FA                       
09BE:	4C 49 4E        FCC 'LIN'       LINK     
09C1:	0D FF                       
09C3:	53 55 42        FCC 'SUB'       SUBMIT     
09C6:	0E 87                       
09C8:	00              END OF TABLE
                     
09C9:	00   CHRTAB     CHARACTER TABLE
09CA:	00              
09CB:	00              
09CC:	00              
09CD:	04              
09CE:	00              
09CF:	00              
09D0:	00              
09D1:	00              
09D2:	00              
09D3:	81 04           
09D5:	04              
09D6:	04              
09D7:	04              
09D8:	04              
09D9:	42              
09DA:	42              
09DB:	42              
09DC:	42              
09DD:	42              
09DE:	42              
09DF:	42              
09E0:	42              
09E1:	42              
09E2:	42              
09E3:	04              
09E4:	04              
09E5:	00              
09E6:	04              
09E7:	00              
09E8:	81 00           
09EA:	82 82           
09EC:	82 82           
09EE:	82 82           
09F0:	80 80           
09F2:	80 80           
09F4:	80 80           
09F6:	80 80           
09F8:	80 80           
09FA:	80 80           
09FC:	80 80           
09FE:	80 80           
0A00:	80 80           
0A02:	80 80           
0A04:	04              
0A05:	00              
0A06:	04              
0A07:	00              
0A08:	00              
0A09:	         CONBUF RMB 80         CONSOLE BUFFER
0A59:	         CONRCB RMB 11         CONSOLE RCB
                     
                                       CP/68 COLD START (PDF p123/250)
                     
0A64:	8E 0977  COLDST LDS  #STACK    INIT STACK POINTER
0A67:	7F 0EC8         CLR  SUBFLG    INIT SUBMIT FLAG
0A6A:	FE 07C8         LDX  EQUTAB+1  POINT TO EQUIPEMENT TABLE
0A6D:	C6 04           LDAB #$04      POINT TO CONSOLE ENTRY
0A6F:	3F 0A           SWI ADDBX
0A71:	EE 00           LDX  0,X       GET ACIA ADDRESS
0A73:	86 03           LDAA #$03
0A75:	A7 00           STAA 0,X       RESET ACIA
0A77:	86 15           LDAA #$15
0A79:	A7 00           STAA 0,X       INIT ACIA
0A7B:	FE 07C8         LDX  EQUTAB+1  POINT TO EQUIPEMENT TABLE
0A7E:	C6 28           LDAB #$28      POINT TO TTY ENTRY
0A80:	3F 0A           SWI ADDBX
0A82:	EE 00           LDX  0,X       GET ACIA ADDRESS        
0A84:	86 03           LDAA #$03
0A86:	A7 00           STAA 0,X       RESET ACIA
0A88:	86 01           LDAA #$01 
0A8A:	A7 00           STAA 0,X       INIT ACIA
0A8C:	FE 07C8         LDX  EQUTAB+1  POINT TO EQUIPEMENT TABLE
0A8F:	C6 1C           LDAB #$1C      POINT TO LPT ENTRY
0A91:	3F 0A           SWI ADDBX
0A93:	EE 00           LDX  0,X       GET PIA ADDRESS        
0A95:	86 FF           LDAA #$FF
0A97:	A7 00           STAA 0,X       DDRB:=OUTPUT
0A99:	86 2C           LDAA #$2C
0A9B:	A7 01           STAA 1,X       INIT PIA
0A9D:	3F 33           SWI INITDSK    INIT DISK SYSTEM (JMP 07AC -> JMP 1D5A INTDK) 
0A9F:	CE 0A59         LDX  #CONRCB   POINT TO CONSOLE RCB
0AA2:	86 43           LDAA #$'C'
0AA4:	A7 02           STAA 2,X
0AA6:	86 4F           LDAA #$'O'
0AA8:	A7 03           STAA 3,X
0AAA:	86 4E           LDAA #$'N'
0AAC:	A7 04           STAA 4,X
0AAE:	CE 0ABF         LDX  #CRLF
0AB1:	3F 31           SWI PRTMSG 
0AB3:	CE 0AC1         LDX  #BANNER
0AB6:	3F 31           SWI PRTMSG
0AB8:	CE 0000         LDX  #$0000
0ABB:	DF 29           STX  $29
0ABD:	20 32           BRA  $0AF1
                     
0ABF:	         CRLF   FCB 0A, 0D
0AC1:	         BANNER FCB 0A, 'HEMENWAY ASSOCIATES CP/68-1.0'
                        FCB 0A, 0D
                     
                                       WARM START
                     
0AE1:	8E 0977  WARMST LDS  #STACK    REINIT STACK POINTER
0AE4:	7F 0EC8         CLR  SUBFLG    INIT SUBMIT FLAG
0AE7:	DE 29           LDX  FCBCHN    ANY ACTIVE FCB?
0AE9:	27 06           BEQ  WARM3     NO 
0AEB:	3F 15    WARM2  SWI CLOSE      CLOSE ALL ACTIVE (OPEN) FCBS
0AED:	EE 25           LDX  FCBNFB,X  POINT TO NEXT FCB
0AEF:	26 FA           BNE  WARM2
0AF1:	CE 0000  WARM3  LDX  #$0000
0AF4:	DF 2B           STX  FRETAB    INIT FREE SPACE TABLE
0AF6:	DF 2D           STX  FRETAB+2  4 DRIVES
0AF8:	DF 2F           STX  FRETAB+4
0AFA:	DF 31           STX  FRETAB+6
0AFC:	3F 30    CLI0   SWI GTCMD      GET COMMAND
0AFE:	D6 25           LDAB RC        CHECK RC? (TYPE OF TOKEN)
0B00:	C1 01           CMPB #$01      UNAMBIG NAME?
0B02:	27 0B           BEQ  CLI2      YES
0B04:	C1 03           CMPB #$03      NUMBER?
0B06:	27 2C           BEQ  TFILE     IF SO, FILENAME
0B08:	CE 0B6B         LDX  #FORMAT   NO 
0B0B:	3F 31           SWI PRTMSG     PRINT ERROR MSG 'FORMAT ERROR'
0B0D:	20 ED           BRA  CLI0
0B0F:	DE 20    CLI2   LDX  DESCRA
0B11:	3F 05           SWI PSHX
0B13:	CE 0978         LDX  #CMDTAB   COMMAND TABLE
0B16:	3F 05    CMDSRA SWI PSHX       STACK PARAM: START CMD SEARCH
0B18:	C6 03           LDAB #$03      COUNT OF 3 FOR COMMAND ABREVIATION
0B1A:	3F 12           SWI CMPC
0B1C:	27 2C           BEQ  CMDSRB    MATCH COMMAND
0B1E:	3F 06           SWI PULX       GET CMDTAB PTR
0B20:	3F 0A           SWI ADDBX      POINT TO NEXT ENTRY
0B22:	08              INX 
0B23:	08              INX 
0B24:	3F 02           SWI TXAB       SAVE PTR TO CMDTAB
0B26:	3F 06           SWI PULX       GET DESCRA
0B28:	DE 20           LDX  DESCRA
0B2A:	3F 05           SWI PSHX       STACK PARAM
0B2C:	3F 03           SWI TABX       RESTORE CMDTAB PTR
0B2E:	6D 00           TST  0,X       END OF TABLE?
0B30:	26 E4           BNE  $0B16     NO
0B32:	3F 06           SWI PULX       SKIP DESCAR PARAM
0B34:	DE 20    TFILE  LDX  DESCRA
0B36:	DF 23           STX  CUCHAR    BACKUP ONE TOKEN ON CLI
0B38:	BD 1117         JSR  LOADCMD   LOAD EXTERNAL COMMAND
0B3B:	CE 106D         LDX  #SAVFCB
0B3E:	6D 05           TST  FCBSTA,X  GOOD LOAD?
0B40:	26 AF           BNE  WARM3     IF NOT, QUIT
0B42:	DE 27           LDX  VALUE     HAVE TRANSFER ADDRESS?
0B44:	27 AB           BEQ  WARM3     IF NOT, QUIT
0B46:	AD 00           JSR X 0,X      JUMP TO TRANSFER ADDRESS **tron0
0B48:	20 A7           BRA  WARM3     DONE

0B4A:	3F 06    CMDSRB SWI PULX       GET PTR TO ROUTINE
0B4C:	EE 00           LDX  0,X       GET ADDRESS OF ROUTINE 
0B4E:	3F 02           SWI TXAB  
0B50:	3F 06           SWI PULX       SKIP DESCRA PARAM  
0B52:	3F 03           SWI TABX       RESTORE ROUTINE ADDRESS 
0B54:	AD 00           JSR X 0,X      CALL LOADED TRANSIENT/RESIDENT COMMAND
0B56:	20 99           BRA  $0AF1
                                       
                     
0B58:	30       PRTMSG TSX            PRINT A MESSAGE X=MESSAGE (PDF p125/250)
0B59:	A6 05           LDAA UXH,X     SAVE ADDRESS IN A,B
0B5B:	E6 06           LDAB UXL,X
0B5D:	CE 0A59         LDX  #CONRCB   POINT TO CONSOLE RCB
0B60:	A7 07           STAA RCBDBA,X
0B62:	E7 08           STAB RCBDBA+1,X
0B64:	86 80           LDAA #$80
0B66:	A7 06           STAA RCBBTT,X  DIRECTION:=OUTPUT
0B68:	3F 13           SWI IOHDR      OUTPUT MESSAGE
0B6A:	39              RTS 
                     
0B6B:	         FORMAT FCC 'FORMAT ERROR'
                        FCB 0D
                     
0B78:	         NUMBER FCC 'NUMBER ERROR'
                        FCB 0D
                     
0B85:	         DEVERR FCC ' '
0B86:	         DEVNAM RMB 3 
                        FCC ' ERROR: '
0B91:	         DERNUM RMB 2
                        FDB 0A 0D 
                     
                                       PRINT AN ERROR MESSAGE ON RCB OR FCB STATUS 
                                       INDEX POINTS TO CONTROL BLOCK
                                       PRINT DEVICE NAME AND STATUS
                     
0B95:	30       PRTERR TSX            PRINT AN ERROR MESSAGE 
0B96:	EE 05           LDX  5,X
0B98:	A6 05           LDAA 5,X
0B9A:	27 22           BEQ  $0BBE
0B9C:	BD 15FA         JSR  $15FA
0B9F:	B7 0B91         STAA DERNUM    DEV ERROR NUM
0BA2:	A6 05           LDAA 5,X
0BA4:	BD 15FE         JSR  $15FE
0BA7:	B7 0B92         STAA $0B92
0BAA:	A6 02           LDAA 2,X
0BAC:	B7 0B86         STAA DEVNAM    DEV NAME
0BAF:	A6 03           LDAA 3,X
0BB1:	B7 0B87         STAA $0B87
0BB4:	A6 04           LDAA 4,X
0BB6:	B7 0B88         STAA $0B88
0BB9:	CE 0B85         LDX  #DEVERR   DEV ERROR
0BBC:	3F 31           SWI PRTMSG
0BBE:	39              RTS 
                     
                                     
                     
0BBF:	CE 0A59   GTCMD LDX  #CONRCB   POINT TO CONSOLE RCB
0BC2:	6F 06           CLR  6,X
0BC4:	86 43           LDAA #$43
0BC6:	A7 02           STAA 2,X
0BC8:	86 4F           LDAA #$4F
0BCA:	A7 03           STAA 3,X
0BCC:	86 4E           LDAA #$4E
0BCE:	A7 04           STAA 4,X
0BD0:	3F 02           SWI TXAB
0BD2:	CE 0A09         LDX  #CONBUF   CONSOLE BUFFER   
0BD5:	3F 04           SWI XABX
0BD7:	A7 07           STAA 7,X
0BD9:	E7 08           STAB 8,X
0BDB:	7D 0EC8         TST  SUBFLG
0BDE:	27 4B           BEQ  $0C2B

0BE0:	CE 0A09  SUBMT1 LDX  #CONBUF   CONSOLE BUFFER   
0BE3:	FF 0EC9         STX  $0EC9
0BE6:	CE 0ECB         LDX  #$0ECB
0BE9:	3F 18           SWI READ
0BEB:	E6 05           LDAB 5,X
0BED:	C1 08           CMPB #$08
0BEF:	27 0B           BEQ  $0BFC
0BF1:	5D              TSTB
0BF2:	27 12           BEQ  $0C06
0BF4:	BD 0EA8         JSR  $0EA8
0BF7:	7F 0EC8         CLR  SUBFLG
0BFA:	20 C3           BRA  $0BBF
0BFC:	CE 0ECB         LDX  #$0ECB
0BFF:	3F 15           SWI CLOSE
0C01:	7F 0EC8         CLR  SUBFLG
0C04:	20 B9           BRA  $0BBF
0C06:	FE 0EC9         LDX  $0EC9
0C09:	A7 00           STAA 0,X
0C0B:	08              INX 
0C0C:	FF 0EC9         STX  $0EC9
0C0F:	81 0D           CMPA #$0D
0C11:	26 09           BNE  $0C1C
0C13:	CE 0A09         LDX  #CONBUF   CONSOLE BUFFER   
0C16:	3F 31           SWI PRTMSG
0C18:	DF 23           STX  $23
0C1A:	20 16           BRA  $0C32
0C1C:	81 26           CMPA #$26
0C1E:	26 05           BNE  $0C25
0C20:	CE 0A59         LDX  #CONRCB     POINT TO CONSOLE RCB
0C23:	20 06           BRA  $0C2B
0C25:	81 04           CMPA #$04
0C27:	27 D3           BEQ  $0BFC
0C29:	20 BB           BRA  $0BE6
0C2B:	3F 13           SWI IOHDR
0C2D:	CE 0A09         LDX  #CONBUF   CONSOLE BUFFER   
0C30:	DF 23           STX  $23

0C32:	7F 0022  NXTOK  CLR  $0022
0C35:	7C 0022         INC  $0022
0C38:	DE 23           LDX  $23
0C3A:	DF 20           STX  $20
0C3C:	A6 00           LDAA 0,X
0C3E:	08              INX 
0C3F:	DF 23           STX  $23
0C41:	81 20           CMPA #$20
0C43:	27 F3           BEQ  $0C38
0C45:	22 07           BHI  $0C4E
0C47:	81 0D           CMPA #$0D
0C49:	26 3A           BNE  $0C85
0C4B:	16              TAB 
0C4C:	20 32           BRA  $0C80
0C4E:	81 5F           CMPA #$5F
0C50:	23 02           BLS  $0C54
0C52:	20 31           BRA  $0C85
0C54:	BD 0D11         JSR  $0D11
0C57:	85 80           BITA #$80
0C59:	27 0D           BEQ  $0C68
0C5B:	C6 01           LDAB #$01
0C5D:	85 01           BITA #$01
0C5F:	27 02           BEQ  $0C63
0C61:	C6 02           LDAB #$02
0C63:	BD 0CB2         JSR  $0CB2
0C66:	20 18           BRA  $0C80
0C68:	85 40           BITA #$40
0C6A:	27 05           BEQ  $0C71
0C6C:	BD 0C8C         JSR  $0C8C
0C6F:	20 0F           BRA  $0C80
0C71:	85 04           BITA #$04
0C73:	27 10           BEQ  $0C85
0C75:	DE 20           LDX  $20
0C77:	E6 00           LDAB 0,X
0C79:	C1 24           CMPB #$24
0C7B:	26 03           BNE  $0C80
0C7D:	BD 0CD4         JSR  $0CD4
0C80:	97 26           STAA $26
0C82:	D7 25           STAB $25
0C84:	39              RTS 
0C85:	7F 0026         CLR  $0026
0C88:	7F 0025         CLR  $0025
0C8B:	39              RTS 
0C8C:	DE 23           LDX  $23
0C8E:	A6 00           LDAA 0,X
0C90:	7C 0022         INC  $0022
0C93:	08              INX 
0C94:	DF 23           STX  $23
0C96:	BD 0D11         JSR  $0D11
0C99:	85 40           BITA #$40
0C9B:	26 EF           BNE  $0C8C
0C9D:	D6 22           LDAB $22
0C9F:	5A              DECB
0CA0:	D7 22           STAB $22
0CA2:	C1 06           CMPB #$06
0CA4:	2D 03           BLT  $0CA9
0CA6:	7E 0D07         JMP  $0D07
0CA9:	BD 0D7C         JSR  $0D7C
0CAC:	DF 27           STX  $27
0CAE:	C6 03           LDAB #$03
0CB0:	20 4D           BRA  $0CFF
0CB2:	DE 23           LDX  $23
0CB4:	A6 00           LDAA 0,X
0CB6:	7C 0022         INC  $0022
0CB9:	08              INX 
0CBA:	DF 23           STX  $23
0CBC:	BD 0D11         JSR  $0D11
0CBF:	85 01           BITA #$01
0CC1:	27 02           BEQ  $0CC5
0CC3:	C6 02           LDAB #$02
0CC5:	85 80           BITA #$80
0CC7:	26 E9           BNE  $0CB2
0CC9:	85 40           BITA #$40
0CCB:	26 E5           BNE  $0CB2
0CCD:	96 22           LDAA $22
0CCF:	4A              DECA
0CD0:	97 22           STAA $22
0CD2:	20 2B           BRA  $0CFF
0CD4:	7F 0022         CLR  $0022
0CD7:	DE 23           LDX  $23
0CD9:	DF 20           STX  $20
0CDB:	DE 23           LDX  $23
0CDD:	A6 00           LDAA 0,X
0CDF:	7C 0022         INC  $0022
0CE2:	08              INX 
0CE3:	DF 23           STX  $23
0CE5:	BD 0D11         JSR  $0D11
0CE8:	85 02           BITA #$02
0CEA:	26 EF           BNE  $0CDB
0CEC:	D6 22           LDAB $22
0CEE:	5A              DECB
0CEF:	D7 22           STAB $22
0CF1:	C1 05           CMPB #$05
0CF3:	2D 03           BLT  $0CF8
0CF5:	7E 0D07         JMP  $0D07
0CF8:	BD 0D25         JSR  $0D25
0CFB:	DF 27           STX  $27
0CFD:	C6 03           LDAB #$03
0CFF:	DE 23           LDX  $23
0D01:	09              DEX 
0D02:	DF 23           STX  $23
0D04:	86 02           LDAA #$02
0D06:	39              RTS 
0D07:	CE 0B78         LDX  #NUMBER   MSG 'NUMBER ERROR'
0D0A:	3F 31           SWI PRTMSG
0D0C:	31              INS 
0D0D:	31              INS 
0D0E:	7E 0C85         JMP  $0C85
0D11:	81 20           CMPA #$20
0D13:	25 0C           BCS  $0D21
0D15:	81 5F           CMPA #$5F
0D17:	22 08           BHI  $0D21
0D19:	CE 09A9         LDX  #$09A9
0D1C:	3F 09           SWI ADDAX
0D1E:	A6 00           LDAA 0,X
0D20:	39              RTS 
0D21:	4F              CLRA
0D22:	39              RTS 

0D23:	01 00     HVAL  RMB 2          TEMP STORAGE

0D25:	DE 20     CVHB  LDX  $20
0D27:	7F 0D23         CLR  HVAL
0D2A:	7F 0D24         CLR  HVAL+1
0D2D:	D6 22           LDAB $22
0D2F:	09              DEX 
0D30:	08              INX 
0D31:	5A              DECB
0D32:	26 FC           BNE  $0D30
0D34:	D6 22           LDAB $22
0D36:	BD 0D6C         JSR  $0D6C
0D39:	B7 0D24         STAA $0D24
0D3C:	5A              DECB
0D3D:	27 29           BEQ  $0D68
0D3F:	09              DEX 
0D40:	BD 0D6C         JSR  $0D6C
0D43:	48              ASLA
0D44:	48              ASLA
0D45:	48              ASLA
0D46:	48              ASLA
0D47:	BA 0D24         ORAA $0D24
0D4A:	B7 0D24         STAA $0D24
0D4D:	5A              DECB
0D4E:	27 18           BEQ  $0D68
0D50:	09              DEX 
0D51:	BD 0D6C         JSR  $0D6C
0D54:	B7 0D23         STAA $0D23
0D57:	5A              DECB
0D58:	27 0E           BEQ  $0D68
0D5A:	09              DEX 
0D5B:	BD 0D6C         JSR  $0D6C
0D5E:	48              ASLA
0D5F:	48              ASLA
0D60:	48              ASLA
0D61:	48              ASLA
0D62:	BA 0D23         ORAA $0D23
0D65:	B7 0D23         STAA $0D23
0D68:	FE 0D23         LDX  $0D23
0D6B:	39              RTS 
0D6C:	A6 00           LDAA 0,X
0D6E:	80 30           SUBA #$30
0D70:	81 09           CMPA #$09
0D72:	2F 02           BLE  $0D76
0D74:	80 07           SUBA #$07
0D76:	39              RTS 

0D77:	00       DVAL   RMB 2
0D79:	00       DCOUNT RMB 1
0D7A:	00       TENVL  RMB 2

0D7C:	7F 0D77  CVDB   CLR  $0D77
0D7F:	7F 0D78         CLR  $0D78
0D82:	7F 0D7A         CLR  $0D7A
0D85:	7F 0D7B         CLR  $0D7B
0D88:	7C 0D7B         INC  $0D7B
0D8B:	DE 20           LDX  $20
0D8D:	09              DEX 
0D8E:	D6 22           LDAB $22
0D90:	F7 0D79         STAB $0D79
0D93:	08              INX 
0D94:	5A              DECB
0D95:	26 FC           BNE  $0D93
0D97:	3F 05           SWI PSHX
0D99:	E6 00           LDAB 0,X
0D9B:	C4 0F           ANDB #$0F
0D9D:	4F              CLRA
0D9E:	FE 0D7A         LDX  $0D7A
0DA1:	3F 10           SWI MUL16
0DA3:	3F 02           SWI TXAB
0DA5:	FB 0D78         ADDB $0D78
0DA8:	B9 0D77         ADCA $0D77
0DAB:	B7 0D77         STAA $0D77
0DAE:	F7 0D78         STAB $0D78
0DB1:	4F              CLRA
0DB2:	C6 0A           LDAB #$0A
0DB4:	FE 0D7A         LDX  $0D7A
0DB7:	3F 10           SWI MUL16
0DB9:	FF 0D7A         STX  $0D7A
0DBC:	3F 06           SWI PULX
0DBE:	09              DEX 
0DBF:	7A 0D79         DEC  $0D79
0DC2:	26 D3           BNE  $0D97
0DC4:	FE 0D77         LDX  $0D77
0DC7:	39              RTS 

0DC8:	3F 2F    JMPCMD SWI NXTOK      PERFORM JUMP COMMAND
0DC9:	D6 25           LDAB RC        CHECK RC
0DCB:	C1 03           CMPB #3        VALID NUMBER?
0DCE:	27 06           BEQ  JMPC2     YES
0DD0:	CE 0B6B         LDX  #FORMAT   MSG 'FORMAT ERROR'
0DD3:	3F 31           SWI PRTMSG
0DD5:	39              RTS 
0DD6:	31       JMPC2  INS           CLEAN STACK
0DD7:	31              INS 
0DD8:	DE 27           LDX  VALUE    LOAD ADDRESS 
0DDA:	6E 00           JMP  0,X      JUMP GO THERE **tron0 

0DDC:	CE 0E27  DELCMD LDX  #DELLIN
0DDF:	20 21           BRA  TRANS
0DE1:	CE 0E34  PIPCMD LDX  #PIPLIN
0DE4:	20 1C           BRA  TRANS
0DE6:	CE 0E3E  SECCMD LDX  #SECLIN
0DE9:	20 17           BRA  TRANS
0DEB:	CE 0E4D  SETCMD LDX  #SETLIN
0DEE:	20 12           BRA  TRANS
0DF0:	CE 0E57  ASNCMD LDX  #ASNLIN
0DF3:	20 0D           BRA  TRANS
0DF5:	CE 0E64  STACMD LDX  #STALIN
0DF8:	20 08           BRA  TRANS
0DFA:	CE 0E71  BOOTCD LDX  #BOOTLN
0DFD:	20 03           BRA  TRANS
0DFF:	CE 0E7C  LNKCMD LDX  #LNKLIN
0E02:	3F 02    TRANS  SWI TXAB      PROCESS TRANSIENT COMMAND   
0E04:	DE 23           LDX  CUCHAR   SAVE OLD CUCHAR 
0E06:	3F 05           SWI PSHX
0E08:	3F 03           SWI TABX
0E0A:	DF 23           STX  CUCHAR   SET UP DUMMY CLI
0E0C:	BD 1117         JSR  LOADCMD   ISSUE LOAD COMMAND
0E0F:	3F 06           SWI PULX   
0E11:	DF 23           STX  CUCHAR   RESTORE CUCHAR
0E13:	CE 106D         LDX  #SAVEFCB
0E16:	6D 05           TST  5,X      GOOD LOAD?
0E18:	26 0C           BNE  $0E26    NO, QUIT
0E1A:	DE 27           LDX  VALUE    TRANSFER ADDRESS?
0E1C:	27 08           BEQ  $0E26    NO, QUIT
0E1E:	B6 07CB         LDAA $07CB
0E21:	F6 07CC         LDAB $07CC  
0E24:	6E 00           JMP  0,X      CMD GO TRANSFER ADDR **tron0
0E26:	39              RTS 

0E27:	30      DELLIN  FCC '0:DELETE.CMD'
                        FCB 0D

0E34:	30      PIPLIB  FCC '0:PIP.CMD'
                        FCB 0D

0E3E:	30      SECLIN  FCC '0:SECURITY.CMD'
                        FCB 0D

0E4D:	30      SETLIN  FCC '0:SET.CMD'
                        FCB 0D

0E57:	30      ASNLIN  FCC '0:ASSIGN.CMD'
                        FCB 0D

0E64:	30      STALIN  FCC '0:STATUS.CMD'
                        FCB 0D

0E71:	30      BOOTLN  FCC '0:BOOT.CMD'
                        FCB 0D

0E7C:	30      LNKLIN  FCC '0:LINK.CMD'
                        FCB 0D

0E87:	CE 0ECB SUBCMD  LDX  #$0ECB
0E8A:	6F 06           CLR  6,X
0E8C:	86 FF           LDAA #$FF
0E8E:	A7 29           STAA 41,X
0E90:	3F 2C           SWI FMTFCB
0E92:	3F 1E           SWI PRTERR
0E94:	6D 05           TST  5,X
0E96:	26 10           BNE  $0EA8
0E98:	3F 14           SWI OPEN
0E9A:	6D 05           TST  5,X
0E9C:	26 0A           BNE  $0EA8
0E9E:	A6 1D           LDAA 29,X
0EA0:	81 03           CMPA #$03
0EA2:	26 04           BNE  $0EA8
0EA4:	7C 0EC8         INC  SUBFLG
0EA7:	39              RTS 
0EA8:	CE 0EB5         LDX  #$0EB5
0EAB:	3F 31           SWI PRTMSG
0EAD:	CE 0ECB         LDX  #$0ECB
0EB0:	3F 1E           SWI PRTERR
0EB2:	3F 15           SWI CLOSE
0EB4:	39              RTS 

0EB5:	20 53    SUBLIN FCC ' SUBMIT FILE ERROR'
                        FCB 0D

0EC8:	00       SUBFLG FCB 00                SUBMIT FLAG
0EC9:	00       SUBTMP RMB 2

0ECB:	00       SUBFCB RMB 2
0ECD:	44              FCC 'DSK'
0ED0:	00              RMB 2
0ED2:	0E              FDB SUBBUF 
0ED4:	00              RMB 33
0EF5:            SUBBUF RMB SECSIZ (=128)

0F75:	CE 106D  SAVCMD LDX  #SAVFCB   PERFORM SAVE COMMAND
0F78:	6F 1D           CLR  FCBTYP,X  SET BINARY TYPE
0F7A:	6F 29           CLR  FCBSCF,X  SET NO COMPRESSION
0F7C:	6F 1E           CLR  FCBACS,X  ACCESS-TYPE=0
0F7E:	86 FF           LDAA #$FF
0F80:	A7 06           STAA FCBDDT,X  OUTPUT FILE
0F82:	3F 2C           SWI FMTFCB     FORMAT [DRIVE:] FNAME.EXT
0F84:	3F 1E           SWI PRTERR     PRINT ERROR MSG IS ANY
0F86:	6D 05           TST  FCBSTA,X  ERROR?
0F88:	27 01           BEQ  *+3
0F8A:	39              RTS            IS ERROR, RETURN
0F8B:	3F 2F           SWI NXTOK      GET TOKEN FROM CLI
0F8D:	96 26           LDAA CLASS
0F8F:	81 04           CMP #$04       DELIMITER?
0F91:	27 06           BEQ  SAVEB     YES
0F93:	CE 0B6B  SAV5   LDX  #FORMAT   NO, FORMAT ERROR 
0F96:	3F 31           SWI PRTMSG     MSG 'FORMAT ERROR'
0F98:	39              RTS 
0F99:	3F 2F    SAV5B  SWI NXTOK      GET TOKEN
0F9B:	D6 25           LDAB RC        CHECK RC
0F9D:	C1 03           CMPB #3        NUMBER?
0F9F:	26 F2           BNE  SAV5      NO, ERROR
0FA1:	DE 27           LDX  VALUE
0FA3:	FF 139E         STX  SAVEX     SAVE STARTING ADDRESS
0FA6:	3F 2F           SWI NXTOK      GET TOKEN FROM CLI
0FA8:	96 26           LDAA CLASS  
0FAA:	81 04           CMPA #4        DELIMITER?
0FAC:	26 E5           BNE  SAV5      NO, ERROR
0FAE:	3F 2F           SWI NXTOK      GET TOKEN
0FB0:	D6 25           LDAB RC        CHECK RC             
0FB2:	C1 03           CMPB #3        NUMBER?
0FB4:	26 DD           BNE  SAV5
0FB6:	DE 27           LDX  VALUE
0FB8:	FF 13A0         STX  SAVEX1    SAVE ENDING ADDRESS
0FBB:	3F 2F           SWI NXTOK      GET TOKEN
0FBD:	96 26           LDAA CLASS  
0FBF:	81 0D           CMPA #$0D      END OF LINE?
0FC1:	27 2B           BEQ  SAV6      YES (NO TRANSFER ADDRESS)
0FC3:	81 04           CMPA #$04      DELIMITER?
0FC5:	26 CC           BNE  SAV5      NO, ERROR 
0FC7:	3F 2F           SWI NXTOK      GET TOKEN
0FC9:	D6 25           LDAB RC        CHECK RC             
0FCB:	C1 03           CMPB #3        NUMBER?
0FCD:	26 C4           BNE  SAV5      NO, ERROR
0FCF:	CE 106D         LDX  #SAVFCB   POINT TO FCB
0FD2:	6C 1D           INC  FCBTYP,X  SET FILE TYPE TO 01 = COMMAND FILE
0FD4:	3F 14           SWI OPEN       OPEN SAVE FILE
0FD6:	6D 05           TST  FCBSTA,X  CHECK STATUS
0FD8:	27 03           BEQ  *+5       GOOD?
0FDA:	7E 105A         JMP  SAVERR    BAD
0FDD:	86 16           LDAA #$16      HEADER BYTE
0FDF:	BD 1062         JSR  $1062
0FE2:	96 27           LDAA $27
0FE4:	BD 1062         JSR  $1062
0FE7:	96 28           LDAA $28
0FE9:	BD 1062         JSR  $1062
0FEC:	20 09           BRA  $0FF7
0FEE:	CE 106D         LDX  #$106D
0FF1:	3F 14           SWI OPEN
0FF3:	6D 05           TST  5,X
0FF5:	26 63           BNE  $105A
0FF7:	B6 13A0         LDAA $13A0
0FFA:	F6 13A1         LDAB $13A1
0FFD:	F0 139F         SUBB $139F
1000:	B2 139E         SBCA $139E
1003:	27 29           BEQ  $102E
1005:	C6 FF           LDAB #$FF
1007:	CE 106D         LDX  #$106D
100A:	86 02           LDAA #$02
100C:	8D 54           BSR  $1062
100E:	B6 139E         LDAA $139E
1011:	8D 4F           BSR  $1062
1013:	B6 139F         LDAA $139F
1016:	8D 4A           BSR  $1062
1018:	17              TBA 
1019:	8D 47           BSR  $1062
101B:	FE 139E         LDX  $139E
101E:	A6 00           LDAA 0,X
1020:	08              INX 
1021:	FF 139E         STX  $139E
1024:	CE 106D         LDX  #$106D
1027:	8D 39           BSR  $1062
1029:	5A              DECB
102A:	26 EF           BNE  $101B
102C:	20 C9           BRA  $0FF7
102E:	CE 106D         LDX  #$106D
1031:	86 02           LDAA #$02
1033:	8D 2D           BSR  $1062
1035:	B6 139E         LDAA $139E
1038:	8D 28           BSR  $1062
103A:	B6 139F         LDAA $139F
103D:	8D 23           BSR  $1062
103F:	17              TBA 
1040:	8D 20           BSR  $1062
1042:	FE 139E         LDX  $139E
1045:	A6 00           LDAA 0,X
1047:	08              INX 
1048:	FF 139E         STX  $139E
104B:	CE 106D         LDX  #$106D
104E:	8D 12           BSR  $1062
1050:	5A              DECB
1051:	26 EF           BNE  $1042
1053:	3F 15           SWI CLOSE
1055:	6D 05           TST  5,X
1057:	26 01           BNE  $105A
1059:	39              RTS 
105A:	CE 106D         LDX  #$106D
105D:	3F 1E           SWI PRTERR
105F:	3F 15           SWI CLOSE
1061:	39              RTS 
1062:	3F 19           SWI WRITE
1064:	6D 05           TST  5,X
1066:	27 04           BEQ  $106C
1068:	31              INS 
1069:	31              INS 
106A:	20 EE           BRA  $105A
106C:	39              RTS
 
106D:	        SAVFCB  RMB 2
                        FCC 'DSK'
                        RMB 2
                        FDB SAVBUF  
                        RMB 33
                SAVBUF  RMB SECSIZ

1117:	CE 106D LOADCMD LDX  #SAVFCB    PERFORM LOAD COMMAND
111A:	3F 2C           SWI FMTFCB      FORMAT [DRIVE :] FNAME.EXT
111C:	3F 1E           SWI PRTERR
111E:	6D 05           TST  FCBSTA,X   ERROR?
1120:	26 04           BNE  LOD5
1122:	3F 25           SWI LOADB
1124:	3F 1E           SWI PRTERR
1126:	39       LOD5   RTS 

1127:	7F 0027  LOADB  CLR  $0027      LOAD BINARY
112A:	7F 0028         CLR  $0028
112D:	30              TSX 
112E:	EE 05           LDX  5,X
1130:	6F 06           CLR  6,X
1132:	6F 29           CLR  41,X
1134:	6F 05           CLR  5,X
1136:	3F 14           SWI OPEN
1138:	6D 05           TST  5,X
113A:	27 01           BEQ  $113D
113C:	39              RTS 
113D:	A6 1D           LDAA 29,X
113F:	27 22           BEQ  $1163
1141:	81 01           CMPA #$01
1143:	27 1E           BEQ  $1163
1145:	CE 1150         LDX  #$1150
1148:	3F 31           SWI PRTMSG
114A:	30              TSX 
114B:	EE 05           LDX  5,X
114D:	3F 15           SWI CLOSE
114F:	39              RTS 

1150:	                FCC ' ILLEGAL FILE-TYPE'
                        FCB 0D

1163:	30              TSX 
1164:	EE 05           LDX  5,X
1166:	8D 39           BSR  $11A1
1168:	81 16           CMPA #$16
116A:	26 0A           BNE  $1176
116C:	8D 33           BSR  $11A1
116E:	97 27           STAA $27
1170:	8D 2F           BSR  $11A1
1172:	97 28           STAA $28
1174:	20 ED           BRA  $1163
1176:	81 02           CMPA #$02
1178:	27 03           BEQ  $117D
117A:	3F 15           SWI CLOSE
117C:	39              RTS 
117D:	8D 22           BSR  $11A1
117F:	B7 139E         STAA $139E
1182:	8D 1D           BSR  $11A1
1184:	B7 139F         STAA $139F
1187:	8D 18           BSR  $11A1
1189:	B7 13A5         STAA $13A5
118C:	30              TSX 
118D:	EE 05           LDX  5,X
118F:	8D 10           BSR  $11A1
1191:	FE 139E         LDX  $139E
1194:	A7 00           STAA 0,X
1196:	08              INX 
1197:	FF 139E         STX  $139E
119A:	7A 13A5         DEC  $13A5
119D:	26 ED           BNE  $118C
119F:	20 C2           BRA  $1163
11A1:	3F 18           SWI READ
11A3:	E6 05           LDAB 5,X
11A5:	27 0A           BEQ  $11B1
11A7:	C1 08           CMPB #$08
11A9:	26 02           BNE  $11AD
11AB:	6F 05           CLR  5,X
11AD:	31              INS 
11AE:	31              INS 
11AF:	3F 15           SWI CLOSE
11B1:	39              RTS 

11B2:	CE 106D  RENCMD LDX  #$106D
11B5:	6F 06           CLR  6,X
11B7:	3F 2C           SWI FMTFCB
11B9:	3F 1E           SWI PRTERR
11BB:	6D 05           TST  5,X
11BD:	26 28           BNE  $11E7
11BF:	BD 16BF         JSR  SFILE     SEARCH DIR FOR FILE
11C2:	CE 07CD         LDX  #SYSFCB
11C5:	A6 0A           LDAA 10,X
11C7:	E6 0B           LDAB 11,X
11C9:	A7 1F           STAA 31,X
11CB:	E7 20           STAB 32,X
11CD:	A6 27           LDAA 39,X
11CF:	E6 28           LDAB 40,X
11D1:	A7 21           STAA 33,X
11D3:	E7 22           STAB 34,X
11D5:	EE 27           LDX  39,X
11D7:	A6 0E           LDAA 14,X
11D9:	81 02           CMPA #$02
11DB:	26 03           BNE  $11E0
11DD:	7E 12A4         JMP  $12A4
11E0:	CE 106D         LDX  #$106D
11E3:	6D 05           TST  5,X
11E5:	27 16           BEQ  $11FD
11E7:	CE 11ED         LDX  #$11ED
11EA:	3F 31           SWI PRTMSG
11EC:	39              RTS 

11ED:	                FCC ' RENAMING ERROR'
                        FCB 0D

11FD:	3F 2F           SWI NXTOK
11FF:	96 26           LDAA $26
1201:	81 04           CMPA #$04
1203:	27 06           BEQ  $120B
1205:	CE 0B6B         LDX  #FORMAT   MSG 'FORMAT ERROR'
1208:	3F 31           SWI PRTMSG
120A:	39              RTS 
120B:	3F 2F           SWI NXTOK
120D:	D6 25           LDAB $25 
120F:	C1 01           CMPB #$01
1211:	26 F2           BNE  $1205
1213:	DE 20           LDX  $20
1215:	FF 139E         STX  $139E
1218:	96 22           LDAA $22
121A:	B7 13A5         STAA $13A5
121D:	3F 2F           SWI NXTOK
121F:	D6 25           LDAB $25  
1221:	C1 2E           CMDB #$2E
1223:	26 E0           BNE 
1225:	7C 13           INC $13A5
1228:	3F 2F           SWI NXTOK
1229:	D6 25           LDAB $25 
122C:	C1 01           CMPB #$01
122E:	26 D5           BNE  $1205
1230:	D6 22           LDAB $22
1232:	FB 13A5         ADDB $13A5
1235:	CE 107D         LDX  #$107D
1238:	3F 05           SWI PSHX
123A:	FE 139E         LDX  $139E
123D:	3F 05           SWI PSHX
123F:	3F 34           SWI 
1241:	31              INS 
1242:	31              INS 
1243:	31              INS 
1244:	31              INS 
1245:	5D              TSTB
1246:	26 BD           BNE  $1205
1248:	CE 106D         LDX  #$106D
124B:	BD 16BF         JSR  SFILE     SEARCH DIR FOR FILE
124E:	CE 106D         LDX  #$106D
1251:	A6 05           LDAA 5,X
1253:	26 03           BNE  $1258
1255:	7E 128E         JMP  $128E
1258:	81 01           CMPA #$01
125A:	27 03           BEQ  $125F
125C:	7E 11E7         JMP  $11E7
125F:	CE 07CD         LDX  #SYSFCB
1262:	6F 05           CLR  5,X
1264:	A6 1F           LDAA 31,X
1266:	E6 20           LDAB 32,X
1268:	A7 0A           STAA 10,X
126A:	E7 0B           STAB 11,X
126C:	3F 13           SWI IOHDR
126E:	4D              TSTA
126F:	26 EB           BNE  $125C
1271:	EE 21           LDX  33,X
1273:	3F 05           SWI PSHX
1275:	CE 107D         LDX  #$107D
1278:	3F 05           SWI PSHX
127A:	C6 0C           LDAB #$0C
127C:	3F 11           SWI MOVC
127E:	31              INS 
127F:	31              INS 
1280:	31              INS 
1281:	31              INS 
1282:	CE 07CD         LDX  #SYSFCB
1285:	86 FF           LDAA #$FF
1287:	A7 06           STAA 6,X
1289:	3F 13           SWI IOHDR
128B:	6F 06           CLR  6,X
128D:	39              RTS 
128E:	CE 1294         LDX  #$1294
1291:	3F 31           SWI PRTMSG
1293:	39              RTS 

1294:	20 44           FCC ' DUPLICATE NAME'
                        FCB 0D

12A4:	CE 12AA  SECERR LDX  #$12AA
12A7:	3F 31           SWI PRTMSG
12A9:	39              RTS 

12AA:	                FCC ' SECURITY ERROR'
                        FCB 0D

12BA:	3F 2F           SWI NXTOK
12BB:	D6              
12BD:	25 C1           BCS  $1280
12BF:	03              ???
12C0:	27 0C           BEQ  $12CE
12C2:	96 26           LDAA $26
12C4:	81 04           CMPA #$04
12C6:	27 F2           BEQ  $12BA
12C8:	CE 0B6B         LDX  #FORMAT   MSG 'FORMAT ERROR'
12CB:	3F 31           SWI PRTMSG
12CD:	39              RTS 
12CE:	7D 0027         TST  $0027
12D1:	26 20           BNE  $12F3
12D3:	96 28           LDAA $28
12D5:	81 03           CMPA #$03
12D7:	22 1A           BHI  $12F3
12D9:	36              PSHA
12DA:	CE 12F9         LDX  #$12F9
12DD:	DF 23           STX  $23
12DF:	BD 1117         JSR  LOADCMD
12E2:	32              PULA
12E3:	CE 106D         LDX  #$106D
12E6:	6D 05           TST  5,X
12E8:	26 08           BNE  $12F2
12EA:	DE 27           LDX  $27
12EC:	27 04           BEQ  $12F2
12EE:	97 28           STAA $28
12F0:	6E 00           JMP  0,X  
12F2:	39              RTS 

12F3:	CE 0B78         LDX  #NUMBER   MSG 'NUMBER ERROR'
12F6:	3F 31           SWI PRTMSG
12F8:	39              RTS 
12F9:	30              TSX 
12FA:	3A              ???
12FB:	49              ROLA
12FC:	4E              ???
12FD:	49              ROLA
12FE:	54              LSRB
12FF:	2E 43           BGT  $1344
1301:	4D              TSTA
1302:	44              LSRA
1303:	0D              SEC 
1304:	44              LSRA
1305:	49              ROLA
1306:	52              ???
1307:	45              ???
1308:	43              COMA
1309:	54              LSRB
130A:	4F              CLRA
130B:	52              ???
130C:	59              ROLB
130D:	20 4F           BRA  $135E
130F:	46              RORA
1310:	20 44           BRA  $1356
1312:	52              ???
1313:	49              ROLA
1314:	56              RORB
1315:	45              ???
1316:	20 30           BRA  $1348
1318:	0A              CLV 
1319:	0D              SEC 
131A:	20 20           BRA  $133C
131C:	20 20           BRA  $133E
131E:	4E              ???
131F:	41              ???
1320:	4D              TSTA
1321:	45              ???
1322:	20 20           BRA  $1344
1324:	20 20           BRA  $1346
1326:	20 20           BRA  $1348
1328:	20 54           BRA  $137E
132A:	20 20           BRA  $134C
132C:	20 41           BRA  $136F
132E:	20 20           BRA  $1350
1330:	46              RORA
1331:	54              LSRB
1332:	2D 46           BLT  $137A
1334:	53              COMB
1335:	20 20           BRA  $1357
1337:	4C              INCA
1338:	54              LSRB
1339:	2D 4C           BLT  $1387
133B:	53              COMB
133C:	20 20           BRA  $135E
133E:	20 4E           BRA  $138E
1340:	53              COMB
1341:	0A              CLV 
1342:	0D              SEC 
1343:	42              ???
1344:	4F              CLRA
1345:	42              ???
1346:	53              COMB
1347:	20 20           BRA  $1369
1349:	20 20           BRA  $136B
134B:	2E 58           BGT  $13A5
134D:	52              ???
134E:	46              RORA
134F:	20 20           BRA  $1371
1351:	30              TSX 
1352:	33              PULB
1353:	20 20           BRA  $1375
1355:	30              TSX 
1356:	30              TSX 
1357:	20 20           BRA  $1379
1359:	32              PULA
135A:	32              PULA
135B:	20 31           BRA  $138E
135D:	30              TSX 
135E:	20 20           BRA  $1380
1360:	32              PULA
1361:	32              PULA
1362:	20 31           BRA  $1395
1364:	30              TSX 
1365:	20 20           BRA  $1387
1367:	30              TSX 
1368:	30              TSX 
1369:	30              TSX 
136A:	31              INS 
136B:	0D              SEC 
136C:	03              ???
136D:	7F 3F3F         CLR  $3F3F
1370:	3F              SWI 
1371:	3F              SWI 
1372:	3F              SWI 
1373:	3F              SWI 
1374:	3F              SWI 
1375:	3F              SWI 
1376:	2E 3F           BGT  $13B7
1378:	3F              SWI 
1379:	3F              SWI 
137A:	00              ???
137B:	2A 2E           BPL  $13AB
137D:	2A 0A           BPL  $1389
137F:	30              TSX 
1380:	30              TSX 
1381:	38              ???
1382:	39              RTS 
1383:	35              TXS 
1384:	2E 20           BGT  $13A6
1386:	53              COMB
1387:	45              ???
1388:	43              COMA
1389:	54              LSRB
138A:	4F              CLRA
138B:	52              ???
138C:	53              COMB
138D:	20 55           BRA  $13E4
138F:	53              COMB
1390:	45              ???
1391:	44              LSRA
1392:	0A              CLV 
1393:	0D              SEC 
1394:	27 10           BEQ  $13A6
1396:	03              ???
1397:	E8 00           EORB 0,X
1399:	64 00           LSR  0,X
139B:	0A              CLV 
139C:	00              ???
139D:	01              NOP 
139E:	13              ???
139F:	9F 1E           STS  $1E
13A1:	82 00           SBCA #$00
13A3:	00              ???
13A4:	00              ???
13A5:	05              ???
13A6:	7F 13A5         CLR  $13A5
13A9:	7F 13A4         CLR  $13A4
13AC:	86 0C           LDAA #$0C
13AE:	B7 139E         STAA $139E
13B1:	CE 136E         LDX  #$136E
13B4:	3F 05           SWI PSHX
13B6:	CE 137B         LDX  #$137B
13B9:	3F 05           SWI PSHX
13BB:	C6 03           LDAB #$03
13BD:	3F 34           SWI 
13BF:	31              INS 
13C0:	31              INS 
13C1:	31              INS 
13C2:	31              INS 
13C3:	3F 2F           SWI NXTOK
13C5:	D6              
13C6:	25 C1           BCS  $1389
13C8:	0D              SEC 
13C9:	26 03           BNE  $13CE
13CB:	7E 1455         JMP  $1455
13CE:	C1 2F           CMPB #$2F
13D0:	26 0F           BNE  $13E1
13D2:	3F 2F           SWI NXTOK
13D4:	DE              
13D5:	20 A6           BRA  $137D
13D7:	00              ???
13D8:	81 4C           CMPA #$4C
13DA:	26 37           BNE  $1413
13DC:	7C 13A4         INC  $13A4
13DF:	20 E2           BRA  $13C3
13E1:	C1 03           CMPB #$03
13E3:	26 26           BNE  $140B
13E5:	7D 0027         TST  $0027
13E8:	26 0B           BNE  $13F5
13EA:	96 28           LDAA $28
13EC:	81 03           CMPA #$03
13EE:	22 05           BHI  $13F5
13F0:	B7 13A5         STAA $13A5
13F3:	20 06           BRA  $13FB
13F5:	CE 0B78         LDX  #NUMBER   MSG 'NUMBER ERROR'
13F8:	3F 31           SWI PRTMSG
13FA:	39              RTS 
13FB:	3F 2F           SWI NXTOK
13FD:	D6              
13FE:	25 C1           BCS  $13C1
1400:	0D              SEC 
1401:	27 52           BEQ  $1455
1403:	C1 3A           CMPB #$3A
1405:	26 EE           BNE  $13F5
1407:	3F 2F           SWI NXTOK
1409:	D6              BLE  $13E0
140A:	25 C1           BCS  $13CD
140C:	01              NOP 
140D:	27 0A           BEQ  $1419
140F:	C1 02           CMPB #$02
1411:	27 06           BEQ  $1419
1413:	CE 0B6B         LDX  #FORMAT   MSG 'FORMAT ERROR'
1416:	3F 31           SWI PRTMSG
1418:	39              RTS 
1419:	DE 20           LDX  $20
141B:	FF 13A0         STX  $13A0
141E:	96 22           LDAA $22
1420:	B7 139E         STAA $139E
1423:	3F 2F           SWI NXTOK
1424:	D6              BLE  $13FC
1426:	25 C1           BCS  $13E9
1428:	2E 26           BGT  $1450
142A:	E8 7C           EORB 124,X
142C:	13              ???
142D:	9E 3F           LDS  $3F
142F:	2F D6           BLE  $1407
1431:	25 C1           BCS  $13F4
1433:	01              NOP 
1434:	27 06           BEQ  $143C
1436:	C1 02           CMPB #$02
1438:	27 02           BEQ  $143C
143A:	20 D7           BRA  $1413
143C:	D6 22           LDAB $22
143E:	FB 139E         ADDB $139E
1441:	CE 136E         LDX  #$136E
1444:	3F 05           SWI PSHX
1446:	FE 13A0         LDX  $13A0
1449:	3F 05           SWI PSHX
144B:	3F 34           SWI 
144D:	31              INS 
144E:	31              INS 
144F:	31              INS 
1450:	31              INS 
1451:	C1 02           CMPB #$02
1453:	27 BE           BEQ  $1413
1455:	7F 136C         CLR  $136C
1458:	7F 136D         CLR  $136D
145B:	7D 13A4         TST  $13A4
145E:	27 0F           BEQ  $146F
1460:	CE 0A59         LDX  #CONRCB     POINT TO CONSOLE RCB
1463:	86 4C           LDAA #$4C
1465:	A7 02           STAA 2,X
1467:	86 50           LDAA #$50
1469:	A7 03           STAA 3,X
146B:	86 54           LDAA #$54
146D:	A7 04           STAA 4,X
146F:	B6 13A5         LDAA $13A5
1472:	8B 30           ADDA #$30
1474:	B7 1317         STAA $1317
1477:	CE 1304         LDX  #$1304
147A:	3F 31           SWI PRTMSG
147C:	CE 131A         LDX  #$131A
147F:	3F 31           SWI PRTMSG
1481:	CE 07CD         LDX  #SYSFCB
1484:	3F 02           SWI TXAB
1486:	CE 07F7         LDX  #BUFFER
1489:	3F 04           SWI XABX
148B:	A7 07           STAA 7,X
148D:	E7 08           STAB 8,X
148F:	B6 13A5         LDAA $13A5
1492:	A7 09           STAA 9,X
1494:	3F 17           SWI OPEND
1496:	A6 05           LDAA 5,X
1498:	27 4B           BEQ  $14E5
149A:	81 01           CMPA #$01
149C:	26 44           BNE  DIRERR
149E:	B6 136C         LDAA $136C
14A1:	F6 136D         LDAB $136D
14A4:	CE 137F         LDX  #$137F
14A7:	FF 139E         STX  $139E
14AA:	CE 1394         LDX  #$1394
14AD:	7F 13A5         CLR  $13A5
14B0:	E0 01           SUBB 1,X
14B2:	A2 00           SBCA 0,X
14B4:	25 05           BCS  $14BB
14B6:	7C 13A5         INC  $13A5
14B9:	20 F5           BRA  $14B0
14BB:	EB 01           ADDB 1,X
14BD:	A9 00           ADCA 0,X
14BF:	36              PSHA
14C0:	FF 13A0         STX  $13A0
14C3:	FE 139E         LDX  $139E
14C6:	B6 13A5         LDAA $13A5
14C9:	8B 30           ADDA #$30
14CB:	A7 00           STAA 0,X
14CD:	32              PULA
14CE:	08              INX 
14CF:	FF 139E         STX  $139E
14D2:	FE 13A0         LDX  $13A0
14D5:	08              INX 
14D6:	08              INX 
14D7:	8C 139E         CPX  #$139E
14DA:	26 D1           BNE  $14AD
14DC:	CE 137E         LDX  #$137E
14DF:	3F 31           SWI PRTMSG
14E1:	39              RTS 
14E2:	3F 1E    DIRERR SWI PRTERR
14E4:	39              RTS 
14E5:	EE 27           LDX  39,X
14E7:	A6 00           LDAA 0,X
14E9:	81 20           CMPA #$20
14EB:	26 03           BNE  $14F0
14ED:	7E 15F2         JMP  $15F2
14F0:	3F 05           SWI PSHX
14F2:	CE 136E         LDX  #$136E
14F5:	3F 05           SWI PSHX
14F7:	C6 0C           LDAB #$0C
14F9:	3F 35           SWI 
14FB:	31              INS 
14FC:	31              INS 
14FD:	31              INS 
14FE:	31              INS 
14FF:	27 03           BEQ  $1504
1501:	7E 15F2         JMP  $15F2
1504:	CE 136A         LDX  #$136A
1507:	C6 20           LDAB #$20
1509:	86 27           LDAA #$27
150B:	E7 00           STAB 0,X
150D:	09              DEX 
150E:	4A              DECA
150F:	26 FA           BNE  $150B
1511:	3F 05           SWI PSHX
1513:	CE 07CD         LDX  #SYSFCB
1516:	EE 27           LDX  39,X
1518:	3F 05           SWI PSHX
151A:	C6 0C           LDAB #$0C
151C:	3F 11           SWI MOVC
151E:	3F 06           SWI PULX
1520:	3F 06           SWI PULX
1522:	08              INX 
1523:	08              INX 
1524:	08              INX 
1525:	3F 05           SWI PSHX
1527:	CE 07CD         LDX  #SYSFCB
152A:	EE 27           LDX  39,X
152C:	A6 0D           LDAA 13,X
152E:	16              TAB 
152F:	BD 15FA         JSR  $15FA
1532:	3F 06           SWI PULX
1534:	A7 00           STAA 0,X
1536:	08              INX 
1537:	17              TBA 
1538:	BD 15FE         JSR  $15FE
153B:	A7 00           STAA 0,X
153D:	08              INX 
153E:	08              INX 
153F:	08              INX 
1540:	3F 05           SWI PSHX
1542:	CE 07CD         LDX  #SYSFCB
1545:	EE 27           LDX  39,X
1547:	A6 0E           LDAA 14,X
1549:	16              TAB 
154A:	BD 15FA         JSR  $15FA
154D:	3F 06           SWI PULX
154F:	A7 00           STAA 0,X
1551:	08              INX 
1552:	17              TBA 
1553:	BD 15FE         JSR  $15FE
1556:	A7 00           STAA 0,X
1558:	08              INX 
1559:	08              INX 
155A:	08              INX 
155B:	3F 05           SWI PSHX
155D:	CE 07CD         LDX  #SYSFCB
1560:	EE 27           LDX  39,X
1562:	A6 0F           LDAA 15,X
1564:	16              TAB 
1565:	BD 15FA         JSR  $15FA
1568:	3F 06           SWI PULX
156A:	A7 00           STAA 0,X
156C:	08              INX 
156D:	17              TBA 
156E:	BD 15FE         JSR  $15FE
1571:	A7 00           STAA 0,X
1573:	08              INX 
1574:	08              INX 
1575:	3F 05           SWI PSHX
1577:	CE 07CD         LDX  #SYSFCB
157A:	EE 27           LDX  39,X
157C:	A6 10           LDAA 16,X
157E:	16              TAB 
157F:	BD 15FA         JSR  $15FA
1582:	3F 06           SWI PULX
1584:	A7 00           STAA 0,X
1586:	08              INX 
1587:	17              TBA 
1588:	BD 15FE         JSR  $15FE
158B:	A7 00           STAA 0,X
158D:	08              INX 
158E:	08              INX 
158F:	08              INX 
1590:	3F 05           SWI PSHX
1592:	CE 07CD         LDX  #SYSFCB
1595:	EE 27           LDX  39,X
1597:	A6 11           LDAA 17,X
1599:	16              TAB 
159A:	8D 5E           BSR  $15FA
159C:	3F 06           SWI PULX
159E:	A7 00           STAA 0,X
15A0:	08              INX 
15A1:	17              TBA 
15A2:	8D 5A           BSR  $15FE
15A4:	A7 00           STAA 0,X
15A6:	08              INX 
15A7:	08              INX 
15A8:	3F 05           SWI PSHX
15AA:	CE 07CD         LDX  #SYSFCB
15AD:	EE 27           LDX  39,X
15AF:	A6 12           LDAA 18,X
15B1:	16              TAB 
15B2:	8D 46           BSR  $15FA
15B4:	3F 06           SWI PULX
15B6:	A7 00           STAA 0,X
15B8:	08              INX 
15B9:	17              TBA 
15BA:	8D 42           BSR  $15FE
15BC:	A7 00           STAA 0,X
15BE:	08              INX 
15BF:	08              INX 
15C0:	08              INX 
15C1:	3F 05           SWI PSHX
15C3:	CE 07CD         LDX  #SYSFCB
15C6:	EE 27           LDX  39,X
15C8:	EE 13           LDX  19,X
15CA:	3F 02           SWI TXAB
15CC:	FE 136C         LDX  $136C
15CF:	3F 08           SWI ADDABX
15D1:	FF 136C         STX  $136C
15D4:	3F 06           SWI PULX
15D6:	36              PSHA
15D7:	8D 21           BSR  $15FA
15D9:	A7 00           STAA 0,X
15DB:	08              INX 
15DC:	32              PULA
15DD:	8D 1F           BSR  $15FE
15DF:	A7 00           STAA 0,X
15E1:	08              INX 
15E2:	17              TBA 
15E3:	8D 15           BSR  $15FA
15E5:	A7 00           STAA 0,X
15E7:	08              INX 
15E8:	17              TBA 
15E9:	8D 13           BSR  $15FE
15EB:	A7 00           STAA 0,X
15ED:	CE 1343         LDX  #$1343
15F0:	3F 31           SWI PRTMSG
15F2:	CE 07CD         LDX  #SYSFCB
15F5:	3F 1A           SWI GETDR
15F7:	7E 1496         JMP  $1496
15FA:	44              LSRA
15FB:	44              LSRA
15FC:	44              LSRA
15FD:	44              LSRA
15FE:	84 0F           ANDA #$0F
1600:	8B 30           ADDA #$30
1602:	81 39           CMPA #$39
1604:	23 02           BLS  $1608
1606:	8B 07           ADDA #$07
1608:	39              RTS 
1609:	CE 106D         LDX  #$106D
160C:	3F 05           SWI PSHX
160E:	30              TSX 
160F:	EE 07           LDX  7,X
1611:	3F 05           SWI PSHX
1613:	C6 1E           LDAB #$1E
1615:	3F 11           SWI MOVC
1617:	31              INS 
1618:	31              INS 
1619:	31              INS 
161A:	31              INS 
161B:	CE 106D         LDX  #$106D
161E:	3F 02           SWI TXAB
1620:	CE 1097         LDX  #$1097
1623:	3F 04           SWI XABX
1625:	A7 07           STAA 7,X
1627:	E7 08           STAB 8,X
1629:	6F 05           CLR  5,X
162B:	3F 25           SWI LOADB
162D:	6D 05           TST FCBSTA,X             
162F:	26 0F           BNE  $1640
1631:	DE 27           LDX  $27
1633:	27 0B           BEQ  $1640
1635:	31              INS 
1636:	31              INS 
1637:	31              INS 
1638:	31              INS 
1639:	31              INS 
163A:	31              INS 
163B:	31              INS 
163C:	31              INS 
163D:	31              INS 
163E:	6E 00           JMP  0,X  GO TO TRANS ADDR OF CHAINED PROG

1640:	CE 1678         LDX  #$1678
1643:	3F 05           SWI PSHX
1645:	CE 107D         LDX  #$107D
1648:	3F 05           SWI PSHX
164A:	C6 0C           LDAB #$0C
164C:	3F 11           SWI MOVC
164E:	31              INS 
164F:	31              INS 
1650:	31              INS 
1651:	31              INS 
1652:	CE 1666         LDX  #$1666
1655:	3F 31           SWI PRTMSG
1657:	31              INS 
1658:	31              INS 
1659:	31              INS 
165A:	31              INS 
165B:	31              INS 
165C:	31              INS 
165D:	31              INS 
165E:	31              INS 
165F:	31              INS 
1660:	CE 106D         LDX  #$106D
1663:	3F 15           SWI CLOSE
1665:	39              RTS 

1666:	         CHANLN FCC ' UNABLE TO CHAIN: '
1678             CHANME RMB 12 
1684:	                FDB $0A0D

1686:	CE 07CD  SEMPTY LDX  #SYSFCB   SEARCH DIR FOR EMPTY SLOT
1689:	A7 09           STAA 9,X
168B:	3F 02           SWI TXAB
168D:	CE 07F7         LDX  #BUFFER
1690:	3F 04           SWI XABX
1692:	A7 07           STAA 7,X
1694:	E7 08           STAB 8,X
1696:	6F 05           CLR  5,X
1698:	3F 17           SWI OPEND      OPEN DIRECTORY
169A:	A6 05           LDAA 5,X
169C:	27 07           BEQ  $16A5
169E:	81 01           CMPA #$01
16A0:	27 13           BEQ  $16B5
16A2:	7E 14E2         JMP  DIRERR
16A5:	EE 27           LDX  39,X
16A7:	A6 00           LDAA 0,X
16A9:	81 20           CMPA #$20
16AB:	26 01           BNE  $16AE
16AD:	39              RTS 
16AE:	CE 07CD         LDX  #SYSFCB
16B1:	3F 1A           SWI GETDR
16B3:	20 E5           BRA  $169A
16B5:	A6 0B           LDAA 11,X
16B7:	81 1A->12       CMPA #TRKSIZ  USE MF68 NUMBER OF SECTORS PER TRACK
16B9:	26 01           BNE  $16BC
16BB:	39              RTS 
16BC:	6F 05           CLR  5,X
16BE:	39              RTS 

                        SEARCH DIR FOR UNAMBIGUOUS FILE 
                        X-REG = FCB WITH FILENAME AND DRIVE NUM
                        RETURN ADDR OF DIR BLOCK IN FCBIND
                        RETURN STATUS IN FCBSTA

16BF:	3F 05    SFILE  SWI PSHX       SAVE FCB ADDR
16C1:	A6 09           LDAA FCBDRV,X  GET DRIVE NUM
16C3:	CE 07CD         LDX  #SYSFCB
16C6:	A7 09           STAA FCBDRV,X  PUT DRV IN SYSTEM FCB
16C8:	3F 02           SWI TXAB
16CA:	CE 07F7         LDX  #BUFFER   PROVIDE A BUFFER ADDR
16CD:	3F 04           SWI XABX
16CF:	A7 07           STAA FCBDBA,X
16D1:	E7 08           STAB FCBDBA+1,X
16D3:	6F 05           CLR  FCBSTA,X  CLEAR STATUS 
16D5:	3F 17           SWI OPEND      OPEN DIRECTORY
16D7:	A6 05    SFILE2 LDAA FCBSTA,X  CHECK STATUS
16D9:	27 0B           BEQ  SFILE3    BR IF STATUS OK
16DB:	81 01           CMPA #$01      END OF DIR?
16DD:	27 3B           BEQ  SFILE5    BR IF YES
16DF:	3F 06           SWI PULX
16E1:	A7 05           STAA FCBSTA,X  SET ERROR STATUS
16E3:	7E 14E2         JMP  DIRERR    ISSUE ERROR MSG
16E6:	EE 27    SFILE3 LDX  FCBIND,X
16E8:	A6 00           LDAA 0,X       CHECK DIR BLOCK 
16EA:	81 20           CMPA #$20      FIRST CHAR OF NAME=BLANK?
16EC:	26 07           BNE  SFILE4
16EE:	CE 07CD  SFNEXT LDX  #SYSFCB   POINT TO SYSTEM FCB
16F1:	3F 1A           SWI GETDR      GET NEXT DIR BLOCK
16F3:	20 E2           BRA  SFILE2    KEEP SEARCHING
16F5:	3F 05    SFILE4 SWI PSHX       STACK ADDR OF DIR NAME 
16F7:	30              TSX 
16F8:	EE 02           LDX  2,X       POINT TO SAVED FCB ADDR
16FA:	86 10           LDAA #FCBNAM
16FC:	3F 09           SWI ADDAX      POINT T0 NAME IN FCB
16FE:	3F 05           SWI PSHX       STACK SEARCH NAME ADDR
1700:	C6 0C           LDAB #$0C      12 CHAR COMPARISON
1702:	3F 12           SWI CMPC       COMPARE NAMES
1704:	31              INS            CLEAN STACK
1705:	31              INS 
1706:	31              INS 
1707:	31              INS 
1708:	26 E4           BNE  SFNEXT    NO MATCH, KEEP LOOKING
170A:	CE 07CD  SFOUND LDX  #SYSFCB
170D:	EE 27           LDX  FCBIND,X  RECOVER DIR BLOCK ADDR
170F:	3F 02           SWI TXAB
1711:	3F 06           SWI PULX       RECOVER FCB ADDR
1713:	A7 27           STAA FCBIND,X
1715:	E7 28           STAB FCBIND+1,X
1717:	6F 05           CLR  FCBSTA,X  GOOD STATUS
1719:	39              RTS            RETURN TO CLI
171A:	3F 06    SFILE5 SWI PULX       RECOVER X
171C:	A7 05           STAA FCBSTA,X  RETURN STATUS
171E:	39              RTS 

171F:	30       DELETE TSX            DELETE FILE
1720:	EE 05           LDX  5,X
1722:	8D 9B           BSR  SFILE     SEARCH DIR FOR FILE
1724:	30              TSX 
1725:	EE 05           LDX  5,X
1727:	6D 05           TST  5,X
1729:	27 01           BEQ  $172C
172B:	39              RTS 
172C:	EE 27           LDX  39,X
172E:	6D 0E           TST  14,X
1730:	27 24           BEQ  $1756
1732:	CE 173F         LDX  #DELERR
1735:	3F 31           SWI PRTMSG
1737:	30              TSX 
1738:	EE 05           LDX  5,X
173A:	86 12           LDAA #$12
173C:	A7 05           STAA 5,X
173E:	39              RTS 

173F:	        DELERR  FCC ' FILE DELETE-PROTECTED'
                        FCB $0D

1756:	DE 29           LDX  $29
1758:	27 46           BEQ  $17A0
175A:	6D 06           TST  6,X
175C:	27 0D           BEQ  $176B
175E:	A6 09           LDAA 9,X
1760:	3F 05           SWI PSHX
1762:	30              TSX 
1763:	EE 07           LDX  7,X
1765:	A1 09           CMPA 9,X
1767:	27 08           BEQ  $1771
1769:	3F 06           SWI PULX
176B:	EE 25           LDX  37,X
176D:	26 EB           BNE  $175A
176F:	20 2F           BRA  $17A0
1771:	31              INS 
1772:	31              INS 
1773:	CE 1780         LDX  #FOPERR
1776:	3F 31           SWI PRTMSG
1778:	86 12           LDAA #$12
177A:	30              TSX 
177B:	EE 05           LDX  5,X
177D:	A7 05           STAA 5,X
177F:	39              RTS 

1780:		FOPERR  FCC ' DELETE ERROR-OPEN OUTPUR FILE'
                        FCB $0D
                        
17A0:	30              TSX 
17A1:	EE 05           LDX  5,X
17A3:	EE 27           LDX  39,X
17A5:	A6 0F           LDAA 15,X
17A7:	E6 10           LDAB 16,X
17A9:	30              TSX 
17AA:	EE 05           LDX  5,X
17AC:	A7 1F           STAA 31,X
17AE:	E7 20           STAB 32,X
17B0:	EE 27           LDX  39,X
17B2:	A6 11           LDAA 17,X
17B4:	E6 12           LDAB 18,X
17B6:	30              TSX 
17B7:	EE 05           LDX  5,X
17B9:	A7 21           STAA 33,X
17BB:	E7 22           STAB 34,X
17BD:	EE 27           LDX  39,X
17BF:	86 20           LDAA #$20
17C1:	A7 00           STAA 0,X
17C3:	CE 07CD         LDX  #SYSFCB
17C6:	86 FF           LDAA #$FF
17C8:	A7 06           STAA 6,X
17CA:	3F 13           SWI IOHDR
17CC:	6F 06           CLR  6,X
17CE:	6D 05           TST  5,X
17D0:	27 01           BEQ  $17D3
17D2:	39              RTS 
17D3:	A6 09           LDAA 9,X
17D5:	CE 106D         LDX  #$106D
17D8:	A7 09           STAA 9,X
17DA:	86 00           LDAA #$00
17DC:	C6 03           LDAB #$03
17DE:	A7 0A           STAA 10,X
17E0:	E7 0B           STAB 11,X
17E2:	6F 06           CLR  6,X
17E4:	3F 13           SWI IOHDR
17E6:	A6 05           LDAA 5,X
17E8:	26 E4           BNE  $17CE
17EA:	EE 07           LDX  7,X
17EC:	A6 7E           LDAA 126,X
17EE:	E6 7F           LDAB 127,X
17F0:	B7 139E         STAA $139E
17F3:	F7 139F         STAB $139F
17F6:	30              TSX 
17F7:	EE 05           LDX  5,X
17F9:	A6 1F           LDAA 31,X
17FB:	E6 20           LDAB 32,X
17FD:	CE 106D         LDX  #$106D
1800:	EE 07           LDX  7,X
1802:	A7 7E           STAA 126,X
1804:	E7 7F           STAB 127,X
1806:	36              PSHA
1807:	CE 106D         LDX  #$106D
180A:	A6 09           LDAA 9,X
180C:	48              ASLA
180D:	CE 002B         LDX  #$002B
1810:	3F 09           SWI ADDAX
1812:	32              PULA
1813:	A7 00           STAA 0,X
1815:	E7 01           STAB 1,X
1817:	CE 106D         LDX  #$106D
181A:	63 06           COM  6,X
181C:	3F 13           SWI IOHDR
181E:	6F 06           CLR  6,X
1820:	A6 05           LDAA 5,X
1822:	26 AA           BNE  $17CE
1824:	30              TSX 
1825:	EE 05           LDX  5,X
1827:	A6 21           LDAA 33,X
1829:	E6 22           LDAB 34,X
182B:	CE 106D         LDX  #$106D
182E:	A7 0A           STAA 10,X
1830:	E7 0B           STAB 11,X
1832:	3F 13           SWI IOHDR
1834:	A6 05           LDAA 5,X
1836:	26 96           BNE  $17CE
1838:	EE 07           LDX  7,X
183A:	B6 139E         LDAA $139E
183D:	F6 139F         LDAB $139F
1840:	A7 00           STAA 0,X
1842:	E7 01           STAB 1,X
1844:	CE 106D         LDX  #$106D
1847:	63 06           COM  6,X
1849:	3F 13           SWI IOHDR
184B:	6F 06           CLR  6,X
184D:	39              RTS 

184E:	30      FMTFCB  TSX         FORMAT FCB   
184F:	EE 05           LDX  5,X    SET X=FCB
1851:	6F 05           CLR  5,X    CLEAR STATUS
1853:	6F 09           CLR  9,X    FCBDRV=0 
1855:	3F 2F           SWI NXTOK   GET TOKEN
1857:	D6 25           LDAB RC     TYPE OF TOKEN
1859:	C1 03           CMPB #$03   NUMBER?
185B:	26 29           BNE  PARS2 ($1886) BR IF NOT A NUM
185D:	7D 0027         TST  VALUE  VALID DRIVE NUMBER?
1860:	26 0A           BNE  $186C  BR IF NOT
1862:	96 28           LDAA VALUE+1
1864:	81 03           CMPA #$03   VALID DRIVE NUMBER (0..3)?
1866:	22 04           BHI  $186C  BR IF >3
1868:	A7 09           STAA 9,X    STORE IN FCBDRV
186A:	20 0E           BRA  $187A
186C:	30              TSX 
186D:	EE 05           LDX  5,X
186F:	86 15           LDAA #$15
1871:	A7 05           STAA 5,X
1873:	7F 0027         CLR  $0027
1876:	7F 0028         CLR  $0028
1879:	39              RTS 
187A:	3F 2F           SWI NXTOK   GET TOKEN
187B:	D6 25           LDAB RC     TYPE OF TOKEN  
187e:	C1 3A           CMP B #':'  COLOM?
1880:	26 EA           BNE  $186C  IF NOT, ERROR
1882:	3F 2F           SWI NXTOK   GET TOKEN
1884:	D6 25           LDAB RC     TYPE OF TOKEN (FNAME)
1886:	C1 01    PARS2  CMPB #$01   UNAMBIG NAME?
1888:	27 08           BEQ  PARS4 ($1892) YES, GOOD
188A:	30              TSX 
188B:	EE 05           LDX  5,X
188D:	86 15           LDAA #$15
188F:	A7 05           STAA 5,X
1891:	39              RTS 
1892:	DE 20    PARS4  LDX  DESCRA POINT TO FMANE 
1894:	FF 139E         STX  SAVEX  SAVE IN TEMP LOC
1897:	96 22           LDAA DESCRC GET FNAME LENGTH 
1899:	B7 13A5         STAA SAVEA  SAVE IN TEMP LOC
189C:	3F 2F           SWI NXTOK   GET TOKEN
189E:	D6 25           LDAB RC     TYPE OF TOKEN  
18A0:	C1 2E           CMPB #'.'   PERIOD?
18A2:	26 E6           BNE PARSE3  BR IF ERROR
18A4:	7C 13A5         INC SAVEA   COUNT THE PERIOD IN FNAME LENGTH
18A7:	3F 2F           SWI NXTOK   GET TOKEN 
18A9:	D6 25           LDAB RC     TYPE OF TOKEN (EXTENSION)
18AB:	C1 01           CMPB #$01   UNAMBIG NAME?
18AD:	26 DB           BNE  $188A  BR TO ERROR IF NOT
18AF:	D6 22           LDAB DESCRC GET EXT LENGTH
18B1:	FB 13A5         ADDB SAVEA  ADD TO TOTAL LENGTH
18B4:	30              TSX 
18B5:	EE 05           LDX  5,X    X=FCB
18B7:	86 10           LDAA #$10
18B9:	3F 09           SWI ADDAX   X POINTS TO FCBNAM
18BB:	3F 05           SWI PSHX
18BD:	FE 139E         LDX  $139E
18C0:	3F 05           SWI PSHX
18C2:	3F 34           SWI FMTS    FORMAT FILE NAME
18C4:	31              INS 
18C5:	31              INS 
18C6:	31              INS 
18C7:	31              INS 
18C8:	5D              TSTB
18C9:	26 BF           BNE  $188A
18CB:	39              RTS 

18CC:	7E 07CD  SYSFCB EXT SYSFCB

                        OPEN DIRECTORY

18CF:	30       OPEND  TSX            
18D0:	EE 05           LDX  UXH,X     POINT TO FCB
18D2:	6F 06           CLR  FCBDTT,X  INPUT
18D4:	6F 0A           CLR  FCBTRK,X  TRACK=0
18D6:	86 04           LDAA #$04      SECTOR=4 (START OF DIR)
18D8:	A7 0B    OPEND0 STAA FCBSCT,X
18DA:	6F 05           CLR  FCBSTA,X  CLEAR ERROR STATUS
18DC:	A6 07           LDAA FCBDBA,X
18DE:	E6 08           LDAB FCBDBA+1,X  (A,B)=ADDR OF BUFFER
18E0:	A7 27           STAA FCBIND,X    INIT DIR BLOCK POINTER 
18E2:	E7 28           STAB FCBIND+1,X
18E4:	3F 13           SWI IOHDR      READ SECTOR
18E6:	4D              TSTA           ERRORS?
18E7:	26 0C           BNE  OPEND2    BR IF YES
18E9:	EE 27    OPEND1 LDX  FCBIND,X  POINT TO DATA BLOCK
18EB:	6D 00           TST  0,X       FIRST CHAR=0?   
18ED:	27 09           BEQ  OPEND3    BR IF YES (EOF)
18EF:	30              TSX 
18F0:	EE 05           LDX  UXH,X     POINT TO FCB
18F2:	6F 05           CLR  FCBSTA,X  RETURN NO ERRORS
18F4:	39              RTS  
18F5:	A7 05    OPEND2 STAA FCBSTA,X  RETURN ERROR CODE
18F7:	39              RTS 
18F8:	30       OPEND3 TSX 
18F9:	EE 05           LDX  UXH,X     POINT TO FCB
18FB:	86 01           LDAA #$01
18FD:	A7 05           STAA FCBSTA,X  RETURN STATUS=1
18FF:	39              RTS 

1900:	30       GETDR  TSX  
1901:	EE 05           LDX  UXH,X     POINT TO FCB 
1903:	A6 27           LDAA FCBIND,X
1905:	E6 28           LDAB FCBIND+1,X
1907:	CB 20           ADDB #DIRBLK   MOVE INDEX TO NEXT DIR BLOCK 
1909:	89 00           ADCA #$00
190B:	A7 27           STAA FCBIND,X
190D:	E7 28           STAB FCBIND+1,X
190F:	EE 07           LDX  FCBDBA,X  BUFFER ADDR
1911:	36              PSHA
1912:	86 80           LDAA #$80      SECTOR SIZE
1914:	3F 09           SWI ADDAX      BUFFER END ADDR
1916:	32              PULA
1917:	3F 0B           SWI SUBXAB     COMPARE INDEX TO BUFFER END ADDR
1919:	27 08           BEQ  GETDR2    BR IF NEED NEW SECTOR
191B:	30              TSX            
191C:	EE 05           LDX  5,X       POINT TO FCB
191E:	4F              CLRA
191F:	A7 05           STAA FCBSTA,X  CLEAR ERROR STATUS
1921:	20 C6           BRA  OPEND1    FINISH UP
1923:	30       GETDR2 TSX 
1924:	EE 05           LDX  UXH,X     POINT TO FCB
1926:	A6 0B           LDAA FCBSCT,X     
1928:	4C              INCA           NEXT SECTOR
1929:	81 1B->13       CMPA #TRKSIZ+1  USE MF68 NUMBER OF SECTORS PER TRACK
192B:	27 CB           BEQ  OPEND3    BR IF END OF TRACK (TO RETURN EOF)
192D:	7E 18D8         JMP  OPEND0    GET NEW SECTOR

1930:	30        PUTDR TSX 
1931:	EE 05           LDX  5,X
1933:	EE 27           LDX  39,X
1935:	3F 05           SWI PSHX
1937:	30              TSX 
1938:	EE 07           LDX  7,X
193A:	86 10           LDAA #$10
193C:	3F 09           SWI ADDAX
193E:	3F 05           SWI PSHX
1940:	C6 15           LDAB #$15
1942:	3F 11           SWI MOVC
1944:	31              INS 
1945:	31              INS 
1946:	31              INS 
1947:	31              INS 
1948:	FE 18CD         LDX  $18CD
194B:	63 06           COM  6,X
194D:	3F 13           SWI IOHDR
194F:	30              TSX 
1950:	EE 05           LDX  5,X
1952:	A7 05           STAA 5,X
1954:	39              RTS 

                        SFIO SEQUENTIAL IO (PDF P146/250)

1955:	00 80    BUFSIZ FDB SECSIZ=128 
1957:	7E 1686         EXT SEMPTY
195A:	7E 16BF         EXT SFILE
195D:	7E 07CD         EXT SYSFCB    

                        OPEN SEQUENTIAL FILE

1960:	30       OPEN   TSX            
1961:	EE 05           LDX  UXH,X     POINT TO FCB 
1963:	3F 02           SWI TXAB       
1965:	DE 29           LDX  FCBCHN    START OF ACTIVE FCB CHAIN
1967:	27 15           BEQ  OPEN3     EMPTY CHAIN?
1969:	3F 05    OPEN1  SWI PSHX
196B:	3F 0C           SWI SUBABX     FOUND FCB?
196D:	3F 06           SWI PULX 
196F:	27 06           BEQ  OPEN2     YES, ERROR
1971:	EE 25           LDX  FCBNFB,X  GET NEXT CHAIN, LOOP
1973:	26 F4           BNE  OPEN1
1975:	20 07           BRA  OPEN3     IF END, OK
1977:	3F 03    OPEN2  SWI TABX       POINT TO FCB
1979:	86 0D           LDAA #$0D      SET ERROR STATUS (FILE ALREADY OPEN)
197B:	A7 05           STAA FCBSTA,X
197D:	39              RTS 
197E:	3F 03    OPEN3  SWI TABX       POINT TO FCB
1980:	6D 06           TST  FCBDDT,X  READ OF WRITE?
1982:	27 03           BEQ  OPENR     OPEN FOR READ
1984:	7E 1A19         JMP  OPENW     OPEN FOR WRITE

                        OPEN SEQUENTIAL FILE FOR INPUT

1987:	BD 195A  OPENR  JSR  SFILE     SEARCH DIRECTORY
198A:	6D 05           TST  FCBSTA,X  CHECK STATUS
198C:	27 05           BEQ  $1993     GOOD?
198E:	86 04           LDAA #$04      ERROR STATUS (NO SUCH FILE)
1990:	A7 05           STAA FCBSTA,X
1992:	39              RTS 
1993:	86 1D    OPENR1 LDAA #FCBTYP
1995:	3F 09           SWI ADDAX      X POINT TO TYPE FIELD IN FCB
1997:	3F 05           SWI PSHX       STACK FILETYPE FCB ADDR
1999:	30              TSX 
199A:	EE 07           LDX  UXH+2,X   POIT TO FCB
199C:	EE 27           LDX  FCBIND,X  POINT TO DIRECTORY
199E:	86 0D           LDAA #FIBTYP
19A0:	3F 09           SWI ADDAX      X POINT TO TYPE FIELD IN DIR BLOCK 
19A2:	3F 05           SWI PSHX       STACK FILETYPE DIR ADDR
19A4:	C6 08           LDAB #$08      8 BYTE FO MOVE FROM DIR TO FCB
19A6:	3F 11           SWI MOVC
19A8:	31              INS            CLEAN STACK
19A9:	31              INS 
19AA:	31              INS 
19AB:	31              INS 
19AC:	30              TSX 
19AD:	EE 05           LDX  UXH,X     POINT TO FCB
19AF:	A6 1F           LDAA FCBFTS,X    A/B=FIRST TRACK/SECTOR
19B1:	E6 20           LDAB FCBFTS+1,X  OF FILE
19B3:	A7 0A           STAA FCBTRK,X  INIT CURRENT TRACK/SECTOR
19B5:	E7 0B           STAB FCBSCT,X  
19B7:	3F 13           SWI IOHDR      READ FIRST SECTOR OF FILE 
19B9:	4D              TSTA           ERROR?
19BA:	27 03           BEQ  OPENR2    NO
19BC:	A7 05           STAA FCBSTA,X  RETURN ERROR STATUS
19BE:	39              RTS 
19BF:	EE 07    OPENR2 LDX  FCBDBA,X  X=ADDR OF FCB BUFFER
19C1:	A6 00           LDAA 0,X       GET FORWARD T/S LINKS
19C3:	E6 01           LDAB 1,X
19C5:	30              TSX 
19C6:	EE 05           LDX  UXH,X     X POINT TO FCB
19C8:	A7 0C           STAA FCBFWD,X  PUT IN LINKS
19CA:	E7 0D           STAB FCBFWD+1,X  
19CC:	EE 07           LDX  FCBDBA,X  X=ADDR OF FCB BUFFER
19CE:	A6 02           LDAA FCBBAK,X  GET BACKWARD T/S LINKS
19D0:	E6 03           LDAB FCBBAK+1,X
19D2:	30              TSX 
19D3:	EE 05           LDX  UXH,X     X POINT TO FCB
19D5:	A7 0E           STAA FCBBAK,X  PUT IN BACKWARD LINKS
19D7:	E7 0F           STAB FCBBAK+1,X
19D9:	A6 07    OPENR3 LDAA FCBDBA,X  
19DB:	E6 08           LDAB FCBDBA+1,X
19DD:	CB 04           ADDB #$04      INIT BUFFER INDEX
19DF:	89 00           ADCA #$00
19E1:	A7 27           STAA FCBIND,X
19E3:	E7 28           STAB FCBIND+1,X

                        PUT FCB ONTO ACTIVE FCB CHAIN

19E5:	6F 25           CLR  FCBNFB,X  MAKE FCB END OF CHAIN
19E7:	6F 26           CLR  FCBNFB+1,X
19E9:	DE 29           LDX  FCBCHN    SEARCH CHAIN FOR END LINK
19EB:	26 0E           BNE  OPEN5     EMPTY CHAIN?
19ED:	30              TSX            YES
19EE:	A6 05           LDAA UXH,X     GET FCB ADDR IN (A,B)
19F0:	E6 06           LDAB UXL,X
19F2:	97 29           STAA FCBCHN    INIT CHAIN
19F4:	D7 2A           STAB FCBCHN+1
19F6:	3F 03           SWI TABX       RESTORE FCB ADDR
19F8:	6F 05           CLR  FCBSTA,X  GOOD STATUS
19FA:	39              RTS 
19FB:	6D 25    OPEN5  TST  FCBNFB,X  AT END OF CHAIN?
19FD:	26 16           BNE  OPEN6     BR IF NOT
19FF:	6D 26           TST  FCBNFB+1,X
1A01:	26 12           BNE  OPEN6
1A03:	3F 05           SWI PSHX       SAVE END OF CHAIN ADDR
1A05:	30              TSX            GET FCB ADDR IN (A,B)
1A06:	A6 07           LDAA UXH,X
1A08:	E6 08           LDAB UXL,X
1A0A:	3F 06           SWI PULX       GET BACK END OF CHAIN ADDR
1A0C:	A7 25           STAA FCBNFB,X  PATCH CHAIN
1A0E:	E7 26           STAB FCBNFB+1,X
1A10:	3F 03           SWI TABX       RESTORE FCB ADDR
1A12:	6F 05           CLR  FCBSTA,X  GOOD STATUS
1A14:	39              RTS 
1A15:	EE 25    OPEN6  LDX  FCBNFB,X  GET NEXT LINK IN CHAIN
1A17:	20 E2           BRA  OPEN5

                        OPEN SEQUENTIAL FILE FOR OUTPUT

1A19:	BD 195A         JSR  SFILE     SEARCH DIRECTORY
1A1C:	A6 05           LDAA 5,X
1A1E:	81 01           CMPA #$01
1A20:	27 05           BEQ  $1A27
1A22:	86 03           LDAA #$03
1A24:	A7 05           STAA 5,X
1A26:	39              RTS 
1A27:	A6 09           LDAA 9,X
1A29:	BD 1957         JSR  $1957
1A2C:	FE 195E         LDX  $195E
1A2F:	A6 05           LDAA 5,X
1A31:	27 0E           BEQ  $1A41
1A33:	81 01           CMPA #$01
1A35:	27 06           BEQ  $1A3D
1A37:	30              TSX 
1A38:	EE 05           LDX  5,X
1A3A:	A7 05           STAA 5,X
1A3C:	39              RTS 
1A3D:	86 06           LDAA #$06
1A3F:	20 F6           BRA  $1A37
1A41:	A6 27           LDAA 39,X
1A43:	E6 28           LDAB 40,X
1A45:	30              TSX 
1A46:	EE 05           LDX  5,X
1A48:	A7 27           STAA 39,X
1A4A:	E7 28           STAB 40,X
1A4C:	6F 23           CLR  35,X
1A4E:	6F 24           CLR  36,X
1A50:	6F 21           CLR  33,X
1A52:	6F 22           CLR  34,X
1A54:	6F 0E           CLR  14,X
1A56:	6F 0F           CLR  15,X
1A58:	A6 09           LDAA 9,X
1A5A:	84 03           ANDA #$03
1A5C:	48              ASLA
1A5D:	CE 002B         LDX  #$002B
1A60:	3F 09           SWI ADDAX
1A62:	3F 05           SWI PSHX
1A64:	A6 00           LDAA 0,X
1A66:	E6 01           LDAB 1,X
1A68:	4D              TSTA
1A69:	27 03           BEQ  $1A6E
1A6B:	5D              TSTB
1A6C:	26 27           BNE  $1A95
1A6E:	30              TSX 
1A6F:	EE 07           LDX  7,X
1A71:	6F 06           CLR  6,X
1A73:	86 00           LDAA #$00
1A75:	C6 03           LDAB #$03
1A77:	A7 0A           STAA 10,X
1A79:	E7 0B           STAB 11,X
1A7B:	3F 13           SWI IOHDR
1A7D:	63 06           COM  6,X
1A7F:	4D              TSTA
1A80:	27 05           BEQ  $1A87
1A82:	A7 05           STAA 5,X
1A84:	31              INS 
1A85:	31              INS 
1A86:	39              RTS 
1A87:	EE 07           LDX  7,X
1A89:	A6 7E           LDAA 126,X
1A8B:	E6 7F           LDAB 127,X
1A8D:	3F 06           SWI PULX
1A8F:	3F 05           SWI PSHX
1A91:	A7 00           STAA 0,X
1A93:	E7 01           STAB 1,X
1A95:	30              TSX 
1A96:	EE 07           LDX  7,X
1A98:	4D              TSTA
1A99:	27 03           BEQ  $1A9E
1A9B:	5D              TSTB
1A9C:	26 07           BNE  $1AA5
1A9E:	86 07           LDAA #$07
1AA0:	A7 05           STAA 5,X
1AA2:	31              INS 
1AA3:	31              INS 
1AA4:	39              RTS 
1AA5:	A7 1F           STAA 31,X
1AA7:	E7 20           STAB 32,X
1AA9:	A7 0A           STAA 10,X
1AAB:	E7 0B           STAB 11,X
1AAD:	3F 1B           SWI PUTDR
1AAF:	6D 05           TST  5,X
1AB1:	27 03           BEQ  $1AB6
1AB3:	31              INS 
1AB4:	31              INS 
1AB5:	39              RTS 
1AB6:	6F 06           CLR  6,X
1AB8:	3F 13           SWI IOHDR
1ABA:	63 06           COM  6,X
1ABC:	4D              TSTA
1ABD:	27 05           BEQ  $1AC4
1ABF:	A7 05           STAA 5,X
1AC1:	31              INS 
1AC2:	31              INS 
1AC3:	39              RTS 
1AC4:	EE 07           LDX  7,X
1AC6:	A6 00           LDAA 0,X
1AC8:	E6 01           LDAB 1,X
1ACA:	3F 06           SWI PULX
1ACC:	4D              TSTA
1ACD:	26 0B           BNE  $1ADA
1ACF:	5D              TSTB
1AD0:	26 08           BNE  $1ADA
1AD2:	86 07           LDAA #$07
1AD4:	30              TSX 
1AD5:	EE 05           LDX  5,X
1AD7:	A7 05           STAA 5,X
1AD9:	39              RTS 
1ADA:	A7 00           STAA 0,X
1ADC:	E7 01           STAB 1,X
1ADE:	30              TSX 
1ADF:	EE 05           LDX  5,X
1AE1:	EE 07           LDX  7,X
1AE3:	C6 7C           LDAB #$7C
1AE5:	6F 04           CLR  4,X
1AE7:	08              INX 
1AE8:	5A              DECB
1AE9:	26 FA           BNE  $1AE5
1AEB:	30              TSX 
1AEC:	EE 05           LDX  5,X
1AEE:	7E 19D9         JMP  $19D9
1AF1:	30              TSX 
1AF2:	A6 05           LDAA 5,X
1AF4:	E6 06           LDAB 6,X
1AF6:	DE 29           LDX  $29
1AF8:	27 2E           BEQ  $1B28
1AFA:	3F 05           SWI PSHX
1AFC:	3F 0C           SWI SUBABX
1AFE:	3F 06           SWI PULX
1B00:	26 0A           BNE  $1B0C
1B02:	A6 25           LDAA 37,X
1B04:	E6 26           LDAB 38,X
1B06:	97 29           STAA $29
1B08:	D7 2A           STAB $2A
1B0A:	20 23           BRA  $1B2F
1B0C:	A1 25           CMPA 37,X
1B0E:	26 14           BNE  $1B24
1B10:	E1 26           CMPB 38,X
1B12:	26 10           BNE  $1B24
1B14:	3F 05           SWI PSHX
1B16:	3F 03           SWI TABX
1B18:	A6 25           LDAA 37,X
1B1A:	E6 26           LDAB 38,X
1B1C:	3F 06           SWI PULX
1B1E:	A7 25           STAA 37,X
1B20:	E7 26           STAB 38,X
1B22:	20 0B           BRA  $1B2F
1B24:	EE 25           LDX  37,X
1B26:	26 E4           BNE  $1B0C
1B28:	3F 03           SWI TABX
1B2A:	86 0D           LDAA #$0D
1B2C:	A7 05           STAA 5,X
1B2E:	39              RTS 
1B2F:	30              TSX 
1B30:	EE 05           LDX  5,X
1B32:	6D 06           TST  6,X
1B34:	26 01           BNE  $1B37
1B36:	39              RTS 
1B37:	6D 0A           TST  10,X
1B39:	27 04           BEQ  $1B3F
1B3B:	6D 0B           TST  11,X
1B3D:	26 0A           BNE  $1B49
1B3F:	A6 0E           LDAA 14,X
1B41:	E6 0F           LDAB 15,X
1B43:	A7 0A           STAA 10,X
1B45:	E7 0B           STAB 11,X
1B47:	20 0E           BRA  $1B57
1B49:	3F 13           SWI IOHDR
1B4B:	A6 23           LDAA 35,X
1B4D:	E6 24           LDAB 36,X
1B4F:	CB 01           ADDB #$01
1B51:	89 00           ADCA #$00
1B53:	A7 23           STAA 35,X
1B55:	E7 24           STAB 36,X
1B57:	6F 06           CLR  6,X
1B59:	BD 195A         JSR  SFILE     SEARCH DIRECTORY
1B5C:	30              TSX 
1B5D:	EE 05           LDX  5,X
1B5F:	63 06           COM  6,X
1B61:	6D 05           TST  5,X
1B63:	27 01           BEQ  $1B66
1B65:	39              RTS 
1B66:	A6 0A           LDAA 10,X
1B68:	E6 0B           LDAB 11,X
1B6A:	A7 21           STAA 33,X
1B6C:	E7 22           STAB 34,X
1B6E:	3F 1B           SWI PUTDR
1B70:	6D 05           TST  5,X
1B72:	27 01           BEQ  $1B75
1B74:	39              RTS 
1B75:	6F 06           CLR  6,X
1B77:	86 00           LDAA #$00
1B79:	C6 03           LDAB #$03
1B7B:	A7 0A           STAA 10,X
1B7D:	E7 0B           STAB 11,X
1B7F:	3F 13           SWI IOHDR
1B81:	63 06           COM  6,X
1B83:	4D              TSTA
1B84:	27 01           BEQ  $1B87
1B86:	39              RTS 
1B87:	A6 09           LDAA 9,X
1B89:	84 03           ANDA #$03
1B8B:	48              ASLA
1B8C:	CE 002B         LDX  #$002B
1B8F:	3F 09           SWI ADDAX
1B91:	A6 00           LDAA 0,X
1B93:	E6 01           LDAB 1,X
1B95:	30              TSX 
1B96:	EE 05           LDX  5,X
1B98:	EE 07           LDX  7,X
1B9A:	A7 7E           STAA 126,X
1B9C:	E7 7F           STAB 127,X
1B9E:	30              TSX 
1B9F:	EE 05           LDX  5,X
1BA1:	3F 13           SWI IOHDR
1BA3:	A7 05           STAA 5,X
1BA5:	39              RTS 
1BA6:	30              TSX 
1BA7:	EE 05           LDX  5,X
1BA9:	6D 06           TST  6,X
1BAB:	27 05           BEQ  $1BB2
1BAD:	86 12           LDAA #$12
1BAF:	A7 05           STAA 5,X
1BB1:	39              RTS 
1BB2:	A6 27           LDAA 39,X
1BB4:	E6 28           LDAB 40,X
1BB6:	E0 08           SUBB 8,X
1BB8:	A2 07           SBCA 7,X
1BBA:	B1 1955         CMPA $1955
1BBD:	26 05           BNE  $1BC4
1BBF:	F1 1956         CMPB $1956
1BC2:	27 36           BEQ  $1BFA
1BC4:	EE 27           LDX  39,X
1BC6:	A6 00           LDAA 0,X
1BC8:	2A 1E           BPL  $1BE8
1BCA:	30              TSX 
1BCB:	EE 05           LDX  5,X
1BCD:	6D 29           TST  41,X
1BCF:	27 15           BEQ  $1BE6
1BD1:	EE 27           LDX  39,X
1BD3:	4C              INCA
1BD4:	26 04           BNE  $1BDA
1BD6:	86 20           LDAA #$20
1BD8:	20 0E           BRA  $1BE8
1BDA:	A7 00           STAA 0,X
1BDC:	86 20           LDAA #$20
1BDE:	30              TSX 
1BDF:	A7 04           STAA 4,X
1BE1:	EE 05           LDX  5,X
1BE3:	6F 05           CLR  5,X
1BE5:	39              RTS 
1BE6:	EE 27           LDX  39,X
1BE8:	08              INX 
1BE9:	3F 05           SWI PSHX
1BEB:	30              TSX 
1BEC:	A7 06           STAA 6,X
1BEE:	32              PULA
1BEF:	33              PULB
1BF0:	30              TSX 
1BF1:	EE 05           LDX  5,X
1BF3:	A7 27           STAA 39,X
1BF5:	E7 28           STAB 40,X
1BF7:	6F 05           CLR  5,X
1BF9:	39              RTS 
1BFA:	A6 0A           LDAA 10,X
1BFC:	A1 21           CMPA 33,X
1BFE:	26 0B           BNE  $1C0B
1C00:	A6 0B           LDAA 11,X
1C02:	A1 22           CMPA 34,X
1C04:	26 05           BNE  $1C0B
1C06:	86 08           LDAA #$08
1C08:	A7 05           STAA 5,X
1C0A:	39              RTS 
1C0B:	A6 0C           LDAA 12,X
1C0D:	E6 0D           LDAB 13,X
1C0F:	A7 0A           STAA 10,X
1C11:	E7 0B           STAB 11,X
1C13:	3F 13           SWI IOHDR
1C15:	4D              TSTA
1C16:	26 F0           BNE  $1C08
1C18:	A6 07           LDAA 7,X
1C1A:	E6 08           LDAB 8,X
1C1C:	CB 04           ADDB #$04
1C1E:	89 00           ADCA #$00
1C20:	A7 27           STAA 39,X
1C22:	E7 28           STAB 40,X
1C24:	EE 07           LDX  7,X
1C26:	A6 00           LDAA 0,X
1C28:	E6 01           LDAB 1,X
1C2A:	30              TSX 
1C2B:	EE 05           LDX  5,X
1C2D:	A7 0C           STAA 12,X
1C2F:	E7 0D           STAB 13,X
1C31:	EE 07           LDX  7,X
1C33:	A6 02           LDAA 2,X
1C35:	E6 03           LDAB 3,X
1C37:	30              TSX 
1C38:	EE 05           LDX  5,X
1C3A:	A7 0E           STAA 14,X
1C3C:	E7 0F           STAB 15,X
1C3E:	7E 1BC4         JMP  $1BC4
1C41:	30              TSX 
1C42:	EE 05           LDX  5,X
1C44:	6D 06           TST  6,X
1C46:	26 05           BNE  $1C4D
1C48:	86 12           LDAA #$12
1C4A:	A7 05           STAA 5,X
1C4C:	39              RTS 
1C4D:	A6 27           LDAA 39,X
1C4F:	E6 28           LDAB 40,X
1C51:	E0 08           SUBB 8,X
1C53:	A2 07           SBCA 7,X
1C55:	B1 1955         CMPA $1955
1C58:	26 05           BNE  $1C5F
1C5A:	F1 1956         CMPB $1956
1C5D:	27 45           BEQ  $1CA4
1C5F:	30              TSX 
1C60:	A6 04           LDAA 4,X
1C62:	EE 05           LDX  5,X
1C64:	6D 29           TST  41,X
1C66:	27 27           BEQ  $1C8F
1C68:	84 7F           ANDA #$7F
1C6A:	81 20           CMPA #$20
1C6C:	26 21           BNE  $1C8F
1C6E:	EE 27           LDX  39,X
1C70:	E6 00           LDAB 0,X
1C72:	2A 0B           BPL  $1C7F
1C74:	5A              DECB
1C75:	2A 0C           BPL  $1C83
1C77:	E7 00           STAB 0,X
1C79:	30              TSX 
1C7A:	EE 05           LDX  5,X
1C7C:	6F 05           CLR  5,X
1C7E:	39              RTS 
1C7F:	C6 FF           LDAB #$FF
1C81:	20 F4           BRA  $1C77
1C83:	08              INX 
1C84:	3F 02           SWI TXAB
1C86:	30              TSX 
1C87:	EE 05           LDX  5,X
1C89:	A7 27           STAA 39,X
1C8B:	E7 28           STAB 40,X
1C8D:	20 C2           BRA  $1C51
1C8F:	EE 27           LDX  39,X
1C91:	6D 00           TST  0,X
1C93:	26 EE           BNE  $1C83
1C95:	A7 00           STAA 0,X
1C97:	08              INX 
1C98:	3F 02           SWI TXAB
1C9A:	30              TSX 
1C9B:	EE 05           LDX  5,X
1C9D:	A7 27           STAA 39,X
1C9F:	E7 28           STAB 40,X
1CA1:	6F 05           CLR  5,X
1CA3:	39              RTS 
1CA4:	A6 09           LDAA 9,X
1CA6:	84 03           ANDA #$03
1CA8:	CE 002B         LDX  #$002B
1CAB:	48              ASLA
1CAC:	3F 09           SWI ADDAX
1CAE:	A6 00           LDAA 0,X
1CB0:	27 18           BEQ  $1CCA
1CB2:	E6 01           LDAB 1,X
1CB4:	27 14           BEQ  $1CCA
1CB6:	30              TSX 
1CB7:	EE 05           LDX  5,X
1CB9:	EE 07           LDX  7,X
1CBB:	A7 00           STAA 0,X
1CBD:	E7 01           STAB 1,X
1CBF:	30              TSX 
1CC0:	EE 05           LDX  5,X
1CC2:	3F 13           SWI IOHDR
1CC4:	4D              TSTA
1CC5:	27 06           BEQ  $1CCD
1CC7:	A7 05           STAA 5,X
1CC9:	39              RTS 
1CCA:	7E 1D3A         JMP  $1D3A
1CCD:	A6 23           LDAA 35,X
1CCF:	E6 24           LDAB 36,X
1CD1:	CB 01           ADDB #$01
1CD3:	89 00           ADCA #$00
1CD5:	A7 23           STAA 35,X
1CD7:	E7 24           STAB 36,X
1CD9:	A6 0A           LDAA 10,X
1CDB:	E6 0B           LDAB 11,X
1CDD:	A7 0E           STAA 14,X
1CDF:	E7 0F           STAB 15,X
1CE1:	A6 09           LDAA 9,X
1CE3:	84 03           ANDA #$03
1CE5:	CE 002B         LDX  #$002B
1CE8:	48              ASLA
1CE9:	3F 09           SWI ADDAX
1CEB:	A6 00           LDAA 0,X
1CED:	E6 01           LDAB 1,X
1CEF:	3F 05           SWI PSHX
1CF1:	30              TSX 
1CF2:	EE 07           LDX  7,X
1CF4:	A7 0A           STAA 10,X
1CF6:	E7 0B           STAB 11,X
1CF8:	6F 06           CLR  6,X
1CFA:	3F 13           SWI IOHDR
1CFC:	63 06           COM  6,X
1CFE:	4D              TSTA
1CFF:	27 05           BEQ  $1D06
1D01:	A7 05           STAA 5,X
1D03:	31              INS 
1D04:	31              INS 
1D05:	39              RTS 
1D06:	EE 07           LDX  7,X
1D08:	A6 00           LDAA 0,X
1D0A:	E6 01           LDAB 1,X
1D0C:	3F 06           SWI PULX
1D0E:	A7 00           STAA 0,X
1D10:	E7 01           STAB 1,X
1D12:	30              TSX 
1D13:	EE 05           LDX  5,X
1D15:	A7 0C           STAA 12,X
1D17:	E7 0D           STAB 13,X
1D19:	A6 07           LDAA 7,X
1D1B:	E6 08           LDAB 8,X
1D1D:	CB 04           ADDB #$04
1D1F:	89 00           ADCA #$00
1D21:	A7 27           STAA 39,X
1D23:	E7 28           STAB 40,X
1D25:	A6 0E           LDAA 14,X
1D27:	E6 0F           LDAB 15,X
1D29:	EE 07           LDX  7,X
1D2B:	A7 02           STAA 2,X
1D2D:	E7 03           STAB 3,X
1D2F:	C6 7C           LDAB #$7C
1D31:	6F 04           CLR  4,X
1D33:	08              INX 
1D34:	5A              DECB
1D35:	26 FA           BNE  $1D31
1D37:	7E 1C5F         JMP  $1C5F
1D3A:	86 07           LDAA #$07
1D3C:	30              TSX 
1D3D:	EE 05           LDX  5,X
1D3F:	A7 05           STAA 5,X
1D41:	39              RTS 
1D42:	30              TSX 
1D43:	EE 05           LDX  5,X
1D45:	6D 06           TST  6,X
1D47:	27 05           BEQ  $1D4E
1D49:	86 12           LDAA #$12
1D4B:	A7 05           STAA 5,X
1D4D:	39              RTS 
1D4E:	6F 05           CLR  5,X
1D50:	3F 15           SWI CLOSE
1D52:	6D 05           TST  5,X
1D54:	27 01           BEQ  $1D57
1D56:	39              RTS 
1D57:	3F 14           SWI OPEN
1D59:	39              RTS 
                     
                                       ICOM DISK DRIVER
                     
1D5A:	7F EC01  INTDK  CLR  $EC01     INIT DISK SYSTEM 
1D5D:	7F EC03         CLR  $EC03
1D60:	7F EC07         CLR  $EC07
1D63:	7F EC00         CLR  $EC00
1D66:	86 FF           LDAA #$FF
1D68:	B7 EC02         STAA $EC02
1D6B:	B7 EC06         STAA $EC06
1D6E:	86 04           LDAA #$04
1D70:	B7 EC01         STAA $EC01
1D73:	B7 EC07         STAA $EC07
1D76:	86 2C           LDAA #$2C
1D78:	B7 EC03         STAA $EC03
1D7B:	86 80           LDAA #$80
1D7D:	B7 EC02         STAA $EC02
1D80:	86 0C           LDAA #$0C
1D82:	BD 1E4D         JSR  $1E4D
1D85:	39              RTS 
                     
1D86:	3F 03    RDSEC  SWI TABX       READ A SINGLE SECTOR
1D88:	A6 09           LDAA 9,X
1D8A:	0C              CLC 
1D8B:	46              RORA
1D8C:	46              RORA
1D8D:	46              RORA
1D8E:	AA 0B           ORAA 11,X
1D90:	E6 0A           LDAB 10,X
1D92:	EE 07           LDX  7,X
1D94:	BD 1E41         JSR  $1E41
1D97:	BD 1E74         JSR  $1E74
1D9A:	24 02           BCC  $1D9E
1D9C:	20 49           BRA  $1DE7
1D9E:	17              TBA 
1D9F:	BD 1E66         JSR  $1E66
1DA2:	C6 05           LDAB #$05
1DA4:	86 02           LDAA #$02
1DA6:	BD 1E4D         JSR  $1E4D
1DA9:	B6 EC00         LDAA $EC00
1DAC:	85 08           BITA #$08
1DAE:	27 0A           BEQ  $1DBA
1DB0:	BD 1E5E         JSR  $1E5E
1DB3:	5A              DECB
1DB4:	26 EE           BNE  $1DA4
1DB6:	86 05           LDAA #$05
1DB8:	20 2D           BRA  $1DE7
1DBA:	85 80           BITA #$80
1DBC:	27 04           BEQ  $1DC2
1DBE:	86 09           LDAA #$09
1DC0:	20 25           BRA  $1DE7
1DC2:	C6 80           LDAB #$80
1DC4:	86 3C           LDAA #$3C
1DC6:	B7 EC03         STAA $EC03
1DC9:	86 40           LDAA #$40
1DCB:	B7 EC02         STAA $EC02
1DCE:	B6 EC00         LDAA $EC00
1DD1:	36              PSHA
1DD2:	86 2C           LDAA #$2C
1DD4:	B7 EC03         STAA $EC03
1DD7:	86 40           LDAA #$40
1DD9:	B7 EC02         STAA $EC02
1DDC:	7F EC02         CLR  $EC02
1DDF:	32              PULA
1DE0:	A7 00           STAA 0,X
1DE2:	08              INX 
1DE3:	5A              DECB
1DE4:	26 DE           BNE  $1DC4
1DE6:	4F              CLRA
1DE7:	30              TSX 
1DE8:	A7 06           STAA 6,X
1DEA:	EE 07           LDX  7,X
1DEC:	AA 05           ORAA 5,X
1DEE:	A7 05           STAA 5,X
1DF0:	39              RTS 
                     
1DF1:	3F 03    WTSEC  SWI TABX       WRITE A SINGLE SECTOR
1DF3:	A6 09           LDAA 9,X
1DF5:	0C              CLC 
1DF6:	46              RORA
1DF7:	46              RORA
1DF8:	46              RORA
1DF9:	AA 0B           ORAA 11,X
1DFB:	E6 0A           LDAB 10,X
1DFD:	EE 07           LDX  7,X
1DFF:	36              PSHA
1E00:	37              PSHB
1E01:	C6 80           LDAB #$80
1E03:	A6 00           LDAA 0,X
1E05:	08              INX 
1E06:	B7 EC06         STAA $EC06
1E09:	86 30           LDAA #$30
1E0B:	B7 EC02         STAA $EC02
1E0E:	5A              DECB
1E0F:	26 F2           BNE  $1E03
1E11:	33              PULB
1E12:	32              PULA
1E13:	BD 1E41         JSR  $1E41
1E16:	BD 1E74         JSR  $1E74
1E19:	24 02           BCC  $1E1D
1E1B:	20 CA           BRA  $1DE7
1E1D:	17              TBA 
1E1E:	BD 1E66         JSR  $1E66
1E21:	C6 05           LDAB #$05
1E23:	86 04           LDAA #$04
1E25:	BD 1E4D         JSR  $1E4D
1E28:	86 06           LDAA #$06
1E2A:	BD 1E4D         JSR  $1E4D
1E2D:	B6 EC00         LDAA $EC00
1E30:	85 08           BITA #$08
1E32:	27 0A           BEQ  $1E3E
1E34:	BD 1E5E         JSR  $1E5E
1E37:	5A              DECB
1E38:	26 E9           BNE  $1E23
1E3A:	86 05           LDAA #$05
1E3C:	20 A9           BRA  $1DE7
1E3E:	4F              CLRA
1E3F:	20 A6           BRA  $1DE7
1E41:	BD 1E5E         JSR  $1E5E
1E44:	B7 EC06         STAA $EC06
1E47:	86 20           LDAA #$20
1E49:	B7 EC02         STAA $EC02
1E4C:	39              RTS 
1E4D:	36              PSHA
1E4E:	B6 EC00         LDAA $EC00
1E51:	32              PULA
1E52:	B7 EC02         STAA $EC02
1E55:	B6 EC01         LDAA $EC01
1E58:	2A FB           BPL  $1E55
1E5A:	B6 EC00         LDAA $EC00
1E5D:	39              RTS 
1E5E:	36              PSHA
1E5F:	86 0A           LDAA #$0A
1E61:	B7 EC02         STAA $EC02
1E64:	32              PULA
1E65:	39              RTS 
1E66:	B7 EC06         STAA $EC06
1E69:	86 10           LDAA #$10
1E6B:	B7 EC02         STAA $EC02
1E6E:	86 08           LDAA #$08
1E70:	BD 1E4D         JSR  $1E4D
1E73:	39              RTS 
1E74:	B6 EC00         LDAA $EC00
1E77:	84 20           ANDA #$20
1E79:	26 03           BNE  $1E7E
1E7B:	4F              CLRA
1E7C:	0C              CLC 
1E7D:	39              RTS 
1E7E:	0D              SEC 
1E7F:	86 0A           LDAA #$0A
1E81:	39              RTS 
