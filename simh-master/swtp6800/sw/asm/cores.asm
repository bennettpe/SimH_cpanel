 NAM  CO-RES
Z0000 EQU $0000
Z0001 EQU $0001
RAMEND EQU $0003
Z0005 EQU $0005
Z0006 EQU $0006
Z0007 EQU $0007
Z0008 EQU $0008
Z0009 EQU $0009
Z000A EQU $000A
Z000B EQU $000B
Z000C EQU $000C
Z000D EQU $000D
Z000E EQU $000E
Z000F EQU $000F

 ORG $0010
Z0010 FCB $00,$0C
Z0012 FCB $00
Z0013 FCB $00
Z0014 FCB $02,$C0
Z0016 FCB $D0
Z0017 FCB $05
Z0018 FCB $9C
Z0019 FCB $FF,$53,$53,$45
Z001D FCB $00
Z001E FCB $00
Z001F FCB $00
FLGGEN FCB $00
FLGLIS FCB $00
FLGPAG FCB $00
FLGOBJ FCB $FF
FLGSYM FCB $00
Z0025 FCB $02
Z0026 FCB $A0
Z0027 FCB $7E
Z0028 FCB $00
Z0029 FCB $00
Z002A FCB $00
Z002B FCB $00
Z002C FCB $A0,$7E
Z002E FCB $A0
Z002F FCB $7E
      FCB $2E,$30
Z0032 FCB $1D
Z0033 FCB $00,$8E
Z0035 FCB $05,$2B
Z0037 FCB $E7
Z0038 FCB $02,$C0
Z003A FCB $80
Z003B FCB $00,$E0
Z003D FCB $00,$E2
Z003F FCB $00
FLGOPT FCB $4F
Z0041 FCB $2F
Z0042 FCB $00,$EA
Z0044 FCB $05,$24
Z0046 FCB $08,$EF
Z0048 FCB $1B,$7C
Z004A FCB $1F,$D0
Z004C FCB $FF
Z004D FCB $02
Z004E FCB $12
Z004F FCB $E0,$E3,$43,$43
Z0053 FCB $5F
Z0054 FCB $F8
Z0055 FCB $00
Z0056 FCB $20
Z0057 FCB $88
Z0058 FCB $1F
Z0059 FCB $E8
Z005A FCB $20
Z005B FCB $90
Z005C FCB $00
Z005D FCB $A6
Z005E FCB $02,$C0
Z0060 FCB $02,$B7
Z0062 FCB $00
Z0063 FCB $43,$4F,$4E,$54,$52,$4C
Z0069 FCB $FF
Z006A FCB $FF
Z006B FCB $C3
Z006C FCB $4F,$4E,$54,$52,$4C
Z0071 FCB $E0
Z0072 FCB $E3
Z0073 FCB $46,$46,$46,$0D,$0A,$04,$20
Z007A FCB $20
Z007B FCB $20,$20,$20,$20,$20,$20
Z0081 FCB $20
Z0082 FCB $20
Z0083 FCB $30,$30,$35,$33,$30
Z0088 FCB $20
Z0089 FCB $20,$20,$20,$20,$20
Z008E FCB $20,$20,$20
Z0091 FCB $20,$20,$20,$20
Z0095 FCB $20
Z0096 FCB $20,$20,$20,$20,$20,$20
Z009C FCB $20
Z009D FCB $45
Z009E FCB $4E
Z009F FCB $44,$20
Z00A1 FCB $20,$20,$20
Z00A4 FCB $20,$20,$20,$20,$20,$20,$20,$20
 FCB $20
Z00AD FCB $0D,$0D,$0A,$04,$20,$20,$20,$20
 FCB $20,$20,$20,$20,$20,$20,$20,$20
 FCB $20,$20,$20,$20,$20,$20,$20,$20
 FCB $20,$20,$20,$20
Z00C9 FCB $20
Z00CA FCB $20
Z00CB FCB $0D,$0A,$04
Z00CE FCB $31,$31,$30,$20,$49,$44,$44,$E1
 FCB $DC,$E1,$DC,$E1,$DC,$E1,$DC,$E1
 FCB $DC,$E1,$DC,$E1,$DC,$00,$E1,$C9
 FCB $00,$01,$50,$09
Z00EA FCB $25,$4D,$20,$20,$53,$4F
Z00F0 FCB $09
Z00F1 FCB $30
Z00F2 FCB $30
Z00F3 FCB $30
FLGPUN FCB $30
Z00F5 FDB Z02B8
Z00F7 FDB Z02B8
Z00F9 FCB $00
Z00FA FDB $1FD0
Z00FC FDB Z1B8C
Z00FE FDB Z1B7C

COLD   JMP COLDS
WARM   JMP WARMS
XIOINT JMP INXIO
XPOC   JMP POC
XPOR   JMP PDATA1
XRIC   JMP RIC
XRIR   JMP RIR
XCO    JMP CO
XCI    JMP CI
XCIE   JMP CI
XDATA  JMP PRDATA
XDATA1 JMP PRDAT0
XCRLF  JMP PCRLF
XLEAD  JMP LEAD
XPCHON JMP PNCHON
XPCHOF JMP PNCHOF
XMON   JMP MIKBUG
XHEAD  JMP XDATA
XLINE  JMP XDATA1
*
*punch leader
*
LEAD LDAB #$32
Z013B CLRA 
 BSR XPOC
 DECB 
 BNE Z013B
 BRA XPCHOF
*
*init io
*
INXIO CLR Z00F0
 CLR FLGPUN
 CLR Z00F3
 RTS 
*
*console in
*
CI JSR INCH
 LDX #IGNORE
Z0153 CMPA $00,X
 BEQ CI
 INX 
 CPX #TXCRLF
 BNE Z0153
 RTS 
*
*punch output char
*
POC BSR XPCHON
 BRA XCO
*
*console out
*
CO CMPA #$09
 BNE Z0168
 LDAA #$20
Z0168 CMPA #$0D
 BNE Z016E
 BRA XCRLF

Z016E JSR OUTEEE
 RTS 

 JMP PDATA1

PRINTR CLR Z01C8
 JMP Z17C1

 SUBB $7E,X

Z017D BRA XPCHOF
*
*reader input char
* 
RIC TST Z00F0
 BNE Z01DC
 CLR Z00F3
 BRA Z018C
*
*reader input record
*
RIR INC Z00F3
Z018C LDX #Z02B7
 LDAA #$0D
Z0191 STAA $00,X
 INX 
 CPX #Z02FF
 BNE Z0191
 TST FLGPUN
 BEQ Z01A0
 BSR Z017D
Z01A0 BRA Z01AA

Z01A2 JSR PUNON
 LDX #SZERO
 RTS 

 TPA 

Z01AA LDX #Z02B7
Z01AD SEC 
 JSR Z023D
 STAA $00,X
 NOP 
 NOP 
 CMPA #$0D
 BEQ Z01C1
 CPX #Z02FE
 BEQ Z01AD
 INX 
 BRA Z01AD

Z01C1 CLR Z00F3
 BRA Z01D4

 FCB $BD,$02
Z01C8 FCB $FF
 FCB $86
Z01CA FDB $1E27
Z01CC FDB $1FD0

 FCB $CE,$02,$AA,$BD,$02,$10 

Z01D4 INC Z00F0
 LDX #Z02B7
 STX Z00F1
Z01DC LDX Z00F1
 LDAA $00,X
 INX 
 STX Z00F1
 CMPA #$1A
 BEQ Z01EB
 CMPA #$0D
 BNE Z01EE
Z01EB CLR Z00F0
Z01EE RTS 
*
*punch on
*
PNCHON TST FLGPUN
 BNE Z0203
 PSHA 
 INC FLGPUN
 LDAA #$7F
 JSR OUTCH
 NOP 
 NOP 
 JSR PUNON
 PULA 
Z0203 RTS 
*
*punch off
*
PNCHOF NOP 
 NOP 
 JSR PUNOFF
 CLR FLGPUN
 RTS 
*
*print string 
*
PRDATA JSR PCRLF
PRDAT0 LDAA $00,X
 CMPA #$04
 BNE Z0217
 RTS 

Z0217 BSR Z0227
 INX 
 BRA PRDAT0
*
*print CRLF
*
PCRLF STX Z0044
 LDX #TXCRLF
 JSR Z1688
 LDX Z0044
 RTS 

Z0227 PSHA 
 JSR Z1A9D
 PULA 
 CMPA #$0D
 BNE Z023C
 PSHA 
 STX Z0044
 LDX #TXNULL
 JSR Z1688
 LDX Z0044
 PULA 
Z023C RTS 

Z023D STX Z01CA
 PSHB 
 LDX Z02A0
 LDAA $00,X
 CMPA #$04
 BEQ Z0253
Z024A INX 
 STX Z02A0
 LDX Z01CA
 PULB 
 RTS 

Z0253 LDAA #$0D
 BRA Z024A

Z0257 LDX Z00FA
 STX Z097E+1
 STX Z1294+1
Z025F LDAA Z159E
 CMPA #$1A
 BEQ Z026E
 STAA $00,X
 INX 
 INC Z025F+2
 BRA Z025F

Z026E STX Z093C+1
 STX Z13D5+1
 DEX 
 STX Z08F6+1
 LDX #Z159E
 STX Z025F+1
 RTS 

Z027F LDX Z00FE
 STX Z02A0
 LDX #TXPASS
 RTS 

Z0288 FDB $1B36

 BRA $0298
 LDX Z0044
 PULB 
 RTS 
 LDAA #$1A
 SEC 
 BRA $028C

 FCB $7D,$80,$06
 FCB $2A,$FB,$7C,$80,$06,$7A,$80,$06
Z02A0 FCB $1B

IGNORE FCB $7C,$7F,$0A,$11,$12,$13,$14
TXCRLF FCB $0D,$0A
TXNULL FCB $00,$00,$00,$00,$04

 FCB $00,$00,$04
 FCB $FF,$FF,$FF,$FF

Z02B6 FCB $1E
Z02B7 FCB $30
Z02B8 FCB $35,$33,$30,$20,$20,$45,$4E
 FCB $44,$0D,$0D,$0D,$0D,$0D,$0D,$0D
 FCB $0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D
 FCB $0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D
 FCB $0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D
 FCB $0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D
 FCB $0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D
 FCB $0D,$0D,$0D,$0D,$0D,$0D,$0D,$0D
 FCB $0D,$0D,$0D,$0D,$0D,$0D,$0D
Z02FE FCB $0D
Z02FF FCB $03

Z0300 JMP Z08F1
Z0303 JMP Z0913

Z0306 FCB $41,$42,$41,$10,$00,$1B ;aba
 FCB $41,$44,$43,$00,$D4,$89 ;adc
 FCB $41,$44,$44,$00,$D4,$8B ;add
 FCB $41,$4E,$44,$00,$D4,$84 ;and
 FCB $41,$53,$4C,$00,$4A,$48 ;asl
 FCB $41,$53,$52,$00,$4A,$47 ;asr
 FCB $42,$43,$43,$00,$20,$24 ;bcc
 FCB $42,$43,$53,$00,$20,$25 ;bcs
 FCB $42,$45,$51,$00,$20,$27 ;beq
 FCB $42,$47,$45,$00,$20,$2C ;bge
 FCB $42,$47,$54,$00,$20,$2E ;bgt
 FCB $42,$48,$49,$00,$20,$22 ;bhi
 FCB $42,$49,$54,$00,$D4,$85 ;bit
 FCB $42,$4C,$45,$00,$20,$2F ;ble
 FCB $42,$4C,$53,$00,$20,$23 ;bls
 FCB $42,$4C,$54,$00,$20,$2D ;blt
 FCB $42,$4D,$49,$00,$20,$2B ;bmi
 FCB $42,$4E,$45,$00,$20,$26 ;bne
 FCB $42,$50,$4C,$00,$20,$2A ;bpl
 FCB $42,$52,$41,$00,$20,$20 ;bra
 FCB $42,$53,$52,$00,$20,$8D ;bsr
 FCB $42,$56,$43,$00,$20,$28 ;bvc
 FCB $42,$56,$53,$00,$20,$29 ;bvs
 FCB $43,$42,$41,$10,$00,$11 ;cba
 FCB $43,$4C,$43,$10,$00,$0C ;clc
 FCB $43,$4C,$49,$10,$00,$0E ;cli
 FCB $43,$4C,$52,$00,$4A,$4F ;clr
 FCB $43,$4C,$56,$10,$00,$0A ;clv
 FCB $43,$4D,$50,$00,$D4,$81 ;cmp
 FCB $43,$4F,$4D,$00,$4A,$43 ;com
 FCB $43,$50,$58,$00,$D0,$8C ;cpx
 FCB $44,$41,$41,$10,$00,$19 ;daa
 FCB $44,$45,$43,$00,$4A,$4A ;dec
 FCB $44,$45,$53,$10,$00,$34 ;des
 FCB $44,$45,$58,$10,$00,$09 ;dex
 FCB $45,$4F,$52,$00,$D4,$88 ;eor
 FCB $49,$4E,$43,$00,$4A,$4C ;inc
 FCB $49,$4E,$53,$10,$00,$31 ;ins
 FCB $49,$4E,$58,$10,$00,$08 ;inx
 FCB $4A,$4D,$50,$00,$48,$6E ;jmp
 FCB $4A,$53,$52,$00,$48,$AD ;jsr
 FCB $4C,$44,$41,$00,$D4,$86 ;lda
 FCB $4C,$44,$53,$00,$D0,$8E ;lds
 FCB $4C,$44,$58,$00,$D0,$CE ;ldx
 FCB $4C,$53,$52,$00,$4A,$44 ;lsr
 FCB $4E,$45,$47,$00,$4A,$40 ;neg
 FCB $4E,$4F,$50,$10,$00,$01 ;nop
 FCB $4F,$52,$41,$00,$D4,$8A ;ora
 FCB $50,$53,$48,$00,$02,$36 ;psh
 FCB $50,$55,$4C,$00,$02,$32 ;pul
 FCB $52,$4F,$4C,$00,$4A,$49 ;rol
 FCB $52,$4F,$52,$00,$4A,$46 ;ror
 FCB $52,$54,$49,$10,$00,$3B ;rti
 FCB $52,$54,$53,$10,$00,$39 ;rts
 FCB $53,$42,$41,$10,$00,$10 ;sba
 FCB $53,$42,$43,$00,$D4,$82 ;sbc
 FCB $53,$45,$43,$10,$00,$0D ;sec
 FCB $53,$45,$49,$10,$00,$0F ;sei
 FCB $53,$45,$56,$10,$00,$0B ;sev
 FCB $53,$54,$41,$00,$54,$87 ;sta
 FCB $53,$54,$53,$00,$50,$8F ;sts
 FCB $53,$54,$58,$00,$50,$CF ;stx
 FCB $53,$55,$42,$00,$D4,$80 ;sub
 FCB $53,$57,$49,$10,$00,$3F ;swi
 FCB $54,$41,$42,$10,$00,$16 ;tab
 FCB $54,$41,$50,$10,$00,$06 ;tap
 FCB $54,$42,$41,$10,$00,$17 ;tba
 FCB $54,$50,$41,$10,$00,$07 ;tpa
 FCB $54,$53,$54,$00,$4A,$4D ;tst
 FCB $54,$53,$58,$10,$00,$30 ;tsx
 FCB $54,$58,$53,$10,$00,$35 ;txs
 FCB $57,$41,$49,$10,$00,$3E ;wai

 FCB $45,$4E,$44,$D0 ;end
 FDB JMPEND
 FCB $45,$51,$55,$A0 ;equ
 FDB JMPEQU
 FCB $46,$43,$42,$88 ;fcb
 FDB JMPFCB
 FCB $46,$43,$43,$80 ;fcc
 FDB JMPFCC
 FCB $46,$44,$42,$88 ;fdb
 FDB JMPFDB
 FCB $4D,$4F,$4E,$80 ;mon
 FDB JMPMON
 FCB $4E,$41,$4D,$80 ;nam
 FDB JMPNAM
 FCB $4F,$50,$54,$80 ;opt
 FDB JMPOPT
 FCB $4F,$52,$47,$C0 ;org
 FDB JMPORG
 FCB $50,$41,$47,$D0 ;pag
 FDB JMPPAG
 FCB $52,$4D,$42,$80 ;rmb
 FDB JMPRMB
 FCB $53,$50,$43,$D0 ;spc
 FDB JMPSPC

TXERRO FCC "****ERROR"
TXERRN FCC " "
 FCC " 207"
 FCB $0D
 FCB $0A
 FCB $04

 FCB $0D

TXTOTL FCB $0D
 FCB $0A
 FCC "TOTAL ERRORS "
TXTOTN FCC "00000"
 FCB $0D
 FCB $0A
 FCB $04

SONE FCC "S1"
S1CNT FCC "1E"
S1DATA FCC "A063271608A10026"
       FCC "10BCA00426F6FEA0"
       FCC "16A7000820BB3F3F"
       FCC "3F3F7EE0E3"
S1CHKD FCC "CB"
 FCB $0D
 FCB $0A
S1END FCB $00
 FCB $04

 FCB $04

TXPSEP FCB $0D
 FCB $0A
 FCB $0A
 FCB $0A
 FCB $0A
 FCC "---"
 FCB $0D
 FCB $0A
 FCB $0A
 FCB $0A
 FCC "PAGE"
SEPNUM FCC " "
 FCC " 001  "
SEPNAM FCC " "
 FCC "CDAT1   "
 FCC "          "
SEPEND FCB $0D
 FCB $0A
 FCB $0A
 FCB $0A
 FCB $0A
 FCB $04

JMPEND JMP POEND
JMPEQU JMP POEQU
JMPFCB JMP POFCB
JMPFCC JMP POFCC
JMPFDB JMP POFDB
JMPMON JMP POEND
JMPNAM JMP PONAM
JMPOPT JMP POOPT
JMPORG JMP POORG
JMPPAG JMP POPAG
JMPRMB JMP PORMB
JMPSPC JMP POSPC

Z05C0 JMP Z0998
Z05C3 JMP Z0B14
Z05C6 JMP Z08B7
Z05C9 JMP Z065D
Z05CC JMP Z0804
Z05CF JMP Z105C
Z05D2 JMP Z1105
Z05D5 JMP Z0667
Z05D8 JMP Z0EA0
Z05DB JMP Z06F8
Z05DE JMP Z0642
Z05E1 JMP Z0646
Z05E4 JMP Z0849
Z05E7 JMP Z06AA
Z05EA JMP Z141F
Z05ED JMP Z0888
Z05F0 JMP Z13D5
Z05F3 JMP Z1292
Z05F6 JMP Z086D

PUNCH LDAA Z001E
 BNE Z0604
 LDAA FLGOBJ
 BEQ Z0604
 JSR XPOR
Z0604 RTS 

PUNDLY CLRA 
 LDX #$0000
Z0609 INX 
 CPX #$21 ;punch delay
 BEQ Z0611
 BRA Z0609
Z0611 INCA 
 CMPA #$02
 BNE Z0609
 RTS 

 FCC "      "
TXPASS FCB $0D
 FCB $0A
 FCB $15
 FCC "ENTER PASS : 1P,2P,2L,2T"
 FCB $00
 FCB $00
 FCB $0D
 FCB $0A
Z063C FCB $0A
 FCB $04

Z063E FCB $FF
Z063F FCB $FF
Z0640 FCB $FF
Z0641 FCB $AF

Z0642 PSHB
 CLRB 
 BRA Z0649

Z0646 PSHB 
 LDAB #$FF
Z0649 STX Z0044
 LDX Z0014
Z064D LDAA $00,X
 INX 
 TSTB 
 BEQ Z0657
 CMPA #$20
 BEQ Z064D
Z0657 STX Z0014
 LDX Z0044
 PULB 
 RTS 

Z065D STX Z0044
 LDX Z0014
 DEX 
 STX Z0014
 LDX Z0044
 RTS 

Z0667 STX Z005E
 LDX #Z0306
Z066C LDAA $00,X
 SUBA Z009D
 ANDA #$7F
 BNE Z068E
 LDAA $01,X
 SUBA Z009E
 ANDA #$7F
 BNE Z068E
 LDAA $02,X
 SUBA Z009F
 ANDA #$7F
 BNE Z068E
 LDAB $03,X
 STAB Z0016
 LDX $04,X
 STX Z0017
 BRA Z06A7

Z068E INX 
 INX 
 INX 
 INX 
 INX 
 INX 
 CPX #TXERRO
 BNE Z066C
 LDAA #$CF
 JSR Z05ED
 LDAA #$00
 STAA Z0016
 LDX #Z0000
 STX Z0017
Z06A7 LDX Z0060
 RTS 

Z06AA LDAA Z001F
 BNE Z06F0
 LDAA FLGLIS
 BNE Z06F0
 STX Z0060
 LDX Z0014
 STX Z005E
 LDAA FLGPAG
 BNE Z06E6
 LDAA Z0025
 BEQ Z06E6
 INC Z0019
 BNE Z06E6
 LDAA #$CA
 STAA Z0019
 LDX Z0028
 INX 
 STX Z0028
 LDAA Z0028
 LDAB Z0029
 LDX #SEPNUM
 JSR Z05C6
 LDAA #$20
 STAA SEPNUM
 STAA SEPNUM+1
 LDX #TXPSEP
 JSR XHEAD
Z06E6 LDX Z0060
 JSR XLINE
 LDX Z005E
 STX Z0014
 RTS 

Z06F0 LDAA Z0007
 BEQ Z06F7
 JSR XLINE
Z06F7 RTS 

Z06F8 LDX Z0014
 STX Z005E
 BITB #$01
 BEQ Z070D
 LDX #Z0089
 LDAA Z0026
 JSR Z05F6
 LDAA Z0027
 JSR Z05F6
Z070D BITB #$02
 BEQ Z0719
 LDX #Z008E
 LDAA Z0018
 JSR Z05F6
Z0719 BITB #$04
 BEQ Z0725
 LDX #Z0091
 LDAA Z000F
 JSR Z05F6
Z0725 BITB #$08
 BEQ Z0736
 LDX #Z0091
 LDAA Z000E
 JSR Z05F6
 LDAA Z000F
 JSR Z05F6
Z0736 BITB #$10
 BEQ Z0747
 LDX #Z008E
 LDAA Z000E
 JSR Z05F6
 LDAA Z000F
 JSR Z05F6
Z0747 TST Z0007
 BEQ Z0769
 SEI 
 STS Z0042
 LDX #Z0096
 LDS #Z02B6
Z0755 PULA 
 STAA $00,X
 INX 
 CPX #Z00C9
 BEQ Z0762
 CMPA #$0D
 BNE Z0755
Z0762 DEX 
 LDS Z0042
 CLI 
 JMP Z07F3
Z0769 LDX #Z0095
 BITB #$20
 BEQ Z0790
 TST Z004C
 BNE Z077A
 LDX #Z02B7
 BRA Z077C
Z077A LDX Z004A
Z077C STX Z0014
 LDX #Z0096
Z0781 JSR Z05DE
 CMPA #$20
 BEQ Z0790
 STAA $00,X
 INX 
 CPX #Z009C
 BNE Z0781
Z0790 BITB #$40
 BEQ Z07BC
 LDX Z0038
 STX Z0014
 LDX #Z00A4
 LDAA Z0016
 BITA #$10
 BNE Z07BC
 JSR Z05E1
 JSR Z05C9
Z07A7 JSR Z05DE
 CMPA #$20
 BEQ Z07C7
 CMPA #$0D
 BEQ Z07F3
 STAA $00,X
 INX 
 CPX #Z00C9
 BNE Z07A7
 BRA Z07F3
Z07BC BITB #$80
 BEQ Z07F3
 LDX Z0038
 STX Z0014
 LDX #Z00A4
Z07C7 BITB #$80
 BEQ Z07F3
 INX 
 INX 
 STX Z005C
 LDAA Z005C
 LDAB Z005D
 SUBB Z0641
 SBCA Z0640
 BCC Z07DE
 LDX #Z00AD
Z07DE JSR Z05E1
 JSR Z05C9
Z07E4 JSR Z05DE
 STAA $00,X
 CMPA #$0D
 BEQ Z07F3
 INX 
 CPX #Z00CA
 BNE Z07E4
Z07F3 LDAA #$0D
 STAA $01,X
 LDAA #$0A
 STAA $02,X
 LDAA #$04
 STAA $03,X
 LDX Z005E
 STX Z0014
 RTS 

Z0804 PSHB 
 PSHA 
 LDAA $00,X
 LDAB $01,X
 PSHB 
 PSHA 
 DES 
 TSX 
 LDAA #$01
 TST $01,X
 BMI Z081F
Z0814 INCA 
 ASL $02,X
 ROL $01,X
 BMI Z081F
 CMPA #$11
 BNE Z0814
Z081F STAA $00,X
 LDAA $03,X
 LDAB $04,X
 CLR $03,X
 CLR $04,X
Z0829 SUBB $02,X
 SBCA $01,X
 BCC Z0836
 ADDB $02,X
 ADCA $01,X
 CLC 
 BRA Z0837

Z0836 SEC 
Z0837 ROL $04,X
 ROL $03,X
 LSR $01,X
 ROR $02,X
 DEC $00,X
 BNE Z0829
 INS 
 INS 
 INS 
 PULA 
 PULB 
 RTS 

Z0849 PSHB 
 PSHA 
 LDAA $01,X
 PSHA 
 LDAA $00,X
 PSHA 
 LDAA #$10
 PSHA 
 TSX 
 LDAA $03,X
Z0857 ASLB 
 ROLA 
 ASL $02,X
 ROL $01,X
 BCC Z0863
 ADDB $04,X
 ADCA $03,X
Z0863 DEC $00,X
 BNE Z0857
 INS 
 INS 
 INS 
 INS 
 INS 
 RTS 

Z086D PSHB 
 TAB 
 LSRA 
 LSRA 
 LSRA 
 LSRA 
 BSR Z087A
 TBA 
 BSR Z087A
 PULB 
 RTS 

Z087A ANDA #$0F
 ORAA #$30
 CMPA #$3A
 BCS Z0884
 ADDA #$07
Z0884 STAA $00,X
 INX 
 RTS 

Z0888 STX Z0048
 LDAB Z0025
 BNE Z0896
 CMPA #$D3
 BEQ Z08B4
 CMPA #$D0
 BEQ Z08B4
Z0896 INC Z0007
 LDX Z0005
 INX 
 STX Z0005
 TAB 
 CLRA 
 LDX #TXERRN
 JSR Z05C6
 LDAA #$20
 STAA TXERRN
 STAA TXERRN+1
 LDX #TXERRO
 JSR Z05E7
Z08B4 LDX Z0048
 RTS 

Z08B7 STX Z0044
 LDX #Z08E7
Z08BC CLR Z003F
Z08BF SUBB $01,X
 SBCA $00,X
 BCS Z08CA
 INC Z003F
 BRA Z08BF

Z08CA ADDB $01,X
 ADCA $00,X
 PSHA 
 STX Z0046
 LDX Z0044
 LDAA Z003F
 ADDA #$30
 STAA $00,X
 PULA 
 INX 
 STX Z0044
 LDX Z0046
 INX 
 INX 
 CPX #Z08F1
 BNE Z08BC
 RTS 

Z08E7 FDB $2710,$03E8,$0064,$000A
 FDB $0001

*assembler start
Z08F1 JSR XIOINT
 LDAA #$55
Z08F6 LDX #Z1FE7
Z08F9 INX 
 CLR $00,X
 STAA $00,X
 CMPA $00,X
 BEQ Z08F9
 STX RAMEND
 DEX 
 DEX 
 DEX 
 DEX 
 DEX 
 DEX 
 DEX 
 DEX 
 STX Z0053
 LDX #0
 STX Z0001
Z0913 LDS #Z00EA
 JSR Z027F
 JSR PDATA1
 CLR Z001E
 CLR Z001F
 JSR XCIE
 CMPA #$18
 BNE Z092C
 JMP Z17BC

Z092C STAA Z003F
 JSR XCIE
 TAB 
 LDAA Z003F
 CMPA #$31
 BNE Z094A
 CMPB #$53
 BEQ Z0941
Z093C LDX #Z1FE8
 STX Z005A
Z0941 CLRA 
 STAA Z0025
 STAA Z0005
 STAA Z0006
 BRA Z0963

Z094A CMPA #$32
 BNE Z0913
 CMPB #$4C
 BNE Z0957
 INC Z001E
 BRA Z095E

Z0957 CMPB #$54
 BNE Z095E
 JSR Z1A7C
Z095E STAA Z0025
 CLRA 
 STAA Z002A
Z0963 STAA FLGLIS
 STAA Z0013
 STAA FLGGEN
 STAA FLGOBJ
 STAA FLGSYM
 STAA Z002B
 STAA FLGPAG
 STAA Z001D
 LDAA #$FF
 STAA Z0019
 LDX #Z0000
 STX Z0028
 STX Z0026
Z097E LDX #Z1FD0
 STX Z0058
 STX Z0056
 LDX #SEPNAM+1
 LDAA #$20
Z098A STAA $00,X
 INX 
 CPX #SEPEND
 BNE Z098A
 LDAA #$FF
 STAA Z0013
 BRA Z099B

Z0998 CLR Z0013
Z099B CLR Z0007
 JSR XRIR
 LDAA Z0013
 BEQ Z09C0
 CLR Z004C
 LDX #Z0000
 STX Z004D
 LDAA Z02B7
 CMPA #$0D
 BEQ Z099B
 CMPA #$30
 BLT Z09C0
 CMPA #$39
 BGT Z09C0
 LDAA #$FF
 STAA Z004C
Z09C0 LDX #Z02B7
 STX Z0014
 LDAA Z004C
 BNE Z09D0
 LDX Z004D
 INX 
 STX Z004D
 BRA Z09D7

Z09D0 JSR Z05D2
 LDX Z000C
 STX Z004D
Z09D7 LDX #Z007B
 LDAA #$20
Z09DC STAA $00,X
 INX 
 CPX #Z00CB
 BNE Z09DC
 LDAA Z004D
 LDAB Z004E
 LDX #Z0083
 JSR Z05C6
 LDX Z0014
 STX Z004A
 JSR Z05DE
 CMPA #$2A
 BNE Z0A35
 TST Z0025
 BEQ Z0998
 LDX #Z0096
 SEI 
 STS Z0042
 LDAA Z004C
 BEQ Z0A0D
 LDS Z004A
 DES 
 BRA Z0A10

Z0A0D LDS #Z02B6
Z0A10 PULA 
 STAA $00,X
 CMPA #$0D
 BEQ Z0A1D
 INX 
 CPX #Z00CA
 BNE Z0A10
Z0A1D LDS Z0042
 CLI 
 LDAA #$0D
 STAA $00,X
 LDAA #$0A
 STAA $01,X
 LDAA #$04
 STAA $02,X
 LDX #Z0083
 JSR Z05E7
 JMP Z05C0

Z0A35 CMPA #$0D
 BNE Z0A3C
 JMP Z05C0

Z0A3C CMPA #$20
 BEQ Z0A7D
 LDAB #$06
 LDX #Z007B
Z0A45 TSTB 
 BEQ Z0A4C
 STAA $00,X
 INX 
 DECB 
Z0A4C JSR Z05DE
 CMPA #$20
 BNE Z0A45
 LDX #Z007B
 BRA Z0A66

Z0A58 LDAA $00,X
 CMPA #$20
 BEQ Z0A70
 CMPA #$30
 BLT Z0A78
 CMPA #$39
 BLE Z0A70
Z0A66 LDAA $00,X
 CMPA #$41
 BLT Z0A78
 CMPA #$5A
 BGT Z0A78
Z0A70 INX 
 CPX #Z0081
 BNE Z0A58
 BRA Z0A7D

Z0A78 LDAA #$CD
 JSR Z05ED
Z0A7D JSR Z05E1
 STAA Z009D
 JSR Z05DE
 STAA Z009E
 JSR Z05DE
 STAA Z009F
 LDX Z0014
 STX Z0038
 JSR Z05D5
 TST Z0018
 BNE Z0AA3
 LDAB #$0B
 JSR Z05DB
 LDAB #$03
 BRA Z0B0A

 BRA Z0B14

Z0AA3 TST Z0013
 BEQ Z0AB1
 LDX Z0017
 CPX #JMPNAM
 BEQ Z0ABD
 BRA Z0AB8

Z0AB1 LDX Z0017
 CPX #JMPNAM
 BNE Z0ABD
Z0AB8 LDAA #$C9
 JSR Z05ED
Z0ABD LDAB Z0016
 LDAA Z007B
 CMPA #$20
 BEQ Z0ADB
 BITB #$40
 BEQ Z0AD0
 LDAA #$CD
 JSR Z05ED
 BRA Z0AEE

Z0AD0 BITB #$20
 BNE Z0AE4
 LDAB #$01
 JSR Z05F3
 BRA Z0AE4

Z0ADB BITB #$20
 BEQ Z0AE4
 LDAA #$CA
 JSR Z05ED
Z0AE4 LDAB Z0016
 BITB #$80
 BEQ Z0AEE
 LDX Z0017
 JMP $00,X

Z0AEE LDAB Z0016
 BITB #$10
 BNE Z0AFA
 JSR Z05D8
 JMP Z0B00

Z0AFA LDAA #$01
 STAA Z0000
 LDAB #$E3
Z0B00 JSR Z05DB
 LDAB #$01
 JSR Z05EA
 LDAB Z0000
Z0B0A ADDB Z0027
 LDAA #$00
 ADCA Z0026
 STAA Z0026
 STAB Z0027
Z0B14 TST Z0007
 BNE Z0B1E
 TST Z0025
 BEQ Z0B24
Z0B1E LDX #Z0083
 JSR Z05E7
Z0B24 JMP Z05C0

POEQU LDX #Z007B
Z0B2A LDAA $00,X
 PSHA 
 INX 
 CPX #Z0083
 BNE Z0B2A
 JSR Z05CF
 LDX Z000A
 STX Z000E
 LDX #Z0082
Z0B3D PULA 
 STAA $00,X
 DEX 
 CPX #Z007A
 BNE Z0B3D
 LDAB #$FF
 JSR Z05F3
 LDAB #$F0
 JSR Z05DB
 JMP Z05C3

POEND LDAA Z0025
 BEQ Z0B9B
 LDAB #$C0
 JSR Z05DB
 LDX #Z0083
 JSR Z05E7
 LDAB #$80
 JSR Z05EA
 LDAA FLGSYM
 BEQ Z0B6E
 JSR Z05F0
Z0B6E LDAA Z0005
 LDAB Z0006
 LDX #TXTOTN
 JSR Z05C6
 LDX #TXTOTL
 JSR XLINE
 LDAA FLGPAG
 BNE Z0B98
 LDAA FLGLIS
 BNE Z0B98
 LDAA Z001F
 BNE Z0B98
Z0B8A LDAA Z0019
 CMPA #$FF
 BEQ Z0B98
 LDX #Z063C
 JSR Z05E7
 BRA Z0B8A

Z0B98 JMP Z0303

Z0B9B JSR Z05F0
 JMP Z0303

POFCC JSR Z05E1
 STAA Z0041
 LDX Z0014
 DEX 
 STX Z0048
 LDAB #$FF
 STAB FLGOPT
 CMPA #$30
 BLT Z0BEE
 CMPA #$39
 BGT Z0BEE
Z0BB7 JSR Z05DE
 CMPA #$30
 BLT Z0BC2
 CMPA #$39
 BLE Z0BB7
Z0BC2 CMPA #$2C
 BEQ Z0BCD
 LDX Z0048
 INX 
 STX Z0014
 BRA Z0BEE

Z0BCD LDX Z0048
 STX Z0014
 JSR Z05D2
 CLR Z0041
 TST Z000C
 BNE Z0BE5
 LDAA Z000D
 TSTA 
 BEQ Z0BE5
 STAA FLGOPT
 BRA Z0BEE

Z0BE5 LDAA #$CC
 JSR Z05ED
 LDAB #$01
 STAB FLGOPT
Z0BEE JSR Z05DE
 CMPA #$0D
 BEQ Z0BF9
 CMPA Z0041
 BNE Z0BFB
Z0BF9 LDAA #$20
Z0BFB STAA Z0018
 LDAB #$E3
 JSR Z05DB
 LDX Z0014
 STX Z0046
 LDX Z0048
 STX Z0014
 LDX #Z00A4
Z0C0D JSR Z05DE
 CMPA #$0D
 BEQ Z0C1C
 STAA $00,X
 INX 
 CPX #Z00C9
 BNE Z0C0D
Z0C1C LDAA #$0D
 STAA $00,X
 LDAA #$0A
 STAA $01,X
 LDAA #$04
 STAA $02,X
 LDX Z0046
 STX Z0014
 LDAB #$00
 JSR Z05EA
 LDX Z0026
 INX 
 STX Z0026
 TST Z0025
 BEQ Z0C41
 LDX #Z0083
 JSR Z05E7
Z0C41 DEC FLGOPT
 BEQ Z0C8F
 JSR Z0C92
Z0C49 JSR Z05DE
 TST Z0041
 BEQ Z0C60
 CMPA Z0041
 BEQ Z0C8F
 CMPA #$0D
 BNE Z0C69
 LDAA #$CC
 JSR Z05ED
 BRA Z0C8F

Z0C60 CMPA #$0D
 BNE Z0C69
 LDAA #$20
 JSR Z05C9
Z0C69 STAA Z0018
 LDAB #$03
 JSR Z05DB
 LDAB #$00
 JSR Z05EA
 LDX Z0026
 INX 
 STX Z0026
 TST Z0025
 BEQ Z0C8A
 TST FLGGEN
 BNE Z0C8A
 LDX #Z0083
 JSR Z05E7
Z0C8A DEC FLGOPT
 BNE Z0C49
Z0C8F JMP Z05C0

Z0C92 LDX #Z0083
 LDAA #$20
Z0C97 STAA $00,X
 INX 
 CPX #Z0088
 BNE Z0C97
 RTS 

POFDB JSR Z05CF
 LDX Z000A
 STX Z000E
 LDAB #$F1
 JSR Z05DB
 LDAB #$00
 JSR Z05EA
 LDX Z0026
 INX 
 INX 
 STX Z0026
 LDAA Z0025
 BEQ Z0CC1
 LDX #Z0083
 JSR Z05E7
Z0CC1 JSR Z0C92
Z0CC4 JSR Z05C9
 JSR Z05DE
 CMPA #$2C
 BEQ Z0CD1
 JMP Z05C0

Z0CD1 JSR Z05CF
 LDX Z000A
 STX Z000E
 LDAB #$11
 JSR Z05DB
 LDAB #$00
 JSR Z05EA
 LDX Z0026
 INX 
 INX 
 STX Z0026
 LDAA Z0025
 BEQ Z0CC4
 LDAA FLGGEN
 BNE Z0CC4
 LDX #Z0083
 JSR Z05E7
 BRA Z0CC4

POFCB BSR Z0D44
 LDAB #$E3
 JSR Z05DB
 LDAB #$00
 JSR Z05EA
 LDX Z0026
 INX 
 STX Z0026
 LDAA Z0025
 BEQ Z0D13
 LDX #Z0083
 JSR Z05E7
Z0D13 JSR Z0C92
Z0D16 JSR Z05C9
 JSR Z05DE
 CMPA #$2C
 BNE Z0D41
 BSR Z0D44
 LDAB #$03
 JSR Z05DB
 LDAB #$00
 JSR Z05EA
 LDX Z0026
 INX 
 STX Z0026
 LDAA Z0025
 BEQ Z0D16
 LDAA FLGGEN
 BNE Z0D16
 LDX #Z0083
 JSR Z05E7
 BRA Z0D16

Z0D41 JMP Z05C0

Z0D44 JSR Z05CF
 LDAA Z000B
 LDAB Z000A
 BEQ Z0D53
 LDAA #$D2
 JSR Z05ED
 CLRA 
Z0D53 STAA Z0018
 RTS 

 JMP Z05C3

PONAM LDAA Z0013
 BEQ Z0D8D
 LDAA #$FF
 STAA Z0013
 LDX #SEPNAM+1
 LDAA #$20
Z0D66 STAA $00,X
 INX 
 CPX #SEPNAM+9
 BNE Z0D66
 JSR Z05E1
 LDX #SEPNAM+1
Z0D74 CMPA #$0D
 BEQ Z0D8D
 CMPA #$20
 BLT Z0D80
 CMPA #$61
 BLT Z0D82
Z0D80 LDAA #$20
Z0D82 STAA $00,X
 JSR Z05DE
 INX 
 CPX #SEPNAM+9
 BNE Z0D74
Z0D8D LDAB #$C0
 JSR Z05DB
 JMP Z05C3

POOPT CLR FLGOPT
 LDAB #$FF
 JSR Z05E1
Z0D9D CMPA #$4E ;'N'
 BNE Z0DAD
 STAB FLGOPT
 JSR Z05DE
 CMPA #$4F ;'O'
 BNE Z0DFD
 JSR Z05DE
Z0DAD CMPA #$4F ;'O'
 BNE Z0DBD
 CLR FLGOBJ
 TST FLGOPT
 BNE Z0E04
 STAB FLGOBJ
 BRA Z0E04

Z0DBD CMPA #$4C ;'L'
 BNE Z0DCD
 CLR FLGLIS
 TST FLGOPT
 BEQ Z0E04
 STAB FLGLIS
 BRA Z0E04

Z0DCD CMPA #$47 ;'G'
 BNE Z0DDD
 CLR FLGGEN
 TST FLGOPT
 BEQ Z0E04
 STAB FLGGEN
 BRA Z0E04

Z0DDD CMPA #$53 ;'S'
 BNE Z0DED
 CLR FLGSYM
 TST FLGOPT
 BNE Z0E04
 STAB FLGSYM
 BRA Z0E04

Z0DED CMPA #$50 ;'P'
 BNE Z0DFD
 CLR FLGPAG
 TST FLGOPT
 BEQ Z0E04
 STAB FLGPAG
 BRA Z0E04

Z0DFD LDAA #$D9
 JSR Z05ED
 BRA Z0E18

Z0E04 JSR Z05DE
 CMPA #$0D
 BEQ Z0E18
 CMPA #$2C
 BNE Z0E04
 CLR FLGOPT
 JSR Z05DE
 JMP Z0D9D

Z0E18 LDAB #$C0
 JSR Z05DB
 JMP Z05C3

POORG JSR Z05CF
 LDX Z000A
 STX Z000E
 STX Z0026
 LDAB #$C1
 JSR Z05DB
 JMP Z05C3

POPAG JSR Z05DE
 CMPA #$45
 BEQ Z0E3F
 LDAA #$CA
 JSR Z05ED
 BRA Z0E62

Z0E3F LDX #Z0083
 LDAA #$0A
 LDAB Z0019
 INCB 
 BNE Z0E4C
 JMP Z05C0

Z0E4C INCB 
 BEQ Z0E54
 STAA $00,X
 INX 
 BRA Z0E4C

Z0E54 STAA $02,X
 LDAA #$0D
 STAA $01,X
 LDAA #$04
 STAA $03,X
 LDAA #$FE
 STAA Z0019
Z0E62 JMP Z05C3

PORMB JSR Z05CF
 LDX Z000A
 STX Z000E
 LDAB #$F1
 JSR Z05DB
 LDAA Z000A
 LDAB Z000B
 ADDB Z0027
 ADCA Z0026
 STAA Z0026
 STAB Z0027
 JMP Z05C3

POSPC JSR Z05CF
 LDX Z000A
Z0E85 LDAA Z0019
 CMPA #$FF
 BEQ Z0E9D
 LDX Z000A
 CPX #Z0000
 BEQ Z0E9D
 DEX 
 STX Z000A
 LDX #Z063C
 JSR Z05E7
 BRA Z0E85

Z0E9D JMP Z05C0

Z0EA0 LDX #Z0000
 STX Z000E
 CLR Z0012
 LDAB Z0017
 BITB #$20
 BEQ Z0EFD
 LDAA #$02
 STAA Z0000
 JSR Z05CF
 LDX Z000A
 STX Z000E
 CPX Z0026
 BNE Z0EC3
Z0EBD LDAA #$FE
 STAA Z000F
 BRA Z0EF3

Z0EC3 LDX Z0026
 INX 
 INX 
 STX Z000A
 LDAA Z000A
 LDAB Z000B
 SUBB Z000F
 BEQ Z0EE4
 SBCA Z000E
 BCC Z0EE9
 LDAA Z000E
 LDAB Z000F
 SUBB Z000B
 SBCA Z000A
 TSTA 
 BNE Z0EF6
 CMPB #$80
 BPL Z0EF6
Z0EE4 STAB Z000F
 LDAB #$E7
 RTS 

Z0EE9 TSTA 
 BNE Z0EF6
 CMPB #$81
 BPL Z0EF6
 NEGB 
 STAB Z000F
Z0EF3 LDAB #$E7
 RTS 

Z0EF6 LDAA #$D0
 JSR Z05ED
 BRA Z0EBD

Z0EFD JSR Z05E1
 STAA Z003F
 JSR Z05DE
 STAA FLGOPT
 LDAB Z0017
 BITB #$04
 BNE Z0F10
 JMP Z1014

Z0F10 CMPA #$20
 BNE Z0F71
 LDAA Z003F
 CMPA #$41
 BEQ Z0F24
 CMPA #$42
 BNE Z0F71
 LDAB Z0018
 ORAB #$40
 STAB Z0018
Z0F24 LDX Z0014
 STX Z0038
 STAA Z00A1
 JSR Z05E1
 STAA Z003F
 JSR Z05DE
 STAA FLGOPT
 LDAA Z003F
 CMPA #$23
 BEQ Z0F3D
 JMP Z1014

Z0F3D JSR Z05C9
 LDAA Z0017
 BITA #$80
 BEQ Z0F71
 JSR Z05CF
 LDX Z000A
 STX Z000E
 JSR Z05C9
 JSR Z05DE
 CMPA #$2C
 BEQ Z0F71
 LDAA Z0017
 BITA #$04
 BEQ Z0F7F
 LDAA #$02
 STAA Z0000
 LDAB #$E7
 STAB Z0037
 LDAB Z000E
 BEQ Z0F6E
 LDAA #$D2
 JSR Z05ED
Z0F6E LDAB Z0037
 RTS 

Z0F71 LDAA #$D1
 JSR Z05ED
 CLR Z0018
 CLR Z000E
 CLR Z000F
Z0F7F LDAA #$03
 STAA Z0000
 LDAB #$EB
 RTS 

Z0F86 LDX Z0038
 STX Z0014
 JSR Z05CF
 LDX Z000A
 STX Z000E
 JSR Z05C9
 JSR Z05DE
 CMPA #$2C
 BNE Z0FE3
 JSR Z05DE
Z0F9E CMPA #$58
 BNE Z0F71
 JSR Z05DE
 CMPA #$20
 BEQ Z0FAD
 CMPA #$0D
 BNE Z0F71
Z0FAD LDAA Z0017
 BITA #$40
 BEQ Z0F71
 TST Z000E
 BEQ Z0FBD
 LDAA #$D2
 JSR Z05ED
Z0FBD LDAA #$02
 STAA Z0000
 LDAA Z0018
 ORAA #$20
 STAA Z0018
 LDAB #$E7
 RTS 

Z0FCA CMPA #$58
 BNE Z0FDF
 LDAA Z003F
 CMPA #$2C
 BEQ Z0FDB
Z0FD4 CMPA #$23
 BNE Z0F86
 JMP Z0F3D

Z0FDB LDAA FLGOPT
 BRA Z0F9E

Z0FDF LDAA Z003F
 BRA Z0FD4

Z0FE3 LDAA Z0012
 BNE Z0FFE
 LDAA Z000E
 BNE Z0FFE
 LDAA Z0017
 BITA #$10
 BEQ Z0FFE
 LDAA Z0018
 ORAA #$10
 STAA Z0018
 LDAA #$02
 STAA Z0000
 LDAB #$E7
 RTS 

Z0FFE LDAB Z0017
 BITB #$18
 BNE Z1007
 JMP Z0F71

Z1007 LDAA Z0018
 ORAA #$30
 STAA Z0018
 LDAA #$03
 STAA Z0000
 LDAB #$EB
 RTS 

Z1014 LDAA FLGOPT
 CMPA #$20
 BEQ Z101E
 CMPA #$0D
 BNE Z0FCA
Z101E LDAA Z003F
 CMPA #$41
 BEQ Z103C
 CMPA #$42
 BNE Z1052
 LDAB Z0017
 CMPB #$02
 BNE Z1036
 LDAB Z0018
 ORAB #$01
 STAB Z0018
 BRA Z103C

Z1036 LDAB Z0018
 ORAB #$10
 STAB Z0018
Z103C STAA Z00A1
 LDX Z0014
 STX Z0038
 LDAA Z0017
 BITA #$02
 BNE Z104B
 JMP Z0F71

Z104B LDAA #$01
 STAA Z0000
 LDAB #$A3
 RTS 

Z1052 CMPA #$58
 BNE Z1059
 JMP Z0FAD

Z1059 JMP Z0F86

Z105C LDX #Z0000
 STX Z000A
 LDAA #$2B
 STAA Z0008
 CLR Z0009
 JSR Z05E1
 CMPA #$2A
 BEQ Z10BA
 JSR Z05C9
 JSR Z05DE
 CMPA #$0D
 BEQ Z10AE
 CMPA #$20
 BEQ Z10AE
 CMPA #$2C
 BEQ Z10AE
Z1081 JSR Z05C9
Z1084 JSR Z05DE
 CMPA #$0D
 BEQ Z10AD
 CMPA #$20
 BEQ Z10AD
 CMPA #$2C
 BEQ Z10AD
 CMPA #$2B
 BEQ Z10B6
 CMPA #$2D
 BEQ Z10B6
 CMPA #$2F
 BEQ Z10B6
 CMPA #$2A
 BNE Z10BA
 TST Z0009
 BEQ Z10B6
Z10A8 LDAA #$CC
 JSR Z05ED
Z10AD RTS 

Z10AE LDAB Z0016
 BITB #$08
 BEQ Z10A8
 BRA Z10AD

Z10B6 STAA Z0008
 BRA Z1084

Z10BA JSR Z05C9
 JSR Z05D2
 LDAA Z0008
 CMPA #$2B
 BEQ Z10D4
 CMPA #$2D
 BEQ Z10E3
 CMPA #$2A
 BEQ Z10ED
 CMPA #$2F
 BEQ Z10F9
Z10D2 BRA Z10D2

Z10D4 LDAA Z000A
 LDAB Z000B
 ADDB Z000D
 ADCA Z000C
Z10DC STAA Z000A
 STAB Z000B
 JMP Z1081

Z10E3 LDAA Z000A
 LDAB Z000B
 SUBB Z000D
 SBCA Z000C
 BRA Z10DC

Z10ED LDAA Z000A
 LDAB Z000B
 LDX #Z000C
 JSR Z05E4
 BRA Z10DC

Z10F9 LDAA Z000A
 LDAB Z000B
 LDX #Z000C
 JSR Z05CC
 BRA Z10DC

Z1105 CLR Z000C
 CLR Z000D
 LDX Z0014
 STX Z0060
 JSR Z05DE
 CMPA #$2A
 BNE Z111B
 LDX Z0026
 STX Z000C
 RTS 

Z111B CMPA #$27
 BNE Z1139
 JSR Z05DE
 STAA Z000B
 CLR Z000A
 JSR Z05DE
 JSR Z126F
 BEQ Z1132
 JMP Z11B7

Z1132 LDAA #$CC
 JSR Z05ED
 BRA Z11B7

Z1139 LDX #Z000C
 CMPA #$24
 BEQ Z119B
 CMPA #$40
 BEQ Z11B8
 CMPA #$25
 BNE Z114B
 JMP Z11DF

Z114B CMPA #$30
 BLT Z1156
 CMPA #$39
 BGT Z1156
 JMP Z123B

Z1156 STAA Z007B
 LDX #Z007B
 LDAB #$20
Z115D STAB $00,X
 INX 
 CPX #Z0081
 BNE Z115D
 LDX #Z007B
 BRA Z117A

Z116A JSR Z05DE
 JSR Z126F
 BNE Z1191
 CMPA #$30
 BLT Z117A
 CMPA #$3A
 BLT Z1187
Z117A CMPA #$41
 BLT Z1182
 CMPA #$5A
 BLE Z1187
Z1182 LDAA #$CC
 JSR Z05ED
Z1187 CPX #Z0081
 BEQ Z116A
 STAA $00,X
 INX 
 BRA Z116A

Z1191 LDAB #$00
 JSR Z05F3
 LDX Z004F
 STX Z000C
 RTS 

Z119B CLR $00,X
 CLR $01,X
Z119F JSR Z05DE
 JSR Z1559
 BMI Z11B0
 JSR Z125E
 ADDA $01,X
 STAA $01,X
 BRA Z119F

Z11B0 CMPA #$48
 BNE Z11B7
 JSR Z05DE
Z11B7 RTS 

Z11B8 CLR $00,X
 CLR $01,X
Z11BC JSR Z05DE
 CMPA #$30
 BLT Z11D2
 CMPA #$38
 BPL Z11D2
 ANDA #$07
 JSR Z1262
 ADDA $01,X
 STAA $01,X
 BRA Z11BC

Z11D2 CMPA #$4F
 BEQ Z11DA
 CMPA #$51
 BNE Z11FE
Z11DA JSR Z05DE
 BRA Z11B7

Z11DF CLR $00,X
 CLR $01,X
Z11E3 JSR Z05DE
 CMPA #$30
 BEQ Z11EE
 CMPA #$31
 BNE Z11F5
Z11EE RORA 
 ROL $01,X
 ROL $00,X
 BRA Z11E3

Z11F5 CMPA #$42
 BNE Z11FE
 JSR Z05DE
 BRA Z11B7

Z11FE JSR Z126F
 BNE Z1208
 LDAA #$D8
 JSR Z05ED
Z1208 RTS 

Z1209 JSR Z05DE
Z120C JSR Z126F
 BEQ Z1209
 LDX Z0014
 STX Z005E
 DEX 
 DEX 
 LDAA $00,X
 LDX Z0060
 STX Z0014
 LDX #Z000C
 CMPA #$4F
 BEQ Z11B8
 CMPA #$51
 BEQ Z11B8
 CMPA #$48
 BNE Z122F
 JMP Z119B

Z122F CMPA #$42
 BEQ Z11DF
 LDX Z005E
 STX Z0014
 RTS 

Z1238 JSR Z05DE
Z123B CMPA #$30
 BMI Z120C
 CMPA #$39
 BGT Z120C
 ANDA #$0F
 STAA Z0062
 LDAA $00,X
 LDAB $01,X
 ASLB 
 ROLA 
 JSR Z1262
 ADDB $01,X
 ADCA $00,X
 ADDB Z0062
 ADCA #$00
 STAA $00,X
 STAB $01,X
 BRA Z1238

Z125E ASL $01,X
 ROL $00,X
Z1262 ASL $01,X
 ROL $00,X
 ASL $01,X
 ROL $00,X
 ASL $01,X
 ROL $00,X
 RTS 

Z126F STX Z0010
 LDX #Z128A
Z1274 CMPA $00,X
 BEQ Z1284
 INX 
 CPX #Z1292
 BNE Z1274
 LDX Z0010
 TST Z063F
 RTS 

Z1284 LDX Z0010
 TST Z063E
 RTS 

Z128A CLV 
 SEC 
 BRA Z12B8

 BMI $12BC
 BLT $12C1

Z1292 STAB Z0055
Z1294 LDX #Z1FD0
 STX Z0058
 SEI 
 STS Z003D
 LDX #Z0063
 LDS #Z007A
Z12A2 PULA 
 STAA $00,X
 INX 
 CPX #Z0069
 BNE Z12A2
 LDS Z003D
 CLI 
 TSTB 
 BMI Z12B8
 BNE Z12BC
 LDX #$FFFF
 BRA Z12C4
Z12B8 LDX Z000A
 BRA Z12BE

Z12BC LDX Z0026
Z12BE LDAA Z0063
 ORAA #$80
 STAA Z0063
Z12C4 STX Z0069
Z12C6 LDAA Z0058
 LDAB Z0059
 SUBB Z005B
 SBCA Z005A
 BCS Z12D3
 JMP Z1362

Z12D3 JSR Z13A8
 LDX #Z0063
Z12D9 LDAA $00,X
 SUBA $08,X
 ANDA #$7F
 BEQ Z12E6
 JSR Z139D
 BRA Z12C6

Z12E6 INX 
 CPX #Z0069
 BNE Z12D9
 TST Z0055
 BEQ Z1332
 LDX Z0058
 STX Z0056
 TST Z006B
 BPL Z130D
 LDX Z0069
 CPX Z0071
 BEQ Z1344
 LDAA Z006C
 ORAA #$80
 STAA Z006C
 LDAA #$D5
 JSR Z05ED
 BRA Z1341

Z130D LDX #Z0063
Z1310 LDAA $00,X
 STAA $08,X
 INX 
 CPX #Z006B
 BNE Z1310
 LDX Z0058
 STX Z0044
 LDX Z005A
 STX Z0058
 JSR Z13BE
 LDX Z0044
Z1327 LDAA $08,X
 STAA $00,X
 INX 
 CPX Z005A
 BNE Z1327
 BRA Z1344

Z1332 TST Z006B
 BPL Z1357
 TST Z006C
 BPL Z134B
 LDAA #$CE
 JSR Z05ED
Z1341 JSR Z13BE
Z1344 LDX Z0071
 STX Z004F
 LDS Z003D
 RTS 

Z134B LDAA Z0056
 LDAB Z0057
 SUBB Z0059
 SBCA Z0058
 BCS Z135C
 BRA Z1344
Z1357 LDAA #$D3
 JSR Z05ED
Z135C SEC 
 ROL Z0012
 BRA Z1344

Z1362 LDX #Z0063
Z1365 LDAA $00,X
 STAA $08,X
 INX 
 CPX #Z006B
 BNE Z1365
 LDAA Z005A
 LDAB Z005B
 SUBB Z0054
 SBCA Z0053
 BPL Z1396
 TST Z0055
 BNE Z1387
 LDAA #$D3
 JSR Z05ED
 SEC 
 ROL Z0012
Z1387 LDX Z005A
 STX Z0058
 STX Z0056
 JSR Z13BE
 LDX Z0058
 STX Z005A
 BRA Z1344

Z1396 LDAA #$DD
 JSR Z05ED
 BRA Z1344

Z139D LDAB #$08
 LDX Z0058
Z13A1 INX 
 DECB 
 BNE Z13A1
 STX Z0058
 RTS 

Z13A8 SEI 
 STS Z003B
 LDX #Z006B
 LDS Z0058
 DES 
Z13B1 PULA 
 STAA $00,X
 INX 
 CPX #Z0073
 BNE Z13B1
 LDS Z003B
 CLI 
 RTS 

Z13BE SEI 
 STS Z003B
 LDAB #$08
 LDS #Z006A
 LDX Z0058
Z13C8 PULA 
 STAA $00,X
 INX 
 DECB 
 BNE Z13C8
 STX Z0058
 LDS Z003B
 CLI 
 RTS 

Z13D5 LDX #Z1FE8
 STX Z0058
Z13DA LDAA Z0058
 LDAB Z0059
 SUBB Z005B
 SBCA Z005A
 BCC Z141E
 JSR Z13A8
 LDAA Z006B
 TST Z0025
 BEQ Z13F3
 TSTA 
 BPL Z141A
 BRA Z13F6

Z13F3 TSTA 
 BMI Z141A
Z13F6 LDAA Z0071
 LDAB Z0072
 LDX #Z0072
 JSR Z05F6
 TBA 
 JSR Z05F6
 LDAA #$20
 STAA Z0071
 LDAA #$0D
 STAA $00,X
 LDAA #$0A
 STAA $01,X
 LDAA #$04
 STAA $02,X
 LDX #Z006B
 JSR Z05E7
Z141A BSR Z139D
 BRA Z13DA

Z141E RTS 

Z141F LDAA Z0025
 BEQ Z1491
 LDX #Z008E
 STX Z0033
 STAB Z003A
 LDAA Z002A
 BNE Z1475
 LDAA Z001E
 BNE Z1475
 LDAA FLGOBJ
 BEQ Z1475
 JSR XLEAD
 LDAA #$FF
 STAA Z002A
 LDAA #$20
 LDX #S0NAME
Z1442 STAA $00,X
 INX 
 CPX #S0CHKS
 BNE Z1442
 SEI 
 LDX #SEPNAM
 STX Z004A
 LDX #S0NAME
 LDAA #$0B
 STAA Z0032
Z1457 STS Z003B
 LDS Z004A
 PULA 
 STS Z004A
 LDS Z003B
 JSR Z154D
 CPX #S0CHKS
 BNE Z1457
 LDAA Z0032
 COMA 
 JSR Z154D
 CLI 
 JSR Z01A2
 JSR PUNCH
Z1475 LDX Z0026
 STX Z002C
 TST Z003A
 BPL Z1481
 JMP Z152D

Z1481 LDX Z0033
Z1483 LDAA $00,X
 CMPA #$20
 BNE Z1492
 INX 
 STX Z0033
 CPX #Z0096
 BNE Z1483
Z1491 RTS 

Z1492 TST Z002B
 BNE Z14BC
Z1497 PSHA 
 CLR Z0032
 LDAA #$FF
 STAA Z002B
 LDX #S1CNT
Z14A2 CLR $00,X
 INX 
 CPX #S1END
 BNE Z14A2
 LDX Z002C
 STX Z002E
 LDX #S1DATA
 LDAA Z002E
 JSR Z154D
 LDAA Z002F
 JSR Z154B
 PULA 
Z14BC LDX Z002C
 CPX Z002E
 BEQ Z14C7
 JSR Z14F3
 BRA Z1497

Z14C7 LDX Z0033
 JSR Z1559
 ASLA 
 ASLA 
 ASLA 
 ASLA 
 TAB 
 INX 
 LDAA $00,X
 INX 
 STX Z0033
 JSR Z1559
 ABA 
 BSR Z154B
 LDX Z002C
 INX 
 STX Z002C
 STX Z002E
 LDX Z0035
 CPX #S1CHKD
 BEQ Z14EE
 JMP Z1481
Z14EE BSR Z14F3
 JMP Z1481

Z14F3 PSHA 
 CLR Z002B
 LDAA #$03
 LDX #S1DATA
Z14FC INCA 
 INX 
 TST $00,X
 BNE Z14FC
 LSRA 
 PSHA 
 JSR Z154B
 LDAA Z0032
 COMA 
 DEX 
 DEX 
 JSR Z154D
 LDAA #$0D
 STAA $00,X
 LDAA #$0A
 STAA $01,X
 LDAA #$00
 STAA $02,X
 LDAA #$04
 STAA $03,X
 PULA 
 LDX #S1CNT
 BSR Z154D
 LDX #SONE
 JSR PUNCH
 PULA 
 RTS 

Z152D TST Z002B
 BEQ Z1534
 BSR Z14F3
Z1534 LDAA Z001E
 BNE Z1545
 LDAA FLGOBJ
 BEQ Z1545
 LDX #SNINE
 JSR PUNCH
 NOP 
 NOP 
 NOP 
Z1545 CLR Z002A
 JMP PUNOFF

Z154B LDX Z0035
Z154D PSHA 
 ADDA Z0032
 STAA Z0032
 PULA 
 JSR Z05F6
 STX Z0035
 RTS 

Z1559 CMPA #$30
 BMI Z156E
 CMPA #$39
 BLE Z156B
 CMPA #$41
 BMI Z156E
 CMPA #$46
 BGT Z156E
 SUBA #$07
Z156B ANDA #$0F
 RTS 

Z156E TST Z063E
 RTS 

SZERO FCC "S00B0000"
S0NAME FCC "4344415431202020"
S0CHKS FCC "47"
 FCB $0D
 FCB $0A
 FCB $00
 FCB $04

SNINE FCC "S9"
 FCB $FF
 FCB $FF
 FCB $FF
 FCB $FF
 FCB $FF
 FCB $FF
 FCB $FF
 FCB $FF
 FCB $FF
 FCB $FF
 FCB $FF
 FCB $04

Z159E FCB $C1
 FCC "     "
 FCB $FF
 FCB $FF
 FCB $C2
 FCC "     "
 FCB $FF
 FCB $FF
 FCB $D8
 FCC "     "
 FCB $FF
 FCB $FF
 FCB $1A
 FCB $00

*cold start
COLDS JMP NEW

Z15BB FCB $0D
 FCB $0A
 FCB $0A
 FCB $15
 FCC "READY"
 FCB $04

Z15C5 FCB $0D
 FCB $0A
 FCB $15
 FCC "WHAT?"
 FCB $04

Z15CE FCB $0D
 FCB $0A
 FCB $15
 FCC "CORE FULL"
 FCB $04

Z15DB FCB $10
 FCB $16
 FCB $00
 FCB $00
 FCB $04

TBLCMD FCC "NE"
 FDB NEW
 FCC "RE"
 FDB RESEQ
 FCC "LI"
 FDB LIST
 FCC "LO"
 FDB LOAD
 FCC "SA"
 FDB SAVE
 FCC "PA"
 FDB PATCH
 FCC "AS"
 FDB ASSEMB
 FCC "DE"
 FDB DESEQ
 FCC "AU"
 FDB AUTO
 FCC "PR"
 FDB PRINTR
 FCC "TE"
 FDB TERM
 FCC "SE"
 FDB SEARCH
 FCC "SI"
 FDB SIZE

 FCB $FF,$FF,$FF,$86

Z1618 LDAA #$3F
 JSR Z1A9D
Z161D LDX #Z1B33
Z1620 JSR INEEE
 CMPA #$00
 BNE Z162A
 JMP Z17BC

Z162A CMPA #$18
 BEQ Z165F
 CMPA #$0D
 BNE Z163C
 CPX #Z1B33
 BNE Z1666
 JSR Z168F
 BRA Z161D

Z163C CMPA #$0A
 BEQ Z1620
 CMPA #$08
 BEQ Z164D
 CMPA #$0F
 BNE Z1655
 LDAA #$5F
 JSR Z1A9D
Z164D CPX #Z1B33
 BEQ Z1620
 DEX 
 BRA Z1620

Z1655 CPX #Z1B7A
 BEQ Z1620
 STAA $00,X
 INX 
 BRA Z1620

Z165F LDX #Z166F
 BSR Z1678
 BRA Z161D

Z1666 LDAA #$04
 STAA $00,X
 STX Z000C
 BSR Z168F
 RTS 

Z166F FCC " DELETED"
 FCB $04

Z1678 BSR Z1688
 BRA Z168F

Z167C JSR Z1A9D
 LDAA MPC
 BMI Z1687
 JMP Z17BC

Z1687 INX 
Z1688 LDAA $00,X
 CMPA #$04
 BNE Z167C
 RTS 

Z168F STX Z16A3
 LDX #Z169B
 BSR Z1688
 LDX Z16A3
 RTS 

Z169B FCB $0D,$0A,$15
Z169E FCB $04
 FCB $00,$00,$00,$04

Z16A3 FCB $16,$77

Z16A5 LDX Z0048
Z16A7 CPX Z004A
 BEQ Z16B1
 JSR Z1678
 INX 
 BRA Z16A7

Z16B1 RTS 

Z16B2 CMPA #$30
 BMI Z16BA
 CMPA #$39
 BLE Z16BC
Z16BA SEC 
 RTS 

Z16BC CLC 
 RTS 

SKPSPC LDAA $00,X
 CMPA #$20
 BNE Z16C7
 INX 
 BRA SKPSPC

Z16C7 RTS 

Z16C8 LDAA #$30
 LDX #Z00F1
Z16CD STAA $00,X
 INX 
 CPX #Z00F5
 BNE Z16CD
 RTS 

Z16D6 JSR Z16E7
 BCS Z16C8
 LDAA Z00F3
 DECA 
 CMPA #$2F
 BNE Z16E4
 LDAA #$29
Z16E4 STAA Z00F3
 RTS 

Z16E7 STX Z0046
Z16E9 LDAA $00,X
 CMPA #$20
 BEQ Z1701
 CMPA #$04
 BEQ Z1701
 CMPA #$2D
 BEQ Z1701
 INX 
 JSR Z16B2
 BCC Z16E9
 SEC 
 LDX Z0046
 RTS 

Z1701 STS Z003B
 STX Z000A
 BSR Z16C8
 LDX Z000A
 LDS #FLGPUN
 LDAB #$04
Z170E DEX 
 LDAA $00,X
 PSHA 
 CPX Z0046
 BEQ Z1719
 DECB 
 BNE Z170E
Z1719 LDS Z003B
 CLC 
 RTS 

Z171D LDAA Z00F3
 ADDA #$61
 DAA 
 ANDA #$0F
 ORAA #$30
 STAA Z00F3
 LDAA Z00F2
 ADCA #$60
 DAA 
 ANDA #$0F
 ORAA #$30
 STAA Z00F2
 LDAA Z00F1
 ADCA #$60
 DAA 
 ANDA #$0F
 ORAA #$30
 STAA Z00F1
 RTS 

Z173F LDX #FLGPUN
 STS Z003B
 SEC 
Z1745 LDAA $00,X
 SBCA $04,X
 DEX 
 CPX #Z00F0
 BNE Z1745
 BCC Z1784
 LDX Z00FE
Z1753 INX 
 INX 
 INX 
 LDS #Z00F3
 SEC 
 LDAB #$04
Z175C PULA 
 SBCA $00,X
 DES 
 DES 
 DEX 
 DECB 
 BNE Z175C
 INX 
 BCC Z1779
 STX Z00FC
 INS 
 LDAB #$04
Z176D PULA 
 CMPA $00,X
 BNE Z1788
 INX 
 DECB 
 BNE Z176D
 CLC 
 BRA Z1789

Z1779 LDAA $00,X
 INX 
 CMPA #$04
 BNE Z1779
 CPX Z00FA
 BNE Z1753
Z1784 LDX Z00FA
 STX Z00FC
Z1788 SEC 
Z1789 LDS Z003B
 RTS 

Z178C STS Z003B
 LDS #Z00F0
 LDAB #$04
Z1793 PULA 
 STAA $00,X
 INX 
 DECB 
 BNE Z1793
 LDAA #$20
 STAA $00,X
 INX 
 LDS Z003B
 RTS 

NEW LDX Z00FE
 STX Z00FA
 STX Z00FC
 JSR Z16C8
 LDX Z00F1
 STX Z00F5
 STX Z00F7
Z17B3 EQU *+2
*warm start
WARMS LDX #MPLA
 LDAB #$FF
 STAB $00,X
 LDAB #$3E
 STAB $01,X
Z17BC LDAB #$FF
 STAB Z01C8
Z17C1 LDS #MONSTK
 LDAA #$04
 STAA Z169E
 CLR Z00F9
 LDX #Z15BB		"READY"
 JSR Z1678		PRTSTR
Z17D2 LDX #Z1B33
 LDAA Z00F9
 BEQ Z17E9
 JSR Z171D
 JSR Z178C
 LDAA #$04
 STAA $00,X
 LDX #Z1B33
 JSR Z1688
Z17E9 JSR Z1620
 LDX #Z1B33
 JSR SKPSPC
 LDAA $00,X
 JSR Z16B2
 BCS Z17FC
 JMP Z18CA

Z17FC LDAA $00,X
 CMPA #$04
 BEQ Z17D2
 INX 
 LDAB $00,X
 INX 
 STX Z000A
 LDX #TBLCMD
Z180B CMPA $00,X
 BNE Z1817
 CMPB $01,X
 BNE Z1817
 LDX $02,X
 JMP $00,X

Z1817 INX 
 INX 
 INX 
 INX 
 CPX #Z1618
 BNE Z180B
Z1820 LDX #Z15C5
 JSR Z1678
 BRA Z17D2

LIST LDX #Z15DB
 JSR Z1678
 BSR Z1879
 BCS Z185C
 JSR Z16E7
 BCS Z185C
 JSR Z173F
 LDX Z00FC
 STX Z0048
 LDX Z000A
 JSR SKPSPC
 LDAA $00,X
 CMPA #$04
 BEQ Z1852
 INX 
 JSR SKPSPC
 JSR Z16E7
 BCS Z1860
Z1852 INC FLGPUN
 JSR Z173F
 LDX Z00FC
 BRA Z1862

Z185C LDX Z00FE
 STX Z0048
Z1860 LDX Z00FA
Z1862 STX Z004A
 JSR Z16A5
 JMP Z17BC

PATCH LDX #Z17BC
 STX MONPC
 LDS #MONSP
 STS SPSAVE
 JMP CONTRL

Z1879 JSR Z16C8
 LDX Z000A
Z187E LDAA $00,X
 CMPA #$04
 BEQ Z188C
 JSR Z16B2
 INX 
 BCS Z187E
 DEX 
 RTS 

Z188C SEC 
 RTS 

RESEQ BSR Z1879
 BCS Z1895
 JSR Z16D6
Z1895 LDX Z00FE
Z1897 CPX Z00FA
 BEQ Z18B1
 JSR Z171D
 BCC Z18A5
 JSR Z16C8
 BRA Z1895

Z18A5 JSR Z178C
Z18A8 LDAA $00,X
 INX 
 CMPA #$04
 BNE Z18A8
 BRA Z1897

Z18B1 LDX Z00F1
 STX Z00F5
 LDX Z00F3
 STX Z00F7
 JMP Z17BC

AUTO LDAA #$FF
 STAA Z00F9
 BSR Z1879
 BCS Z18C7
 JSR Z16D6
Z18C7 JMP Z17D2

Z18CA JSR Z16E7
 BCC Z18D2
 JMP Z1820

Z18D2 JSR Z173F
 BCC Z18E1
 LDX Z00FC
 CPX Z00FA
 BEQ Z18FD
 BSR Z192E
 BRA Z18FA

Z18E1 LDX Z000A
 JSR SKPSPC
 LDAA $00,X
 CMPA #$04
 BNE Z18F6
 LDX Z00FA
 CPX Z00FE
 BEQ Z18FA
 BSR Z1909
 BRA Z18FA

Z18F6 BSR Z1909
 BSR Z192E
Z18FA JMP Z17D2

Z18FD BSR Z192E
 LDX Z00F1
 STX Z00F5
 LDX Z00F3
 STX Z00F7
 BRA Z18FA

Z1909 STS Z003B
 LDX Z00FC
 LDS Z00FA
 CLRB 
Z1910 LDAA $00,X
 DES 
 INX 
 INCB 
 CMPA #$04
 BNE Z1910
 STS Z00FA
 LDX Z00FC
 STAB Z1925
Z1920 CPX Z00FA
 BEQ Z192B
Z1925 EQU *+1
 LDAA $23,X
 STAA $00,X
 INX 
 BRA Z1920

Z192B LDS Z003B
 RTS 

Z192E LDAB Z000D
 SUBB Z000B
 ADDB #$05
 STAB Z1941
 STAB Z1943
 STAB Z1959
 LDX Z00FA
 CLRA 
Z1941 EQU *+1
 STAA $2A,X
Z1943 EQU *+1
 LDAA $2A,X
 BNE Z197A
 LDAA Z00FA+1
 ABA 
 STAA Z00FA+1
 LDAA #$00
 ADCA Z00FA
 STAA Z00FA
Z1951 CPX Z00FC
 BEQ Z195C
 DEX 
 LDAA $00,X
Z1959 EQU *+1
 STAA $2A,X
 BRA Z1951

Z195C LDX Z00FC
 STS Z003B
 LDS #Z00F0
 LDAB #$04
Z1965 PULA 
 STAA $00,X
 INX 
 DECB 
 BNE Z1965
 LDS Z000A
 DES 
Z196F PULA 
 STAA $00,X
 INX 
 CMPA #$04
 BNE Z196F
 LDS Z003B
 RTS 

Z197A LDX #Z15CE
 LDS Z003B
 JSR Z1678
 RTS 

SAVE JSR PUNON
 LDAB #$40
Z1988 LDAA #$FF
 JSR Z1A9D
 DECB 
 BNE Z1988
 LDAA #$02
 JSR Z1A9D
 CLRA 
 STAA Z169E
 LDX Z00FE
 STX Z0048
 LDX Z00FA
 STX Z004A
 JSR Z16A5
 LDAB #$20
 LDAA #$03
 JSR Z1A9D
Z19AB LDAA #$FF
 JSR Z1A9D
 DECB 
 BNE Z19AB
 JSR PUNOFF
 JMP Z17BC

LOAD LDX Z00FE
 JSR RDRON		19BB
Z19BE JSR INEEE
 CMPA #$02
 BNE Z19BE
Z19C5 JSR INEEE
 CMPA #$03
 BEQ Z19E7
 CMPA #$0D
 BNE Z19D2
 LDAA #$04
Z19D2 CMPA #$0A
 BEQ Z19C5
 CMPA #$00
 BEQ Z19C5
 CMPA #$15
 BEQ Z19C5
 CMPA #$12
 BEQ Z19C5
 STAA $00,X
 INX 
 BRA Z19C5

Z19E7 JSR Z1A69
 STX Z00FA
 LDX #$3939
 STX Z00F5
 STX Z00F7
 JMP Z17BC

DESEQ LDX Z00FE
Z19F8 CPX Z00FA
 BEQ Z1A0F
 LDAB #$05
 LDAA #$00
Z1A00 STAA $00,X
 INX 
 DECB 
 BNE Z1A00
Z1A06 LDAA $00,X
 INX 
 CMPA #$04
 BNE Z1A06
 BRA Z19F8

Z1A0F JMP Z17B3

Z1A12 STX Z01CC
 LDX #MPC
 LDAA #$02
 ORAB #$01
 STAA $01,X
 STAB $00,X
 LDAA #$06
 STAA $01,X
 STAB $00,X
 LDAA #$02
 LDAB #$01
 STAB $00,X
 STAA $01,X
 STAB $00,X
 LDAA #$06
 STAA $01,X
 STAB $00,X
 LDX Z01CC
 RTS 

PUNON LDAA #$12
 BSR Z1A79		JSR PRTCH
 PSHB 
 LDAB #$04
 BSR Z1A12
 PULB 
 JSR PUNDLY
 RTS 

PUNOFF LDAA #$14
 BSR Z1A79		JSR PRTCH
 PSHB 
 LDAB #$08
 BSR Z1A12
 PULB 
 RTS 

ASSEMB JSR Z0257
 JMP Z0300

RDRON LDAA #$11
 BSR Z1A79		JSR PRTCH
 LDAA #$3C
 STAA MPC+3
 PSHB 
 LDAB #$20
 BSR Z1A12
 PULB 
 RTS 

Z1A69 LDAA #$13
 BSR Z1A79		JSR PRTCH
 LDAA #$34
 STAA MPC+3
 PSHB 
 LDAB #$10
 BSR Z1A12
 PULB 
 RTS 

Z1A79 JMP OUTEEE

Z1A7C INC Z001F
 JSR PUNON
 RTS 

LPROUT STX Z01CA
 LDX #MPLA
 STAA $00,X
 LDAB #$36
 STAB $01,X
 LDAB #$3E
 STAB $01,X
Z1A93 TST $01,X
 BPL Z1A93
 LDAB $00,X
 LDX Z01CA
 RTS 

Z1A9D PSHB 
 LDAB Z01C8
 BEQ Z1AA7
 PULB 
 JMP OUTEEE

Z1AA7 PULB 
 JMP LPROUT

TERM CLR Z01C8
 COM Z01C8
 JMP Z17BC

SEARCH JSR Z1879
 BCS Z1AD2
 JSR Z16D6
 INC Z00F3
 LDAA Z00F3
 CMPA #$2A
 BNE Z1AC9
 LDAA #$30
 STAA Z00F3
Z1AC9 LDX Z00FE
 STX Z00FC
 JSR Z173F
 BCC Z1AD6
Z1AD2 LDX Z00FE
 STX Z00FC
Z1AD6 LDS #Z1B33
Z1AD9 PULA 
 CMPA #$04
 BEQ Z1AF7
 CMPA #$22
 BNE Z1AD9
 STS Z0288
Z1AE5 LDX Z00FC
 LDS Z0288
 PULA 
Z1AEB LDAB $00,X
 CBA 
 BEQ Z1AFC
 INX 
 CPX Z00FA
 BEQ Z1AF7
 BRA Z1AEB

Z1AF7 LDS Z003B
 JMP Z17BC

Z1AFC STX Z00FC
Z1AFE PULA 
 CMPA #$22
 BEQ Z1B13
 INX 
 LDAB $00,X
 CBA 
 BEQ Z1AFE
 LDX Z00FC
 INX 
 STX Z00FC
 INX 
 STX Z00FC
 BRA Z1AE5

Z1B13 DEX 
 LDAA $00,X
 CMPA #$04
 BNE Z1B13
 INX 
 STX Z00FC
 LDS Z003B
 JSR Z1688
 BRA Z1AF7

SIZE LDX #Z169B
 JSR Z1688
 LDX #Z00FA
 JSR OUT4HS
 JMP Z17BC

Z1B33 FCB $4C,$49,$04,$54,$04,$45,$4D,$20
 FCB $44,$49,$41,$47,$4E,$4F,$53,$54
 FCB $49,$43,$20,$28,$4A,$4F,$48,$4E
 FCB $20,$43,$48,$52,$49,$53,$54,$45
 FCB $4E,$53,$45,$4E,$27,$53,$29,$04
 FCB $04,$01,$08,$01,$09,$12,$10,$10
 FCB $14,$12,$1A,$12,$1A,$12,$92,$1A
 FCB $04,$16,$12,$10,$12,$01,$00,$00
 FCB $04,$01,$01,$00,$00,$01,$04
Z1B7A FCB $30,$04
Z1B7C FCB $30,$30,$31,$30,$20,$A0
 FCB $A1

Z1B8C  EQU $1B8C
Z1FD0  EQU $1FD0
Z1FE7  EQU $1FE7
Z1FE8  EQU $1FE8

*io locations
MPC    EQU $8004
MPLA   EQU $801C

*monitor scratchpad ram
SPSAVE EQU $A008
MONSP  EQU $A040
MONPC  EQU $A046
MONSTK EQU $A047

*monitor calls
OUTCH  EQU $E075
INCH   EQU $E078
PDATA1 EQU $E07E
OUT4HS EQU $E0C8
MIKBUG EQU $E0D0
CONTRL EQU $E0E3
INEEE  EQU $E1AC
OUTEEE EQU $E1D1

 END
