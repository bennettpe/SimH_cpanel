
set console -n -q log=console.txt 
set debug -n -q debug.txt

set bootrom 2708
attach bootrom swtbug.bin
set cpu hex
set cpu itrap
set cpu mtrap
set cpu nodebug
set mp-b2 bd0, bd1, bd2, bd3, bd4, bd5
reset

; start SWTBUG
echo
go until "$"

; Flight Simulator program taken from 
; A Microcomputer Implementation of a Flight Simulator Visual Displ.pdf 
; https://stars.library.ucf.edu/cgi/viewcontent.cgi?article=1401&context=rtd

; power on gt6144 terminal
set gt6144 on

; load subLogic 3D Graphics package for M6800 by bruce Artwick
; load 3DG68.LST
att ptr 3DG68.S19
send "L"
go until "$"

; load sublogic scenery
att ptr scen_subLogic_Airfield.s19 
send "L"
go until "$"

; load Parsons Field scenery
att ptr scen_Parsons_Field.s19 
send "L"
go until "$"

; load flightsim prog
; load FlightSim_m6800.LST
att ptr FlightSim_m6800.s19  
send "L"
go until "$"


; set real time speed for m6800 cpu
; cpu performance: 0.5 MIPS -> 500.000 inst/sec -> 5000 instr/10msec
 set throttle 5000/10

send "G"

go until "?"
send "2"

; set cpu debug=symb;inst

go

:end
